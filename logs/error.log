[07-Oct-2025 19:41:04 UTC] Koneksi database berhasil
[07-Oct-2025 19:41:04 UTC] Jumlah data di tabel prices: 17
[07-Oct-2025 19:41:04 UTC] Jumlah data di tabel commodities: 44
[07-Oct-2025 19:41:04 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[07-Oct-2025 19:41:04 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 2
)

[07-Oct-2025 19:41:04 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 19:41:04 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 19:41:04 UTC] Hasil getTopIncreasingPrices: Array
(
)

[07-Oct-2025 19:41:04 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[07-Oct-2025 19:41:04 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[07-Oct-2025 19:41:04 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 19:41:04 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 19:41:04 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[07-Oct-2025 19:41:04 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[07-Oct-2025 19:41:04 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 19:41:04 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 19:41:04 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[07-Oct-2025 19:41:04 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[07-Oct-2025 19:41:04 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 19:41:04 UTC] Error getting stable prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 19:41:04 UTC] Koneksi database berhasil
[07-Oct-2025 19:41:04 UTC] Jumlah data di tabel prices: 17
[07-Oct-2025 19:41:04 UTC] Jumlah data di tabel commodities: 44
[07-Oct-2025 19:41:04 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[07-Oct-2025 19:41:04 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 2
)

[07-Oct-2025 19:41:04 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 19:41:04 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 19:41:04 UTC] Hasil getTopIncreasingPrices: Array
(
)

[07-Oct-2025 19:41:04 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[07-Oct-2025 19:41:04 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[07-Oct-2025 19:41:04 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 19:41:04 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 19:41:04 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[07-Oct-2025 19:41:04 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[07-Oct-2025 19:41:04 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 19:41:04 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 19:41:04 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[07-Oct-2025 19:41:04 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[07-Oct-2025 19:41:04 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 19:41:04 UTC] Error getting stable prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:26:53 UTC] Koneksi database berhasil
[07-Oct-2025 20:26:53 UTC] Jumlah data di tabel prices: 17
[07-Oct-2025 20:26:53 UTC] Jumlah data di tabel commodities: 44
[07-Oct-2025 20:26:53 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[07-Oct-2025 20:26:53 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 2
)

[07-Oct-2025 20:26:53 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:26:53 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:26:53 UTC] Hasil getTopIncreasingPrices: Array
(
)

[07-Oct-2025 20:26:53 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[07-Oct-2025 20:26:53 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[07-Oct-2025 20:26:53 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:26:53 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:26:53 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[07-Oct-2025 20:26:53 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[07-Oct-2025 20:26:53 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:26:53 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:26:53 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[07-Oct-2025 20:26:53 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[07-Oct-2025 20:26:53 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:26:53 UTC] Error getting stable prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:26:53 UTC] Koneksi database berhasil
[07-Oct-2025 20:26:53 UTC] Jumlah data di tabel prices: 17
[07-Oct-2025 20:26:53 UTC] Jumlah data di tabel commodities: 44
[07-Oct-2025 20:26:53 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[07-Oct-2025 20:26:53 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 2
)

[07-Oct-2025 20:26:53 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:26:53 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:26:53 UTC] Hasil getTopIncreasingPrices: Array
(
)

[07-Oct-2025 20:26:53 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[07-Oct-2025 20:26:53 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[07-Oct-2025 20:26:53 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:26:53 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:26:53 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[07-Oct-2025 20:26:53 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[07-Oct-2025 20:26:53 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:26:53 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:26:53 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[07-Oct-2025 20:26:53 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[07-Oct-2025 20:26:53 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:26:53 UTC] Error getting stable prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:27:32 UTC] Koneksi database berhasil
[07-Oct-2025 20:27:32 UTC] Jumlah data di tabel prices: 17
[07-Oct-2025 20:27:32 UTC] Jumlah data di tabel commodities: 44
[07-Oct-2025 20:27:32 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[07-Oct-2025 20:27:32 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 2
)

[07-Oct-2025 20:27:32 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:27:32 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:27:32 UTC] Hasil getTopIncreasingPrices: Array
(
)

[07-Oct-2025 20:27:32 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[07-Oct-2025 20:27:32 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[07-Oct-2025 20:27:32 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:27:32 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:27:32 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[07-Oct-2025 20:27:32 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[07-Oct-2025 20:27:32 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:27:32 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:27:32 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[07-Oct-2025 20:27:32 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[07-Oct-2025 20:27:32 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:27:32 UTC] Error getting stable prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:27:32 UTC] Koneksi database berhasil
[07-Oct-2025 20:27:32 UTC] Jumlah data di tabel prices: 17
[07-Oct-2025 20:27:32 UTC] Jumlah data di tabel commodities: 44
[07-Oct-2025 20:27:32 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[07-Oct-2025 20:27:32 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 2
)

[07-Oct-2025 20:27:32 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:27:32 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:27:32 UTC] Hasil getTopIncreasingPrices: Array
(
)

[07-Oct-2025 20:27:32 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[07-Oct-2025 20:27:32 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[07-Oct-2025 20:27:32 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:27:32 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:27:32 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[07-Oct-2025 20:27:32 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[07-Oct-2025 20:27:32 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:27:32 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:27:32 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[07-Oct-2025 20:27:32 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[07-Oct-2025 20:27:32 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:27:32 UTC] Error getting stable prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:28:38 UTC] Koneksi database berhasil
[07-Oct-2025 20:28:38 UTC] Jumlah data di tabel prices: 17
[07-Oct-2025 20:28:38 UTC] Jumlah data di tabel commodities: 44
[07-Oct-2025 20:28:38 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[07-Oct-2025 20:28:38 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 2
)

[07-Oct-2025 20:28:38 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:28:38 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:28:38 UTC] Hasil getTopIncreasingPrices: Array
(
)

[07-Oct-2025 20:28:38 UTC] Error getting latest commodity prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:28:38 UTC] Latest commodity prices: Array
(
)

[07-Oct-2025 20:28:38 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[07-Oct-2025 20:28:38 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[07-Oct-2025 20:28:38 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:28:38 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:28:38 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[07-Oct-2025 20:28:38 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[07-Oct-2025 20:28:38 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:28:38 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:28:38 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[07-Oct-2025 20:28:38 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[07-Oct-2025 20:28:38 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:28:38 UTC] Error getting stable prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:28:39 UTC] Koneksi database berhasil
[07-Oct-2025 20:28:39 UTC] Jumlah data di tabel prices: 17
[07-Oct-2025 20:28:39 UTC] Jumlah data di tabel commodities: 44
[07-Oct-2025 20:28:39 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[07-Oct-2025 20:28:39 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 2
)

[07-Oct-2025 20:28:39 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:28:39 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:28:39 UTC] Hasil getTopIncreasingPrices: Array
(
)

[07-Oct-2025 20:28:39 UTC] Error getting latest commodity prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:28:39 UTC] Latest commodity prices: Array
(
)

[07-Oct-2025 20:28:39 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[07-Oct-2025 20:28:39 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[07-Oct-2025 20:28:39 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:28:39 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:28:39 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[07-Oct-2025 20:28:39 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[07-Oct-2025 20:28:39 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:28:39 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:28:39 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[07-Oct-2025 20:28:39 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[07-Oct-2025 20:28:39 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:28:39 UTC] Error getting stable prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:28:45 UTC] Koneksi database berhasil
[07-Oct-2025 20:28:45 UTC] Jumlah data di tabel prices: 17
[07-Oct-2025 20:28:45 UTC] Jumlah data di tabel commodities: 44
[07-Oct-2025 20:28:45 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[07-Oct-2025 20:28:45 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 2
)

[07-Oct-2025 20:28:45 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:28:45 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:28:45 UTC] Hasil getTopIncreasingPrices: Array
(
)

[07-Oct-2025 20:28:45 UTC] Error getting latest commodity prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:28:45 UTC] Latest commodity prices: Array
(
)

[07-Oct-2025 20:28:45 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[07-Oct-2025 20:28:45 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[07-Oct-2025 20:28:45 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:28:45 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:28:45 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[07-Oct-2025 20:28:45 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[07-Oct-2025 20:28:45 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:28:45 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:28:45 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[07-Oct-2025 20:28:45 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[07-Oct-2025 20:28:45 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:28:45 UTC] Error getting stable prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:28:46 UTC] Koneksi database berhasil
[07-Oct-2025 20:28:46 UTC] Jumlah data di tabel prices: 17
[07-Oct-2025 20:28:46 UTC] Jumlah data di tabel commodities: 44
[07-Oct-2025 20:28:46 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[07-Oct-2025 20:28:46 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 2
)

[07-Oct-2025 20:28:46 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:28:46 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:28:46 UTC] Hasil getTopIncreasingPrices: Array
(
)

[07-Oct-2025 20:28:46 UTC] Error getting latest commodity prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:28:46 UTC] Latest commodity prices: Array
(
)

[07-Oct-2025 20:28:46 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[07-Oct-2025 20:28:46 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[07-Oct-2025 20:28:46 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:28:46 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:28:46 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[07-Oct-2025 20:28:46 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[07-Oct-2025 20:28:46 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:28:46 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:28:46 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[07-Oct-2025 20:28:46 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[07-Oct-2025 20:28:46 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:28:46 UTC] Error getting stable prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:28:50 UTC] Koneksi database berhasil
[07-Oct-2025 20:28:50 UTC] Jumlah data di tabel prices: 17
[07-Oct-2025 20:28:50 UTC] Jumlah data di tabel commodities: 44
[07-Oct-2025 20:28:50 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[07-Oct-2025 20:28:50 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 2
)

[07-Oct-2025 20:28:50 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:28:50 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:28:50 UTC] Hasil getTopIncreasingPrices: Array
(
)

[07-Oct-2025 20:28:50 UTC] Error getting latest commodity prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:28:50 UTC] Latest commodity prices: Array
(
)

[07-Oct-2025 20:28:50 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[07-Oct-2025 20:28:50 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[07-Oct-2025 20:28:50 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:28:50 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:28:50 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[07-Oct-2025 20:28:50 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[07-Oct-2025 20:28:50 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:28:50 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:28:50 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[07-Oct-2025 20:28:50 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[07-Oct-2025 20:28:50 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:28:50 UTC] Error getting stable prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:32:16 UTC] Koneksi database berhasil
[07-Oct-2025 20:32:16 UTC] Jumlah data di tabel prices: 17
[07-Oct-2025 20:32:16 UTC] Jumlah data di tabel commodities: 44
[07-Oct-2025 20:32:16 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[07-Oct-2025 20:32:16 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 2
)

[07-Oct-2025 20:32:16 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:32:16 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:32:16 UTC] Hasil getTopIncreasingPrices: Array
(
)

[07-Oct-2025 20:32:16 UTC] Error getting latest commodity prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:32:16 UTC] Latest commodity prices: Array
(
)

[07-Oct-2025 20:32:16 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[07-Oct-2025 20:32:16 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[07-Oct-2025 20:32:16 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:32:16 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:32:16 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[07-Oct-2025 20:32:16 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[07-Oct-2025 20:32:16 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:32:16 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:32:16 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[07-Oct-2025 20:32:16 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[07-Oct-2025 20:32:16 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:32:16 UTC] Error getting stable prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:32:17 UTC] Koneksi database berhasil
[07-Oct-2025 20:32:17 UTC] Jumlah data di tabel prices: 17
[07-Oct-2025 20:32:17 UTC] Jumlah data di tabel commodities: 44
[07-Oct-2025 20:32:17 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[07-Oct-2025 20:32:17 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 2
)

[07-Oct-2025 20:32:17 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:32:17 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:32:17 UTC] Hasil getTopIncreasingPrices: Array
(
)

[07-Oct-2025 20:32:17 UTC] Error getting latest commodity prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:32:17 UTC] Latest commodity prices: Array
(
)

[07-Oct-2025 20:32:17 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[07-Oct-2025 20:32:17 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[07-Oct-2025 20:32:17 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:32:17 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:32:17 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[07-Oct-2025 20:32:17 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[07-Oct-2025 20:32:17 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:32:17 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:32:17 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[07-Oct-2025 20:32:17 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[07-Oct-2025 20:32:17 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:32:17 UTC] Error getting stable prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:32:39 UTC] Koneksi database berhasil
[07-Oct-2025 20:32:39 UTC] Jumlah data di tabel prices: 17
[07-Oct-2025 20:32:39 UTC] Jumlah data di tabel commodities: 44
[07-Oct-2025 20:32:39 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[07-Oct-2025 20:32:39 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 2
)

[07-Oct-2025 20:32:39 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:32:39 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:32:39 UTC] Hasil getTopIncreasingPrices: Array
(
)

[07-Oct-2025 20:32:39 UTC] Error getting latest commodity prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:32:39 UTC] Latest commodity prices: Array
(
)

[07-Oct-2025 20:32:39 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[07-Oct-2025 20:32:39 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[07-Oct-2025 20:32:39 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:32:39 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:32:39 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[07-Oct-2025 20:32:39 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[07-Oct-2025 20:32:39 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:32:39 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:32:39 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[07-Oct-2025 20:32:39 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[07-Oct-2025 20:32:39 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:32:39 UTC] Error getting stable prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:32:40 UTC] Koneksi database berhasil
[07-Oct-2025 20:32:40 UTC] Jumlah data di tabel prices: 17
[07-Oct-2025 20:32:40 UTC] Jumlah data di tabel commodities: 44
[07-Oct-2025 20:32:40 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[07-Oct-2025 20:32:40 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 2
)

[07-Oct-2025 20:32:40 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:32:40 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:32:40 UTC] Hasil getTopIncreasingPrices: Array
(
)

[07-Oct-2025 20:32:40 UTC] Error getting latest commodity prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:32:40 UTC] Latest commodity prices: Array
(
)

[07-Oct-2025 20:32:40 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[07-Oct-2025 20:32:40 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[07-Oct-2025 20:32:40 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:32:40 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:32:40 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[07-Oct-2025 20:32:40 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[07-Oct-2025 20:32:40 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:32:40 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:32:40 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[07-Oct-2025 20:32:40 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[07-Oct-2025 20:32:40 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:32:40 UTC] Error getting stable prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:34:11 UTC] Koneksi database berhasil
[07-Oct-2025 20:34:11 UTC] Jumlah data di tabel prices: 17
[07-Oct-2025 20:34:11 UTC] Jumlah data di tabel commodities: 44
[07-Oct-2025 20:34:11 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[07-Oct-2025 20:34:11 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 2
)

[07-Oct-2025 20:34:11 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:34:11 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:34:11 UTC] Hasil getTopIncreasingPrices: Array
(
)

[07-Oct-2025 20:34:11 UTC] Error getting latest commodity prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:34:11 UTC] Latest commodity prices: Array
(
)

[07-Oct-2025 20:34:11 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[07-Oct-2025 20:34:11 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[07-Oct-2025 20:34:11 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:34:11 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:34:11 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[07-Oct-2025 20:34:11 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[07-Oct-2025 20:34:11 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:34:11 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:34:11 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[07-Oct-2025 20:34:11 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[07-Oct-2025 20:34:11 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:34:11 UTC] Error getting stable prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:34:11 UTC] Koneksi database berhasil
[07-Oct-2025 20:34:11 UTC] Jumlah data di tabel prices: 17
[07-Oct-2025 20:34:11 UTC] Jumlah data di tabel commodities: 44
[07-Oct-2025 20:34:11 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[07-Oct-2025 20:34:11 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 2
)

[07-Oct-2025 20:34:11 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:34:11 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:34:11 UTC] Hasil getTopIncreasingPrices: Array
(
)

[07-Oct-2025 20:34:11 UTC] Error getting latest commodity prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:34:11 UTC] Latest commodity prices: Array
(
)

[07-Oct-2025 20:34:11 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[07-Oct-2025 20:34:11 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[07-Oct-2025 20:34:11 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:34:11 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:34:11 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[07-Oct-2025 20:34:11 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[07-Oct-2025 20:34:11 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:34:11 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:34:11 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[07-Oct-2025 20:34:11 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[07-Oct-2025 20:34:11 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:34:11 UTC] Error getting stable prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:36:11 UTC] Koneksi database berhasil
[07-Oct-2025 20:36:11 UTC] Jumlah data di tabel prices: 17
[07-Oct-2025 20:36:11 UTC] Jumlah data di tabel commodities: 44
[07-Oct-2025 20:36:11 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[07-Oct-2025 20:36:11 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 2
)

[07-Oct-2025 20:36:11 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:36:11 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:36:11 UTC] Hasil getTopIncreasingPrices: Array
(
)

[07-Oct-2025 20:36:11 UTC] Error getting latest commodity prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:36:11 UTC] Tidak ada data komoditas yang ditemukan
[07-Oct-2025 20:36:11 UTC] Sample data from commodities table: Array
(
    [0] => Array
        (
            [id] => 75
            [name] => Minyak Goreng Minyak Kita
            [unit] => L
            [image_path] => commodity_68dfbe7186d43.png
            [kategori] => 
            [created_at] => 2025-10-03 19:15:45
            [chart_color] => #3498db
        )

    [1] => Array
        (
            [id] => 76
            [name] => Daging Sapi Has Dalam / Super
            [unit] => KG
            [image_path] => commodity_68dfbea74a295.png
            [kategori] => 
            [created_at] => 2025-10-03 19:16:39
            [chart_color] => #3498db
        )

    [2] => Array
        (
            [id] => 77
            [name] => Daging Tetelan
            [unit] => KG
            [image_path] => commodity_68dfbebd56186.png
            [kategori] => 
            [created_at] => 2025-10-03 19:17:01
            [chart_color] => #3498db
        )

    [3] => Array
        (
            [id] => 78
            [name] => Daging Ayam Ras
            [unit] => KG
            [image_path] => commodity_68dfbed316544.png
            [kategori] => 
            [created_at] => 2025-10-03 19:17:23
            [chart_color] => #3498db
        )

    [4] => Array
        (
            [id] => 79
            [name] => Daging Ayam Kampung
            [unit] => KG
            [image_path] => commodity_68dfbee813246.png
            [kategori] => 
            [created_at] => 2025-10-03 19:17:44
            [chart_color] => #3498db
        )

)

[07-Oct-2025 20:36:11 UTC] Query Error: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'date' in 'order clause'
SQL: SELECT * FROM prices ORDER BY date DESC LIMIT 5
[07-Oct-2025 20:36:11 UTC] PHP Fatal error:  Uncaught PDOException: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'date' in 'order clause' in C:\laragon\www\SIAGABAPOK\Siaga_bapok\src\models\Database.php:73
Stack trace:
#0 C:\laragon\www\SIAGABAPOK\Siaga_bapok\src\models\Database.php(73): PDO->prepare('SELECT * FROM p...')
#1 C:\laragon\www\SIAGABAPOK\Siaga_bapok\src\models\Database.php(97): Database->query('SELECT * FROM p...', Array)
#2 C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php(83): Database->fetchAll('SELECT * FROM p...')
#3 {main}
  thrown in C:\laragon\www\SIAGABAPOK\Siaga_bapok\src\models\Database.php on line 73
[07-Oct-2025 20:36:49 UTC] Koneksi database berhasil
[07-Oct-2025 20:36:49 UTC] Jumlah data di tabel prices: 17
[07-Oct-2025 20:36:49 UTC] Jumlah data di tabel commodities: 44
[07-Oct-2025 20:36:49 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[07-Oct-2025 20:36:49 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 2
)

[07-Oct-2025 20:36:49 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:36:49 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:36:49 UTC] Hasil getTopIncreasingPrices: Array
(
)

[07-Oct-2025 20:36:49 UTC] Error getting latest commodity prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:36:49 UTC] Tidak ada data komoditas yang ditemukan
[07-Oct-2025 20:36:49 UTC] Sample data from commodities table: Array
(
    [0] => Array
        (
            [id] => 75
            [name] => Minyak Goreng Minyak Kita
            [unit] => L
            [image_path] => commodity_68dfbe7186d43.png
            [kategori] => 
            [created_at] => 2025-10-03 19:15:45
            [chart_color] => #3498db
        )

    [1] => Array
        (
            [id] => 76
            [name] => Daging Sapi Has Dalam / Super
            [unit] => KG
            [image_path] => commodity_68dfbea74a295.png
            [kategori] => 
            [created_at] => 2025-10-03 19:16:39
            [chart_color] => #3498db
        )

    [2] => Array
        (
            [id] => 77
            [name] => Daging Tetelan
            [unit] => KG
            [image_path] => commodity_68dfbebd56186.png
            [kategori] => 
            [created_at] => 2025-10-03 19:17:01
            [chart_color] => #3498db
        )

    [3] => Array
        (
            [id] => 78
            [name] => Daging Ayam Ras
            [unit] => KG
            [image_path] => commodity_68dfbed316544.png
            [kategori] => 
            [created_at] => 2025-10-03 19:17:23
            [chart_color] => #3498db
        )

    [4] => Array
        (
            [id] => 79
            [name] => Daging Ayam Kampung
            [unit] => KG
            [image_path] => commodity_68dfbee813246.png
            [kategori] => 
            [created_at] => 2025-10-03 19:17:44
            [chart_color] => #3498db
        )

)

[07-Oct-2025 20:36:49 UTC] Sample data from prices table: Array
(
    [0] => Array
        (
            [id] => 1473
            [commodity_id] => 89
            [price] => 40000.00
            [market_id] => 1
            [uptd_user_id] => 2
            [status] => approved
            [approved_by] => 1
            [approved_at] => 2025-10-07 23:45:40
            [notes] => 
            [created_at] => 2025-10-07 16:45:26
            [updated_at] => 2025-10-07 23:45:40
        )

    [1] => Array
        (
            [id] => 1472
            [commodity_id] => 87
            [price] => 50000.00
            [market_id] => 1
            [uptd_user_id] => 2
            [status] => approved
            [approved_by] => 1
            [approved_at] => 2025-10-07 23:45:43
            [notes] => 
            [created_at] => 2025-10-07 16:45:05
            [updated_at] => 2025-10-07 23:45:43
        )

    [2] => Array
        (
            [id] => 1471
            [commodity_id] => 96
            [price] => 9000.00
            [market_id] => 1
            [uptd_user_id] => 2
            [status] => approved
            [approved_by] => 1
            [approved_at] => 2025-10-07 16:00:39
            [notes] => 
            [created_at] => 2025-10-07 08:57:47
            [updated_at] => 2025-10-07 16:00:39
        )

    [3] => Array
        (
            [id] => 1470
            [commodity_id] => 111
            [price] => 12000.00
            [market_id] => 1
            [uptd_user_id] => 2
            [status] => approved
            [approved_by] => 1
            [approved_at] => 2025-10-07 16:00:39
            [notes] => 
            [created_at] => 2025-10-07 08:57:34
            [updated_at] => 2025-10-07 16:00:39
        )

    [4] => Array
        (
            [id] => 1469
            [commodity_id] => 112
            [price] => 15000.00
            [market_id] => 1
            [uptd_user_id] => 2
            [status] => approved
            [approved_by] => 1
            [approved_at] => 2025-10-07 16:00:39
            [notes] => 
            [created_at] => 2025-10-07 08:57:21
            [updated_at] => 2025-10-07 16:00:39
        )

)

[07-Oct-2025 20:36:49 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[07-Oct-2025 20:36:49 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[07-Oct-2025 20:36:49 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:36:49 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:36:49 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[07-Oct-2025 20:36:49 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[07-Oct-2025 20:36:49 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:36:49 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:36:49 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[07-Oct-2025 20:36:49 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[07-Oct-2025 20:36:49 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:36:49 UTC] Error getting stable prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:36:50 UTC] Koneksi database berhasil
[07-Oct-2025 20:36:50 UTC] Jumlah data di tabel prices: 17
[07-Oct-2025 20:36:50 UTC] Jumlah data di tabel commodities: 44
[07-Oct-2025 20:36:50 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[07-Oct-2025 20:36:50 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 2
)

[07-Oct-2025 20:36:50 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:36:50 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:36:50 UTC] Hasil getTopIncreasingPrices: Array
(
)

[07-Oct-2025 20:36:50 UTC] Error getting latest commodity prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:36:50 UTC] Tidak ada data komoditas yang ditemukan
[07-Oct-2025 20:36:50 UTC] Sample data from commodities table: Array
(
    [0] => Array
        (
            [id] => 75
            [name] => Minyak Goreng Minyak Kita
            [unit] => L
            [image_path] => commodity_68dfbe7186d43.png
            [kategori] => 
            [created_at] => 2025-10-03 19:15:45
            [chart_color] => #3498db
        )

    [1] => Array
        (
            [id] => 76
            [name] => Daging Sapi Has Dalam / Super
            [unit] => KG
            [image_path] => commodity_68dfbea74a295.png
            [kategori] => 
            [created_at] => 2025-10-03 19:16:39
            [chart_color] => #3498db
        )

    [2] => Array
        (
            [id] => 77
            [name] => Daging Tetelan
            [unit] => KG
            [image_path] => commodity_68dfbebd56186.png
            [kategori] => 
            [created_at] => 2025-10-03 19:17:01
            [chart_color] => #3498db
        )

    [3] => Array
        (
            [id] => 78
            [name] => Daging Ayam Ras
            [unit] => KG
            [image_path] => commodity_68dfbed316544.png
            [kategori] => 
            [created_at] => 2025-10-03 19:17:23
            [chart_color] => #3498db
        )

    [4] => Array
        (
            [id] => 79
            [name] => Daging Ayam Kampung
            [unit] => KG
            [image_path] => commodity_68dfbee813246.png
            [kategori] => 
            [created_at] => 2025-10-03 19:17:44
            [chart_color] => #3498db
        )

)

[07-Oct-2025 20:36:50 UTC] Sample data from prices table: Array
(
    [0] => Array
        (
            [id] => 1473
            [commodity_id] => 89
            [price] => 40000.00
            [market_id] => 1
            [uptd_user_id] => 2
            [status] => approved
            [approved_by] => 1
            [approved_at] => 2025-10-07 23:45:40
            [notes] => 
            [created_at] => 2025-10-07 16:45:26
            [updated_at] => 2025-10-07 23:45:40
        )

    [1] => Array
        (
            [id] => 1472
            [commodity_id] => 87
            [price] => 50000.00
            [market_id] => 1
            [uptd_user_id] => 2
            [status] => approved
            [approved_by] => 1
            [approved_at] => 2025-10-07 23:45:43
            [notes] => 
            [created_at] => 2025-10-07 16:45:05
            [updated_at] => 2025-10-07 23:45:43
        )

    [2] => Array
        (
            [id] => 1471
            [commodity_id] => 96
            [price] => 9000.00
            [market_id] => 1
            [uptd_user_id] => 2
            [status] => approved
            [approved_by] => 1
            [approved_at] => 2025-10-07 16:00:39
            [notes] => 
            [created_at] => 2025-10-07 08:57:47
            [updated_at] => 2025-10-07 16:00:39
        )

    [3] => Array
        (
            [id] => 1470
            [commodity_id] => 111
            [price] => 12000.00
            [market_id] => 1
            [uptd_user_id] => 2
            [status] => approved
            [approved_by] => 1
            [approved_at] => 2025-10-07 16:00:39
            [notes] => 
            [created_at] => 2025-10-07 08:57:34
            [updated_at] => 2025-10-07 16:00:39
        )

    [4] => Array
        (
            [id] => 1469
            [commodity_id] => 112
            [price] => 15000.00
            [market_id] => 1
            [uptd_user_id] => 2
            [status] => approved
            [approved_by] => 1
            [approved_at] => 2025-10-07 16:00:39
            [notes] => 
            [created_at] => 2025-10-07 08:57:21
            [updated_at] => 2025-10-07 16:00:39
        )

)

[07-Oct-2025 20:36:50 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[07-Oct-2025 20:36:50 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[07-Oct-2025 20:36:50 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:36:50 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:36:50 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[07-Oct-2025 20:36:50 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[07-Oct-2025 20:36:50 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:36:50 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:36:50 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[07-Oct-2025 20:36:50 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[07-Oct-2025 20:36:50 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:36:50 UTC] Error getting stable prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:38:16 UTC] Koneksi database berhasil
[07-Oct-2025 20:38:16 UTC] Jumlah data di tabel prices: 17
[07-Oct-2025 20:38:16 UTC] Jumlah data di tabel commodities: 44
[07-Oct-2025 20:38:16 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[07-Oct-2025 20:38:16 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 2
)

[07-Oct-2025 20:38:16 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:38:16 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:38:16 UTC] Hasil getTopIncreasingPrices: Array
(
)

[07-Oct-2025 20:38:16 UTC] Latest commodity prices query results: Array
(
    [0] => Array
        (
            [id] => 87
            [commodity_name] => Bawang Bombay
            [unit] => KG
            [image] => 
            [latest_price] => 50000.00
            [created_at] => 2025-10-07 16:45:05
        )

    [1] => Array
        (
            [id] => 89
            [commodity_name] => Bawang Merah
            [unit] => KG
            [image] => 
            [latest_price] => 40000.00
            [created_at] => 2025-10-07 16:45:26
        )

    [2] => Array
        (
            [id] => 86
            [commodity_name] => Bawang Putih Honan
            [unit] => KG
            [image] => 
            [latest_price] => 25000.00
            [created_at] => 2025-10-05 15:18:34
        )

    [3] => Array
        (
            [id] => 94
            [commodity_name] => Beras Premium - SJ
            [unit] => KG
            [image] => 
            [latest_price] => 12000.00
            [created_at] => 2025-10-04 11:06:44
        )

    [4] => Array
        (
            [id] => 84
            [commodity_name] => Cabai Rawit Lokal
            [unit] => KG
            [image] => 
            [latest_price] => 95000.00
            [created_at] => 2025-10-05 15:18:15
        )

    [5] => Array
        (
            [id] => 79
            [commodity_name] => Daging Ayam Kampung
            [unit] => KG
            [image] => 
            [latest_price] => 25500.00
            [created_at] => 2025-10-05 15:18:53
        )

    [6] => Array
        (
            [id] => 96
            [commodity_name] => Garam Halus
            [unit] => KG
            [image] => 
            [latest_price] => 9000.00
            [created_at] => 2025-10-07 08:57:47
        )

    [7] => Array
        (
            [id] => 112
            [commodity_name] => Timun (uk. Sedang)
            [unit] => KG
            [image] => 
            [latest_price] => 15000.00
            [created_at] => 2025-10-07 08:57:21
        )

    [8] => Array
        (
            [id] => 111
            [commodity_name] => Tomat
            [unit] => KG
            [image] => 
            [latest_price] => 12000.00
            [created_at] => 2025-10-07 08:57:34
        )

)

[07-Oct-2025 20:38:16 UTC] Data komoditas ditemukan: 9 item
[07-Oct-2025 20:38:16 UTC] Sample data: Array
(
    [0] => Array
        (
            [id] => 87
            [commodity_name] => Bawang Bombay
            [unit] => KG
            [image] => 
            [latest_price] => 50000.00
            [created_at] => 2025-10-07 16:45:05
        )

)

[07-Oct-2025 20:38:16 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[07-Oct-2025 20:38:16 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[07-Oct-2025 20:38:16 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:38:16 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:38:16 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[07-Oct-2025 20:38:16 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[07-Oct-2025 20:38:16 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:38:16 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:38:16 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[07-Oct-2025 20:38:16 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[07-Oct-2025 20:38:16 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:38:16 UTC] Error getting stable prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:38:17 UTC] Koneksi database berhasil
[07-Oct-2025 20:38:17 UTC] Jumlah data di tabel prices: 17
[07-Oct-2025 20:38:17 UTC] Jumlah data di tabel commodities: 44
[07-Oct-2025 20:38:17 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[07-Oct-2025 20:38:17 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 2
)

[07-Oct-2025 20:38:17 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:38:17 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:38:17 UTC] Hasil getTopIncreasingPrices: Array
(
)

[07-Oct-2025 20:38:17 UTC] Latest commodity prices query results: Array
(
    [0] => Array
        (
            [id] => 87
            [commodity_name] => Bawang Bombay
            [unit] => KG
            [image] => 
            [latest_price] => 50000.00
            [created_at] => 2025-10-07 16:45:05
        )

    [1] => Array
        (
            [id] => 89
            [commodity_name] => Bawang Merah
            [unit] => KG
            [image] => 
            [latest_price] => 40000.00
            [created_at] => 2025-10-07 16:45:26
        )

    [2] => Array
        (
            [id] => 86
            [commodity_name] => Bawang Putih Honan
            [unit] => KG
            [image] => 
            [latest_price] => 25000.00
            [created_at] => 2025-10-05 15:18:34
        )

    [3] => Array
        (
            [id] => 94
            [commodity_name] => Beras Premium - SJ
            [unit] => KG
            [image] => 
            [latest_price] => 12000.00
            [created_at] => 2025-10-04 11:06:44
        )

    [4] => Array
        (
            [id] => 84
            [commodity_name] => Cabai Rawit Lokal
            [unit] => KG
            [image] => 
            [latest_price] => 95000.00
            [created_at] => 2025-10-05 15:18:15
        )

    [5] => Array
        (
            [id] => 79
            [commodity_name] => Daging Ayam Kampung
            [unit] => KG
            [image] => 
            [latest_price] => 25500.00
            [created_at] => 2025-10-05 15:18:53
        )

    [6] => Array
        (
            [id] => 96
            [commodity_name] => Garam Halus
            [unit] => KG
            [image] => 
            [latest_price] => 9000.00
            [created_at] => 2025-10-07 08:57:47
        )

    [7] => Array
        (
            [id] => 112
            [commodity_name] => Timun (uk. Sedang)
            [unit] => KG
            [image] => 
            [latest_price] => 15000.00
            [created_at] => 2025-10-07 08:57:21
        )

    [8] => Array
        (
            [id] => 111
            [commodity_name] => Tomat
            [unit] => KG
            [image] => 
            [latest_price] => 12000.00
            [created_at] => 2025-10-07 08:57:34
        )

)

[07-Oct-2025 20:38:17 UTC] Data komoditas ditemukan: 9 item
[07-Oct-2025 20:38:17 UTC] Sample data: Array
(
    [0] => Array
        (
            [id] => 87
            [commodity_name] => Bawang Bombay
            [unit] => KG
            [image] => 
            [latest_price] => 50000.00
            [created_at] => 2025-10-07 16:45:05
        )

)

[07-Oct-2025 20:38:17 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[07-Oct-2025 20:38:17 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[07-Oct-2025 20:38:17 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:38:17 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:38:17 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[07-Oct-2025 20:38:17 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[07-Oct-2025 20:38:17 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:38:17 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:38:17 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[07-Oct-2025 20:38:17 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[07-Oct-2025 20:38:17 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:38:17 UTC] Error getting stable prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:40:58 UTC] Koneksi database berhasil
[07-Oct-2025 20:40:58 UTC] Jumlah data di tabel prices: 17
[07-Oct-2025 20:40:58 UTC] Jumlah data di tabel commodities: 44
[07-Oct-2025 20:40:58 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[07-Oct-2025 20:40:58 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 2
)

[07-Oct-2025 20:40:58 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:40:58 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:40:58 UTC] Hasil getTopIncreasingPrices: Array
(
)

[07-Oct-2025 20:40:58 UTC] Latest commodity prices query results: Array
(
    [0] => Array
        (
            [id] => 87
            [commodity_name] => Bawang Bombay
            [unit] => KG
            [image] => commodity_68dfbfcbc270b.png
            [latest_price] => 50000.00
            [created_at] => 2025-10-07 16:45:05
        )

    [1] => Array
        (
            [id] => 89
            [commodity_name] => Bawang Merah
            [unit] => KG
            [image] => commodity_68dfbfc0a703b.png
            [latest_price] => 40000.00
            [created_at] => 2025-10-07 16:45:26
        )

    [2] => Array
        (
            [id] => 86
            [commodity_name] => Bawang Putih Honan
            [unit] => KG
            [image] => commodity_68dfbf941713e.png
            [latest_price] => 25000.00
            [created_at] => 2025-10-05 15:18:34
        )

    [3] => Array
        (
            [id] => 94
            [commodity_name] => Beras Premium - SJ
            [unit] => KG
            [image] => commodity_68dfc054a4de7.png
            [latest_price] => 12000.00
            [created_at] => 2025-10-04 11:06:44
        )

    [4] => Array
        (
            [id] => 84
            [commodity_name] => Cabai Rawit Lokal
            [unit] => KG
            [image] => commodity_68dfbf462d57c.png
            [latest_price] => 95000.00
            [created_at] => 2025-10-05 15:18:15
        )

    [5] => Array
        (
            [id] => 79
            [commodity_name] => Daging Ayam Kampung
            [unit] => KG
            [image] => commodity_68dfbee813246.png
            [latest_price] => 25500.00
            [created_at] => 2025-10-05 15:18:53
        )

    [6] => Array
        (
            [id] => 96
            [commodity_name] => Garam Halus
            [unit] => KG
            [image] => commodity_68dfc08a8320d.png
            [latest_price] => 9000.00
            [created_at] => 2025-10-07 08:57:47
        )

    [7] => Array
        (
            [id] => 112
            [commodity_name] => Timun (uk. Sedang)
            [unit] => KG
            [image] => commodity_68dfc2094a459.png
            [latest_price] => 15000.00
            [created_at] => 2025-10-07 08:57:21
        )

    [8] => Array
        (
            [id] => 111
            [commodity_name] => Tomat
            [unit] => KG
            [image] => commodity_68dfc1fee3486.png
            [latest_price] => 12000.00
            [created_at] => 2025-10-07 08:57:34
        )

)

[07-Oct-2025 20:40:58 UTC] Data komoditas ditemukan: 9 item
[07-Oct-2025 20:40:58 UTC] Sample data: Array
(
    [0] => Array
        (
            [id] => 87
            [commodity_name] => Bawang Bombay
            [unit] => KG
            [image] => commodity_68dfbfcbc270b.png
            [latest_price] => 50000.00
            [created_at] => 2025-10-07 16:45:05
        )

)

[07-Oct-2025 20:40:58 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[07-Oct-2025 20:40:58 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[07-Oct-2025 20:40:58 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:40:58 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:40:58 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[07-Oct-2025 20:40:58 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[07-Oct-2025 20:40:58 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:40:58 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:40:58 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[07-Oct-2025 20:40:58 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[07-Oct-2025 20:40:58 UTC] getStablePrices found 0 results
[07-Oct-2025 20:40:59 UTC] Koneksi database berhasil
[07-Oct-2025 20:40:59 UTC] Jumlah data di tabel prices: 17
[07-Oct-2025 20:40:59 UTC] Jumlah data di tabel commodities: 44
[07-Oct-2025 20:40:59 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[07-Oct-2025 20:40:59 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 2
)

[07-Oct-2025 20:40:59 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:40:59 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:40:59 UTC] Hasil getTopIncreasingPrices: Array
(
)

[07-Oct-2025 20:40:59 UTC] Latest commodity prices query results: Array
(
    [0] => Array
        (
            [id] => 87
            [commodity_name] => Bawang Bombay
            [unit] => KG
            [image] => commodity_68dfbfcbc270b.png
            [latest_price] => 50000.00
            [created_at] => 2025-10-07 16:45:05
        )

    [1] => Array
        (
            [id] => 89
            [commodity_name] => Bawang Merah
            [unit] => KG
            [image] => commodity_68dfbfc0a703b.png
            [latest_price] => 40000.00
            [created_at] => 2025-10-07 16:45:26
        )

    [2] => Array
        (
            [id] => 86
            [commodity_name] => Bawang Putih Honan
            [unit] => KG
            [image] => commodity_68dfbf941713e.png
            [latest_price] => 25000.00
            [created_at] => 2025-10-05 15:18:34
        )

    [3] => Array
        (
            [id] => 94
            [commodity_name] => Beras Premium - SJ
            [unit] => KG
            [image] => commodity_68dfc054a4de7.png
            [latest_price] => 12000.00
            [created_at] => 2025-10-04 11:06:44
        )

    [4] => Array
        (
            [id] => 84
            [commodity_name] => Cabai Rawit Lokal
            [unit] => KG
            [image] => commodity_68dfbf462d57c.png
            [latest_price] => 95000.00
            [created_at] => 2025-10-05 15:18:15
        )

    [5] => Array
        (
            [id] => 79
            [commodity_name] => Daging Ayam Kampung
            [unit] => KG
            [image] => commodity_68dfbee813246.png
            [latest_price] => 25500.00
            [created_at] => 2025-10-05 15:18:53
        )

    [6] => Array
        (
            [id] => 96
            [commodity_name] => Garam Halus
            [unit] => KG
            [image] => commodity_68dfc08a8320d.png
            [latest_price] => 9000.00
            [created_at] => 2025-10-07 08:57:47
        )

    [7] => Array
        (
            [id] => 112
            [commodity_name] => Timun (uk. Sedang)
            [unit] => KG
            [image] => commodity_68dfc2094a459.png
            [latest_price] => 15000.00
            [created_at] => 2025-10-07 08:57:21
        )

    [8] => Array
        (
            [id] => 111
            [commodity_name] => Tomat
            [unit] => KG
            [image] => commodity_68dfc1fee3486.png
            [latest_price] => 12000.00
            [created_at] => 2025-10-07 08:57:34
        )

)

[07-Oct-2025 20:40:59 UTC] Data komoditas ditemukan: 9 item
[07-Oct-2025 20:40:59 UTC] Sample data: Array
(
    [0] => Array
        (
            [id] => 87
            [commodity_name] => Bawang Bombay
            [unit] => KG
            [image] => commodity_68dfbfcbc270b.png
            [latest_price] => 50000.00
            [created_at] => 2025-10-07 16:45:05
        )

)

[07-Oct-2025 20:40:59 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[07-Oct-2025 20:40:59 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[07-Oct-2025 20:40:59 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:40:59 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:40:59 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[07-Oct-2025 20:40:59 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[07-Oct-2025 20:40:59 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:40:59 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:40:59 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[07-Oct-2025 20:40:59 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[07-Oct-2025 20:40:59 UTC] getStablePrices found 0 results
[07-Oct-2025 20:43:50 UTC] Koneksi database berhasil
[07-Oct-2025 20:43:50 UTC] Jumlah data di tabel prices: 17
[07-Oct-2025 20:43:50 UTC] Jumlah data di tabel commodities: 44
[07-Oct-2025 20:43:50 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[07-Oct-2025 20:43:50 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 2
)

[07-Oct-2025 20:43:50 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:43:50 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:43:50 UTC] Hasil getTopIncreasingPrices: Array
(
)

[07-Oct-2025 20:43:50 UTC] Latest commodity prices query results: Array
(
    [0] => Array
        (
            [id] => 87
            [commodity_name] => Bawang Bombay
            [unit] => KG
            [image] => commodity_68dfbfcbc270b.png
            [latest_price] => 50000.00
            [created_at] => 2025-10-07 16:45:05
        )

    [1] => Array
        (
            [id] => 89
            [commodity_name] => Bawang Merah
            [unit] => KG
            [image] => commodity_68dfbfc0a703b.png
            [latest_price] => 40000.00
            [created_at] => 2025-10-07 16:45:26
        )

    [2] => Array
        (
            [id] => 86
            [commodity_name] => Bawang Putih Honan
            [unit] => KG
            [image] => commodity_68dfbf941713e.png
            [latest_price] => 25000.00
            [created_at] => 2025-10-05 15:18:34
        )

    [3] => Array
        (
            [id] => 94
            [commodity_name] => Beras Premium - SJ
            [unit] => KG
            [image] => commodity_68dfc054a4de7.png
            [latest_price] => 12000.00
            [created_at] => 2025-10-04 11:06:44
        )

    [4] => Array
        (
            [id] => 84
            [commodity_name] => Cabai Rawit Lokal
            [unit] => KG
            [image] => commodity_68dfbf462d57c.png
            [latest_price] => 95000.00
            [created_at] => 2025-10-05 15:18:15
        )

    [5] => Array
        (
            [id] => 79
            [commodity_name] => Daging Ayam Kampung
            [unit] => KG
            [image] => commodity_68dfbee813246.png
            [latest_price] => 25500.00
            [created_at] => 2025-10-05 15:18:53
        )

    [6] => Array
        (
            [id] => 96
            [commodity_name] => Garam Halus
            [unit] => KG
            [image] => commodity_68dfc08a8320d.png
            [latest_price] => 9000.00
            [created_at] => 2025-10-07 08:57:47
        )

    [7] => Array
        (
            [id] => 112
            [commodity_name] => Timun (uk. Sedang)
            [unit] => KG
            [image] => commodity_68dfc2094a459.png
            [latest_price] => 15000.00
            [created_at] => 2025-10-07 08:57:21
        )

    [8] => Array
        (
            [id] => 111
            [commodity_name] => Tomat
            [unit] => KG
            [image] => commodity_68dfc1fee3486.png
            [latest_price] => 12000.00
            [created_at] => 2025-10-07 08:57:34
        )

)

[07-Oct-2025 20:43:50 UTC] Data komoditas ditemukan: 9 item
[07-Oct-2025 20:43:50 UTC] Sample data: Array
(
    [0] => Array
        (
            [id] => 87
            [commodity_name] => Bawang Bombay
            [unit] => KG
            [image] => commodity_68dfbfcbc270b.png
            [latest_price] => 50000.00
            [created_at] => 2025-10-07 16:45:05
        )

)

[07-Oct-2025 20:43:50 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[07-Oct-2025 20:43:50 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[07-Oct-2025 20:43:50 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:43:50 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:43:50 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[07-Oct-2025 20:43:50 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[07-Oct-2025 20:43:50 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:43:50 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:43:50 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[07-Oct-2025 20:43:50 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[07-Oct-2025 20:43:50 UTC] getStablePrices found 0 results
[07-Oct-2025 20:43:50 UTC] Koneksi database berhasil
[07-Oct-2025 20:43:50 UTC] Jumlah data di tabel prices: 17
[07-Oct-2025 20:43:50 UTC] Jumlah data di tabel commodities: 44
[07-Oct-2025 20:43:50 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[07-Oct-2025 20:43:50 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 2
)

[07-Oct-2025 20:43:50 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:43:50 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:43:50 UTC] Hasil getTopIncreasingPrices: Array
(
)

[07-Oct-2025 20:43:50 UTC] Latest commodity prices query results: Array
(
    [0] => Array
        (
            [id] => 87
            [commodity_name] => Bawang Bombay
            [unit] => KG
            [image] => commodity_68dfbfcbc270b.png
            [latest_price] => 50000.00
            [created_at] => 2025-10-07 16:45:05
        )

    [1] => Array
        (
            [id] => 89
            [commodity_name] => Bawang Merah
            [unit] => KG
            [image] => commodity_68dfbfc0a703b.png
            [latest_price] => 40000.00
            [created_at] => 2025-10-07 16:45:26
        )

    [2] => Array
        (
            [id] => 86
            [commodity_name] => Bawang Putih Honan
            [unit] => KG
            [image] => commodity_68dfbf941713e.png
            [latest_price] => 25000.00
            [created_at] => 2025-10-05 15:18:34
        )

    [3] => Array
        (
            [id] => 94
            [commodity_name] => Beras Premium - SJ
            [unit] => KG
            [image] => commodity_68dfc054a4de7.png
            [latest_price] => 12000.00
            [created_at] => 2025-10-04 11:06:44
        )

    [4] => Array
        (
            [id] => 84
            [commodity_name] => Cabai Rawit Lokal
            [unit] => KG
            [image] => commodity_68dfbf462d57c.png
            [latest_price] => 95000.00
            [created_at] => 2025-10-05 15:18:15
        )

    [5] => Array
        (
            [id] => 79
            [commodity_name] => Daging Ayam Kampung
            [unit] => KG
            [image] => commodity_68dfbee813246.png
            [latest_price] => 25500.00
            [created_at] => 2025-10-05 15:18:53
        )

    [6] => Array
        (
            [id] => 96
            [commodity_name] => Garam Halus
            [unit] => KG
            [image] => commodity_68dfc08a8320d.png
            [latest_price] => 9000.00
            [created_at] => 2025-10-07 08:57:47
        )

    [7] => Array
        (
            [id] => 112
            [commodity_name] => Timun (uk. Sedang)
            [unit] => KG
            [image] => commodity_68dfc2094a459.png
            [latest_price] => 15000.00
            [created_at] => 2025-10-07 08:57:21
        )

    [8] => Array
        (
            [id] => 111
            [commodity_name] => Tomat
            [unit] => KG
            [image] => commodity_68dfc1fee3486.png
            [latest_price] => 12000.00
            [created_at] => 2025-10-07 08:57:34
        )

)

[07-Oct-2025 20:43:50 UTC] Data komoditas ditemukan: 9 item
[07-Oct-2025 20:43:50 UTC] Sample data: Array
(
    [0] => Array
        (
            [id] => 87
            [commodity_name] => Bawang Bombay
            [unit] => KG
            [image] => commodity_68dfbfcbc270b.png
            [latest_price] => 50000.00
            [created_at] => 2025-10-07 16:45:05
        )

)

[07-Oct-2025 20:43:50 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[07-Oct-2025 20:43:50 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[07-Oct-2025 20:43:50 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:43:50 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:43:50 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[07-Oct-2025 20:43:50 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[07-Oct-2025 20:43:50 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:43:50 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:43:50 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[07-Oct-2025 20:43:50 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[07-Oct-2025 20:43:50 UTC] getStablePrices found 0 results
[07-Oct-2025 20:44:19 UTC] Koneksi database berhasil
[07-Oct-2025 20:44:19 UTC] Jumlah data di tabel prices: 17
[07-Oct-2025 20:44:19 UTC] Jumlah data di tabel commodities: 44
[07-Oct-2025 20:44:19 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[07-Oct-2025 20:44:19 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 2
)

[07-Oct-2025 20:44:19 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:44:19 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:44:19 UTC] Hasil getTopIncreasingPrices: Array
(
)

[07-Oct-2025 20:44:19 UTC] Latest commodity prices query results: Array
(
    [0] => Array
        (
            [id] => 87
            [commodity_name] => Bawang Bombay
            [unit] => KG
            [image] => commodity_68dfbfcbc270b.png
            [latest_price] => 50000.00
            [created_at] => 2025-10-07 16:45:05
        )

    [1] => Array
        (
            [id] => 89
            [commodity_name] => Bawang Merah
            [unit] => KG
            [image] => commodity_68dfbfc0a703b.png
            [latest_price] => 40000.00
            [created_at] => 2025-10-07 16:45:26
        )

    [2] => Array
        (
            [id] => 86
            [commodity_name] => Bawang Putih Honan
            [unit] => KG
            [image] => commodity_68dfbf941713e.png
            [latest_price] => 25000.00
            [created_at] => 2025-10-05 15:18:34
        )

    [3] => Array
        (
            [id] => 94
            [commodity_name] => Beras Premium - SJ
            [unit] => KG
            [image] => commodity_68dfc054a4de7.png
            [latest_price] => 12000.00
            [created_at] => 2025-10-04 11:06:44
        )

    [4] => Array
        (
            [id] => 84
            [commodity_name] => Cabai Rawit Lokal
            [unit] => KG
            [image] => commodity_68dfbf462d57c.png
            [latest_price] => 95000.00
            [created_at] => 2025-10-05 15:18:15
        )

    [5] => Array
        (
            [id] => 79
            [commodity_name] => Daging Ayam Kampung
            [unit] => KG
            [image] => commodity_68dfbee813246.png
            [latest_price] => 25500.00
            [created_at] => 2025-10-05 15:18:53
        )

    [6] => Array
        (
            [id] => 96
            [commodity_name] => Garam Halus
            [unit] => KG
            [image] => commodity_68dfc08a8320d.png
            [latest_price] => 9000.00
            [created_at] => 2025-10-07 08:57:47
        )

    [7] => Array
        (
            [id] => 112
            [commodity_name] => Timun (uk. Sedang)
            [unit] => KG
            [image] => commodity_68dfc2094a459.png
            [latest_price] => 15000.00
            [created_at] => 2025-10-07 08:57:21
        )

    [8] => Array
        (
            [id] => 111
            [commodity_name] => Tomat
            [unit] => KG
            [image] => commodity_68dfc1fee3486.png
            [latest_price] => 12000.00
            [created_at] => 2025-10-07 08:57:34
        )

)

[07-Oct-2025 20:44:19 UTC] Data komoditas ditemukan: 9 item
[07-Oct-2025 20:44:19 UTC] Sample data: Array
(
    [0] => Array
        (
            [id] => 87
            [commodity_name] => Bawang Bombay
            [unit] => KG
            [image] => commodity_68dfbfcbc270b.png
            [latest_price] => 50000.00
            [created_at] => 2025-10-07 16:45:05
        )

)

[07-Oct-2025 20:44:19 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[07-Oct-2025 20:44:19 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[07-Oct-2025 20:44:19 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:44:19 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:44:19 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[07-Oct-2025 20:44:19 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[07-Oct-2025 20:44:19 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:44:19 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:44:19 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[07-Oct-2025 20:44:19 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[07-Oct-2025 20:44:19 UTC] getStablePrices found 0 results
[07-Oct-2025 20:44:20 UTC] Koneksi database berhasil
[07-Oct-2025 20:44:20 UTC] Jumlah data di tabel prices: 17
[07-Oct-2025 20:44:20 UTC] Jumlah data di tabel commodities: 44
[07-Oct-2025 20:44:20 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[07-Oct-2025 20:44:20 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 2
)

[07-Oct-2025 20:44:20 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:44:20 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:44:20 UTC] Hasil getTopIncreasingPrices: Array
(
)

[07-Oct-2025 20:44:20 UTC] Latest commodity prices query results: Array
(
    [0] => Array
        (
            [id] => 87
            [commodity_name] => Bawang Bombay
            [unit] => KG
            [image] => commodity_68dfbfcbc270b.png
            [latest_price] => 50000.00
            [created_at] => 2025-10-07 16:45:05
        )

    [1] => Array
        (
            [id] => 89
            [commodity_name] => Bawang Merah
            [unit] => KG
            [image] => commodity_68dfbfc0a703b.png
            [latest_price] => 40000.00
            [created_at] => 2025-10-07 16:45:26
        )

    [2] => Array
        (
            [id] => 86
            [commodity_name] => Bawang Putih Honan
            [unit] => KG
            [image] => commodity_68dfbf941713e.png
            [latest_price] => 25000.00
            [created_at] => 2025-10-05 15:18:34
        )

    [3] => Array
        (
            [id] => 94
            [commodity_name] => Beras Premium - SJ
            [unit] => KG
            [image] => commodity_68dfc054a4de7.png
            [latest_price] => 12000.00
            [created_at] => 2025-10-04 11:06:44
        )

    [4] => Array
        (
            [id] => 84
            [commodity_name] => Cabai Rawit Lokal
            [unit] => KG
            [image] => commodity_68dfbf462d57c.png
            [latest_price] => 95000.00
            [created_at] => 2025-10-05 15:18:15
        )

    [5] => Array
        (
            [id] => 79
            [commodity_name] => Daging Ayam Kampung
            [unit] => KG
            [image] => commodity_68dfbee813246.png
            [latest_price] => 25500.00
            [created_at] => 2025-10-05 15:18:53
        )

    [6] => Array
        (
            [id] => 96
            [commodity_name] => Garam Halus
            [unit] => KG
            [image] => commodity_68dfc08a8320d.png
            [latest_price] => 9000.00
            [created_at] => 2025-10-07 08:57:47
        )

    [7] => Array
        (
            [id] => 112
            [commodity_name] => Timun (uk. Sedang)
            [unit] => KG
            [image] => commodity_68dfc2094a459.png
            [latest_price] => 15000.00
            [created_at] => 2025-10-07 08:57:21
        )

    [8] => Array
        (
            [id] => 111
            [commodity_name] => Tomat
            [unit] => KG
            [image] => commodity_68dfc1fee3486.png
            [latest_price] => 12000.00
            [created_at] => 2025-10-07 08:57:34
        )

)

[07-Oct-2025 20:44:20 UTC] Data komoditas ditemukan: 9 item
[07-Oct-2025 20:44:20 UTC] Sample data: Array
(
    [0] => Array
        (
            [id] => 87
            [commodity_name] => Bawang Bombay
            [unit] => KG
            [image] => commodity_68dfbfcbc270b.png
            [latest_price] => 50000.00
            [created_at] => 2025-10-07 16:45:05
        )

)

[07-Oct-2025 20:44:20 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[07-Oct-2025 20:44:20 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[07-Oct-2025 20:44:20 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:44:20 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:44:20 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[07-Oct-2025 20:44:20 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[07-Oct-2025 20:44:20 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:44:20 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:44:20 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[07-Oct-2025 20:44:20 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[07-Oct-2025 20:44:20 UTC] getStablePrices found 0 results
[07-Oct-2025 20:44:20 UTC] Koneksi database berhasil
[07-Oct-2025 20:44:20 UTC] Jumlah data di tabel prices: 17
[07-Oct-2025 20:44:20 UTC] Jumlah data di tabel commodities: 44
[07-Oct-2025 20:44:20 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[07-Oct-2025 20:44:20 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 2
)

[07-Oct-2025 20:44:20 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:44:20 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:44:20 UTC] Hasil getTopIncreasingPrices: Array
(
)

[07-Oct-2025 20:44:20 UTC] Latest commodity prices query results: Array
(
    [0] => Array
        (
            [id] => 87
            [commodity_name] => Bawang Bombay
            [unit] => KG
            [image] => commodity_68dfbfcbc270b.png
            [latest_price] => 50000.00
            [created_at] => 2025-10-07 16:45:05
        )

    [1] => Array
        (
            [id] => 89
            [commodity_name] => Bawang Merah
            [unit] => KG
            [image] => commodity_68dfbfc0a703b.png
            [latest_price] => 40000.00
            [created_at] => 2025-10-07 16:45:26
        )

    [2] => Array
        (
            [id] => 86
            [commodity_name] => Bawang Putih Honan
            [unit] => KG
            [image] => commodity_68dfbf941713e.png
            [latest_price] => 25000.00
            [created_at] => 2025-10-05 15:18:34
        )

    [3] => Array
        (
            [id] => 94
            [commodity_name] => Beras Premium - SJ
            [unit] => KG
            [image] => commodity_68dfc054a4de7.png
            [latest_price] => 12000.00
            [created_at] => 2025-10-04 11:06:44
        )

    [4] => Array
        (
            [id] => 84
            [commodity_name] => Cabai Rawit Lokal
            [unit] => KG
            [image] => commodity_68dfbf462d57c.png
            [latest_price] => 95000.00
            [created_at] => 2025-10-05 15:18:15
        )

    [5] => Array
        (
            [id] => 79
            [commodity_name] => Daging Ayam Kampung
            [unit] => KG
            [image] => commodity_68dfbee813246.png
            [latest_price] => 25500.00
            [created_at] => 2025-10-05 15:18:53
        )

    [6] => Array
        (
            [id] => 96
            [commodity_name] => Garam Halus
            [unit] => KG
            [image] => commodity_68dfc08a8320d.png
            [latest_price] => 9000.00
            [created_at] => 2025-10-07 08:57:47
        )

    [7] => Array
        (
            [id] => 112
            [commodity_name] => Timun (uk. Sedang)
            [unit] => KG
            [image] => commodity_68dfc2094a459.png
            [latest_price] => 15000.00
            [created_at] => 2025-10-07 08:57:21
        )

    [8] => Array
        (
            [id] => 111
            [commodity_name] => Tomat
            [unit] => KG
            [image] => commodity_68dfc1fee3486.png
            [latest_price] => 12000.00
            [created_at] => 2025-10-07 08:57:34
        )

)

[07-Oct-2025 20:44:20 UTC] Data komoditas ditemukan: 9 item
[07-Oct-2025 20:44:20 UTC] Sample data: Array
(
    [0] => Array
        (
            [id] => 87
            [commodity_name] => Bawang Bombay
            [unit] => KG
            [image] => commodity_68dfbfcbc270b.png
            [latest_price] => 50000.00
            [created_at] => 2025-10-07 16:45:05
        )

)

[07-Oct-2025 20:44:20 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[07-Oct-2025 20:44:20 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[07-Oct-2025 20:44:20 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:44:20 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:44:20 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[07-Oct-2025 20:44:20 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[07-Oct-2025 20:44:20 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:44:20 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:44:20 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[07-Oct-2025 20:44:20 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[07-Oct-2025 20:44:20 UTC] getStablePrices found 0 results
[07-Oct-2025 20:44:21 UTC] Koneksi database berhasil
[07-Oct-2025 20:44:21 UTC] Jumlah data di tabel prices: 17
[07-Oct-2025 20:44:21 UTC] Jumlah data di tabel commodities: 44
[07-Oct-2025 20:44:21 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[07-Oct-2025 20:44:21 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 2
)

[07-Oct-2025 20:44:21 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:44:21 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:44:21 UTC] Hasil getTopIncreasingPrices: Array
(
)

[07-Oct-2025 20:44:21 UTC] Latest commodity prices query results: Array
(
    [0] => Array
        (
            [id] => 87
            [commodity_name] => Bawang Bombay
            [unit] => KG
            [image] => commodity_68dfbfcbc270b.png
            [latest_price] => 50000.00
            [created_at] => 2025-10-07 16:45:05
        )

    [1] => Array
        (
            [id] => 89
            [commodity_name] => Bawang Merah
            [unit] => KG
            [image] => commodity_68dfbfc0a703b.png
            [latest_price] => 40000.00
            [created_at] => 2025-10-07 16:45:26
        )

    [2] => Array
        (
            [id] => 86
            [commodity_name] => Bawang Putih Honan
            [unit] => KG
            [image] => commodity_68dfbf941713e.png
            [latest_price] => 25000.00
            [created_at] => 2025-10-05 15:18:34
        )

    [3] => Array
        (
            [id] => 94
            [commodity_name] => Beras Premium - SJ
            [unit] => KG
            [image] => commodity_68dfc054a4de7.png
            [latest_price] => 12000.00
            [created_at] => 2025-10-04 11:06:44
        )

    [4] => Array
        (
            [id] => 84
            [commodity_name] => Cabai Rawit Lokal
            [unit] => KG
            [image] => commodity_68dfbf462d57c.png
            [latest_price] => 95000.00
            [created_at] => 2025-10-05 15:18:15
        )

    [5] => Array
        (
            [id] => 79
            [commodity_name] => Daging Ayam Kampung
            [unit] => KG
            [image] => commodity_68dfbee813246.png
            [latest_price] => 25500.00
            [created_at] => 2025-10-05 15:18:53
        )

    [6] => Array
        (
            [id] => 96
            [commodity_name] => Garam Halus
            [unit] => KG
            [image] => commodity_68dfc08a8320d.png
            [latest_price] => 9000.00
            [created_at] => 2025-10-07 08:57:47
        )

    [7] => Array
        (
            [id] => 112
            [commodity_name] => Timun (uk. Sedang)
            [unit] => KG
            [image] => commodity_68dfc2094a459.png
            [latest_price] => 15000.00
            [created_at] => 2025-10-07 08:57:21
        )

    [8] => Array
        (
            [id] => 111
            [commodity_name] => Tomat
            [unit] => KG
            [image] => commodity_68dfc1fee3486.png
            [latest_price] => 12000.00
            [created_at] => 2025-10-07 08:57:34
        )

)

[07-Oct-2025 20:44:21 UTC] Data komoditas ditemukan: 9 item
[07-Oct-2025 20:44:21 UTC] Sample data: Array
(
    [0] => Array
        (
            [id] => 87
            [commodity_name] => Bawang Bombay
            [unit] => KG
            [image] => commodity_68dfbfcbc270b.png
            [latest_price] => 50000.00
            [created_at] => 2025-10-07 16:45:05
        )

)

[07-Oct-2025 20:44:21 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[07-Oct-2025 20:44:21 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[07-Oct-2025 20:44:21 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:44:21 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:44:21 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[07-Oct-2025 20:44:21 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[07-Oct-2025 20:44:21 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:44:21 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:44:21 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[07-Oct-2025 20:44:21 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[07-Oct-2025 20:44:21 UTC] getStablePrices found 0 results
[07-Oct-2025 20:44:21 UTC] Koneksi database berhasil
[07-Oct-2025 20:44:21 UTC] Jumlah data di tabel prices: 17
[07-Oct-2025 20:44:21 UTC] Jumlah data di tabel commodities: 44
[07-Oct-2025 20:44:21 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[07-Oct-2025 20:44:21 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 2
)

[07-Oct-2025 20:44:21 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:44:21 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:44:21 UTC] Hasil getTopIncreasingPrices: Array
(
)

[07-Oct-2025 20:44:21 UTC] Latest commodity prices query results: Array
(
    [0] => Array
        (
            [id] => 87
            [commodity_name] => Bawang Bombay
            [unit] => KG
            [image] => commodity_68dfbfcbc270b.png
            [latest_price] => 50000.00
            [created_at] => 2025-10-07 16:45:05
        )

    [1] => Array
        (
            [id] => 89
            [commodity_name] => Bawang Merah
            [unit] => KG
            [image] => commodity_68dfbfc0a703b.png
            [latest_price] => 40000.00
            [created_at] => 2025-10-07 16:45:26
        )

    [2] => Array
        (
            [id] => 86
            [commodity_name] => Bawang Putih Honan
            [unit] => KG
            [image] => commodity_68dfbf941713e.png
            [latest_price] => 25000.00
            [created_at] => 2025-10-05 15:18:34
        )

    [3] => Array
        (
            [id] => 94
            [commodity_name] => Beras Premium - SJ
            [unit] => KG
            [image] => commodity_68dfc054a4de7.png
            [latest_price] => 12000.00
            [created_at] => 2025-10-04 11:06:44
        )

    [4] => Array
        (
            [id] => 84
            [commodity_name] => Cabai Rawit Lokal
            [unit] => KG
            [image] => commodity_68dfbf462d57c.png
            [latest_price] => 95000.00
            [created_at] => 2025-10-05 15:18:15
        )

    [5] => Array
        (
            [id] => 79
            [commodity_name] => Daging Ayam Kampung
            [unit] => KG
            [image] => commodity_68dfbee813246.png
            [latest_price] => 25500.00
            [created_at] => 2025-10-05 15:18:53
        )

    [6] => Array
        (
            [id] => 96
            [commodity_name] => Garam Halus
            [unit] => KG
            [image] => commodity_68dfc08a8320d.png
            [latest_price] => 9000.00
            [created_at] => 2025-10-07 08:57:47
        )

    [7] => Array
        (
            [id] => 112
            [commodity_name] => Timun (uk. Sedang)
            [unit] => KG
            [image] => commodity_68dfc2094a459.png
            [latest_price] => 15000.00
            [created_at] => 2025-10-07 08:57:21
        )

    [8] => Array
        (
            [id] => 111
            [commodity_name] => Tomat
            [unit] => KG
            [image] => commodity_68dfc1fee3486.png
            [latest_price] => 12000.00
            [created_at] => 2025-10-07 08:57:34
        )

)

[07-Oct-2025 20:44:21 UTC] Data komoditas ditemukan: 9 item
[07-Oct-2025 20:44:21 UTC] Sample data: Array
(
    [0] => Array
        (
            [id] => 87
            [commodity_name] => Bawang Bombay
            [unit] => KG
            [image] => commodity_68dfbfcbc270b.png
            [latest_price] => 50000.00
            [created_at] => 2025-10-07 16:45:05
        )

)

[07-Oct-2025 20:44:21 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[07-Oct-2025 20:44:21 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[07-Oct-2025 20:44:21 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:44:21 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:44:21 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[07-Oct-2025 20:44:21 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[07-Oct-2025 20:44:21 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:44:21 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:44:21 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[07-Oct-2025 20:44:21 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[07-Oct-2025 20:44:21 UTC] getStablePrices found 0 results
[07-Oct-2025 20:44:21 UTC] Koneksi database berhasil
[07-Oct-2025 20:44:21 UTC] Jumlah data di tabel prices: 17
[07-Oct-2025 20:44:21 UTC] Jumlah data di tabel commodities: 44
[07-Oct-2025 20:44:21 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[07-Oct-2025 20:44:21 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 2
)

[07-Oct-2025 20:44:21 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:44:21 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:44:21 UTC] Hasil getTopIncreasingPrices: Array
(
)

[07-Oct-2025 20:44:21 UTC] Latest commodity prices query results: Array
(
    [0] => Array
        (
            [id] => 87
            [commodity_name] => Bawang Bombay
            [unit] => KG
            [image] => commodity_68dfbfcbc270b.png
            [latest_price] => 50000.00
            [created_at] => 2025-10-07 16:45:05
        )

    [1] => Array
        (
            [id] => 89
            [commodity_name] => Bawang Merah
            [unit] => KG
            [image] => commodity_68dfbfc0a703b.png
            [latest_price] => 40000.00
            [created_at] => 2025-10-07 16:45:26
        )

    [2] => Array
        (
            [id] => 86
            [commodity_name] => Bawang Putih Honan
            [unit] => KG
            [image] => commodity_68dfbf941713e.png
            [latest_price] => 25000.00
            [created_at] => 2025-10-05 15:18:34
        )

    [3] => Array
        (
            [id] => 94
            [commodity_name] => Beras Premium - SJ
            [unit] => KG
            [image] => commodity_68dfc054a4de7.png
            [latest_price] => 12000.00
            [created_at] => 2025-10-04 11:06:44
        )

    [4] => Array
        (
            [id] => 84
            [commodity_name] => Cabai Rawit Lokal
            [unit] => KG
            [image] => commodity_68dfbf462d57c.png
            [latest_price] => 95000.00
            [created_at] => 2025-10-05 15:18:15
        )

    [5] => Array
        (
            [id] => 79
            [commodity_name] => Daging Ayam Kampung
            [unit] => KG
            [image] => commodity_68dfbee813246.png
            [latest_price] => 25500.00
            [created_at] => 2025-10-05 15:18:53
        )

    [6] => Array
        (
            [id] => 96
            [commodity_name] => Garam Halus
            [unit] => KG
            [image] => commodity_68dfc08a8320d.png
            [latest_price] => 9000.00
            [created_at] => 2025-10-07 08:57:47
        )

    [7] => Array
        (
            [id] => 112
            [commodity_name] => Timun (uk. Sedang)
            [unit] => KG
            [image] => commodity_68dfc2094a459.png
            [latest_price] => 15000.00
            [created_at] => 2025-10-07 08:57:21
        )

    [8] => Array
        (
            [id] => 111
            [commodity_name] => Tomat
            [unit] => KG
            [image] => commodity_68dfc1fee3486.png
            [latest_price] => 12000.00
            [created_at] => 2025-10-07 08:57:34
        )

)

[07-Oct-2025 20:44:21 UTC] Data komoditas ditemukan: 9 item
[07-Oct-2025 20:44:21 UTC] Sample data: Array
(
    [0] => Array
        (
            [id] => 87
            [commodity_name] => Bawang Bombay
            [unit] => KG
            [image] => commodity_68dfbfcbc270b.png
            [latest_price] => 50000.00
            [created_at] => 2025-10-07 16:45:05
        )

)

[07-Oct-2025 20:44:21 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[07-Oct-2025 20:44:21 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[07-Oct-2025 20:44:21 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:44:21 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:44:21 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[07-Oct-2025 20:44:21 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[07-Oct-2025 20:44:21 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:44:21 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:44:21 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[07-Oct-2025 20:44:21 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[07-Oct-2025 20:44:21 UTC] getStablePrices found 0 results
[07-Oct-2025 20:44:21 UTC] Koneksi database berhasil
[07-Oct-2025 20:44:21 UTC] Jumlah data di tabel prices: 17
[07-Oct-2025 20:44:21 UTC] Jumlah data di tabel commodities: 44
[07-Oct-2025 20:44:21 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[07-Oct-2025 20:44:21 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 2
)

[07-Oct-2025 20:44:21 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:44:21 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:44:21 UTC] Hasil getTopIncreasingPrices: Array
(
)

[07-Oct-2025 20:44:21 UTC] Latest commodity prices query results: Array
(
    [0] => Array
        (
            [id] => 87
            [commodity_name] => Bawang Bombay
            [unit] => KG
            [image] => commodity_68dfbfcbc270b.png
            [latest_price] => 50000.00
            [created_at] => 2025-10-07 16:45:05
        )

    [1] => Array
        (
            [id] => 89
            [commodity_name] => Bawang Merah
            [unit] => KG
            [image] => commodity_68dfbfc0a703b.png
            [latest_price] => 40000.00
            [created_at] => 2025-10-07 16:45:26
        )

    [2] => Array
        (
            [id] => 86
            [commodity_name] => Bawang Putih Honan
            [unit] => KG
            [image] => commodity_68dfbf941713e.png
            [latest_price] => 25000.00
            [created_at] => 2025-10-05 15:18:34
        )

    [3] => Array
        (
            [id] => 94
            [commodity_name] => Beras Premium - SJ
            [unit] => KG
            [image] => commodity_68dfc054a4de7.png
            [latest_price] => 12000.00
            [created_at] => 2025-10-04 11:06:44
        )

    [4] => Array
        (
            [id] => 84
            [commodity_name] => Cabai Rawit Lokal
            [unit] => KG
            [image] => commodity_68dfbf462d57c.png
            [latest_price] => 95000.00
            [created_at] => 2025-10-05 15:18:15
        )

    [5] => Array
        (
            [id] => 79
            [commodity_name] => Daging Ayam Kampung
            [unit] => KG
            [image] => commodity_68dfbee813246.png
            [latest_price] => 25500.00
            [created_at] => 2025-10-05 15:18:53
        )

    [6] => Array
        (
            [id] => 96
            [commodity_name] => Garam Halus
            [unit] => KG
            [image] => commodity_68dfc08a8320d.png
            [latest_price] => 9000.00
            [created_at] => 2025-10-07 08:57:47
        )

    [7] => Array
        (
            [id] => 112
            [commodity_name] => Timun (uk. Sedang)
            [unit] => KG
            [image] => commodity_68dfc2094a459.png
            [latest_price] => 15000.00
            [created_at] => 2025-10-07 08:57:21
        )

    [8] => Array
        (
            [id] => 111
            [commodity_name] => Tomat
            [unit] => KG
            [image] => commodity_68dfc1fee3486.png
            [latest_price] => 12000.00
            [created_at] => 2025-10-07 08:57:34
        )

)

[07-Oct-2025 20:44:21 UTC] Data komoditas ditemukan: 9 item
[07-Oct-2025 20:44:21 UTC] Sample data: Array
(
    [0] => Array
        (
            [id] => 87
            [commodity_name] => Bawang Bombay
            [unit] => KG
            [image] => commodity_68dfbfcbc270b.png
            [latest_price] => 50000.00
            [created_at] => 2025-10-07 16:45:05
        )

)

[07-Oct-2025 20:44:21 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[07-Oct-2025 20:44:21 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[07-Oct-2025 20:44:21 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:44:21 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:44:21 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[07-Oct-2025 20:44:21 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[07-Oct-2025 20:44:21 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:44:21 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:44:21 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[07-Oct-2025 20:44:21 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[07-Oct-2025 20:44:21 UTC] getStablePrices found 0 results
[07-Oct-2025 20:44:22 UTC] Koneksi database berhasil
[07-Oct-2025 20:44:22 UTC] Jumlah data di tabel prices: 17
[07-Oct-2025 20:44:22 UTC] Jumlah data di tabel commodities: 44
[07-Oct-2025 20:44:22 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[07-Oct-2025 20:44:22 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 2
)

[07-Oct-2025 20:44:22 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:44:22 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:44:22 UTC] Hasil getTopIncreasingPrices: Array
(
)

[07-Oct-2025 20:44:22 UTC] Latest commodity prices query results: Array
(
    [0] => Array
        (
            [id] => 87
            [commodity_name] => Bawang Bombay
            [unit] => KG
            [image] => commodity_68dfbfcbc270b.png
            [latest_price] => 50000.00
            [created_at] => 2025-10-07 16:45:05
        )

    [1] => Array
        (
            [id] => 89
            [commodity_name] => Bawang Merah
            [unit] => KG
            [image] => commodity_68dfbfc0a703b.png
            [latest_price] => 40000.00
            [created_at] => 2025-10-07 16:45:26
        )

    [2] => Array
        (
            [id] => 86
            [commodity_name] => Bawang Putih Honan
            [unit] => KG
            [image] => commodity_68dfbf941713e.png
            [latest_price] => 25000.00
            [created_at] => 2025-10-05 15:18:34
        )

    [3] => Array
        (
            [id] => 94
            [commodity_name] => Beras Premium - SJ
            [unit] => KG
            [image] => commodity_68dfc054a4de7.png
            [latest_price] => 12000.00
            [created_at] => 2025-10-04 11:06:44
        )

    [4] => Array
        (
            [id] => 84
            [commodity_name] => Cabai Rawit Lokal
            [unit] => KG
            [image] => commodity_68dfbf462d57c.png
            [latest_price] => 95000.00
            [created_at] => 2025-10-05 15:18:15
        )

    [5] => Array
        (
            [id] => 79
            [commodity_name] => Daging Ayam Kampung
            [unit] => KG
            [image] => commodity_68dfbee813246.png
            [latest_price] => 25500.00
            [created_at] => 2025-10-05 15:18:53
        )

    [6] => Array
        (
            [id] => 96
            [commodity_name] => Garam Halus
            [unit] => KG
            [image] => commodity_68dfc08a8320d.png
            [latest_price] => 9000.00
            [created_at] => 2025-10-07 08:57:47
        )

    [7] => Array
        (
            [id] => 112
            [commodity_name] => Timun (uk. Sedang)
            [unit] => KG
            [image] => commodity_68dfc2094a459.png
            [latest_price] => 15000.00
            [created_at] => 2025-10-07 08:57:21
        )

    [8] => Array
        (
            [id] => 111
            [commodity_name] => Tomat
            [unit] => KG
            [image] => commodity_68dfc1fee3486.png
            [latest_price] => 12000.00
            [created_at] => 2025-10-07 08:57:34
        )

)

[07-Oct-2025 20:44:22 UTC] Data komoditas ditemukan: 9 item
[07-Oct-2025 20:44:22 UTC] Sample data: Array
(
    [0] => Array
        (
            [id] => 87
            [commodity_name] => Bawang Bombay
            [unit] => KG
            [image] => commodity_68dfbfcbc270b.png
            [latest_price] => 50000.00
            [created_at] => 2025-10-07 16:45:05
        )

)

[07-Oct-2025 20:44:22 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[07-Oct-2025 20:44:22 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[07-Oct-2025 20:44:22 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:44:22 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:44:22 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[07-Oct-2025 20:44:22 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[07-Oct-2025 20:44:22 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:44:22 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:44:22 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[07-Oct-2025 20:44:22 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[07-Oct-2025 20:44:22 UTC] getStablePrices found 0 results
[07-Oct-2025 20:45:49 UTC] Koneksi database berhasil
[07-Oct-2025 20:45:49 UTC] Jumlah data di tabel prices: 17
[07-Oct-2025 20:45:49 UTC] Jumlah data di tabel commodities: 44
[07-Oct-2025 20:45:49 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[07-Oct-2025 20:45:49 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 2
)

[07-Oct-2025 20:45:49 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:45:49 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:45:49 UTC] Hasil getTopIncreasingPrices: Array
(
)

[07-Oct-2025 20:45:49 UTC] Latest commodity prices query results: Array
(
    [0] => Array
        (
            [id] => 87
            [commodity_name] => Bawang Bombay
            [unit] => KG
            [image_path] => commodity_68dfbfcbc270b.png
            [latest_price] => 50000.00
            [created_at] => 2025-10-07 16:45:05
        )

    [1] => Array
        (
            [id] => 89
            [commodity_name] => Bawang Merah
            [unit] => KG
            [image_path] => commodity_68dfbfc0a703b.png
            [latest_price] => 40000.00
            [created_at] => 2025-10-07 16:45:26
        )

    [2] => Array
        (
            [id] => 86
            [commodity_name] => Bawang Putih Honan
            [unit] => KG
            [image_path] => commodity_68dfbf941713e.png
            [latest_price] => 25000.00
            [created_at] => 2025-10-05 15:18:34
        )

    [3] => Array
        (
            [id] => 94
            [commodity_name] => Beras Premium - SJ
            [unit] => KG
            [image_path] => commodity_68dfc054a4de7.png
            [latest_price] => 12000.00
            [created_at] => 2025-10-04 11:06:44
        )

    [4] => Array
        (
            [id] => 84
            [commodity_name] => Cabai Rawit Lokal
            [unit] => KG
            [image_path] => commodity_68dfbf462d57c.png
            [latest_price] => 95000.00
            [created_at] => 2025-10-05 15:18:15
        )

    [5] => Array
        (
            [id] => 79
            [commodity_name] => Daging Ayam Kampung
            [unit] => KG
            [image_path] => commodity_68dfbee813246.png
            [latest_price] => 25500.00
            [created_at] => 2025-10-05 15:18:53
        )

    [6] => Array
        (
            [id] => 96
            [commodity_name] => Garam Halus
            [unit] => KG
            [image_path] => commodity_68dfc08a8320d.png
            [latest_price] => 9000.00
            [created_at] => 2025-10-07 08:57:47
        )

    [7] => Array
        (
            [id] => 112
            [commodity_name] => Timun (uk. Sedang)
            [unit] => KG
            [image_path] => commodity_68dfc2094a459.png
            [latest_price] => 15000.00
            [created_at] => 2025-10-07 08:57:21
        )

    [8] => Array
        (
            [id] => 111
            [commodity_name] => Tomat
            [unit] => KG
            [image_path] => commodity_68dfc1fee3486.png
            [latest_price] => 12000.00
            [created_at] => 2025-10-07 08:57:34
        )

)

[07-Oct-2025 20:45:49 UTC] Data komoditas ditemukan: 9 item
[07-Oct-2025 20:45:49 UTC] Sample data: Array
(
    [0] => Array
        (
            [id] => 87
            [commodity_name] => Bawang Bombay
            [unit] => KG
            [image_path] => commodity_68dfbfcbc270b.png
            [latest_price] => 50000.00
            [created_at] => 2025-10-07 16:45:05
        )

)

[07-Oct-2025 20:45:49 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[07-Oct-2025 20:45:49 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[07-Oct-2025 20:45:49 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:45:49 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:45:49 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[07-Oct-2025 20:45:49 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[07-Oct-2025 20:45:49 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:45:49 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:45:49 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[07-Oct-2025 20:45:49 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[07-Oct-2025 20:45:49 UTC] getStablePrices found 0 results
[07-Oct-2025 20:46:13 UTC] Koneksi database berhasil
[07-Oct-2025 20:46:13 UTC] Jumlah data di tabel prices: 17
[07-Oct-2025 20:46:13 UTC] Jumlah data di tabel commodities: 44
[07-Oct-2025 20:46:13 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[07-Oct-2025 20:46:13 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 2
)

[07-Oct-2025 20:46:13 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:46:13 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:46:13 UTC] Hasil getTopIncreasingPrices: Array
(
)

[07-Oct-2025 20:46:13 UTC] Latest commodity prices query results: Array
(
    [0] => Array
        (
            [id] => 87
            [commodity_name] => Bawang Bombay
            [unit] => KG
            [image_path] => commodity_68dfbfcbc270b.png
            [latest_price] => 50000.00
            [created_at] => 2025-10-07 16:45:05
        )

    [1] => Array
        (
            [id] => 89
            [commodity_name] => Bawang Merah
            [unit] => KG
            [image_path] => commodity_68dfbfc0a703b.png
            [latest_price] => 40000.00
            [created_at] => 2025-10-07 16:45:26
        )

    [2] => Array
        (
            [id] => 86
            [commodity_name] => Bawang Putih Honan
            [unit] => KG
            [image_path] => commodity_68dfbf941713e.png
            [latest_price] => 25000.00
            [created_at] => 2025-10-05 15:18:34
        )

    [3] => Array
        (
            [id] => 94
            [commodity_name] => Beras Premium - SJ
            [unit] => KG
            [image_path] => commodity_68dfc054a4de7.png
            [latest_price] => 12000.00
            [created_at] => 2025-10-04 11:06:44
        )

    [4] => Array
        (
            [id] => 84
            [commodity_name] => Cabai Rawit Lokal
            [unit] => KG
            [image_path] => commodity_68dfbf462d57c.png
            [latest_price] => 95000.00
            [created_at] => 2025-10-05 15:18:15
        )

    [5] => Array
        (
            [id] => 79
            [commodity_name] => Daging Ayam Kampung
            [unit] => KG
            [image_path] => commodity_68dfbee813246.png
            [latest_price] => 25500.00
            [created_at] => 2025-10-05 15:18:53
        )

    [6] => Array
        (
            [id] => 96
            [commodity_name] => Garam Halus
            [unit] => KG
            [image_path] => commodity_68dfc08a8320d.png
            [latest_price] => 9000.00
            [created_at] => 2025-10-07 08:57:47
        )

    [7] => Array
        (
            [id] => 112
            [commodity_name] => Timun (uk. Sedang)
            [unit] => KG
            [image_path] => commodity_68dfc2094a459.png
            [latest_price] => 15000.00
            [created_at] => 2025-10-07 08:57:21
        )

    [8] => Array
        (
            [id] => 111
            [commodity_name] => Tomat
            [unit] => KG
            [image_path] => commodity_68dfc1fee3486.png
            [latest_price] => 12000.00
            [created_at] => 2025-10-07 08:57:34
        )

)

[07-Oct-2025 20:46:13 UTC] Data komoditas ditemukan: 9 item
[07-Oct-2025 20:46:13 UTC] Sample data: Array
(
    [0] => Array
        (
            [id] => 87
            [commodity_name] => Bawang Bombay
            [unit] => KG
            [image_path] => commodity_68dfbfcbc270b.png
            [latest_price] => 50000.00
            [created_at] => 2025-10-07 16:45:05
        )

)

[07-Oct-2025 20:46:13 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[07-Oct-2025 20:46:13 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[07-Oct-2025 20:46:13 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:46:13 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:46:13 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[07-Oct-2025 20:46:13 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[07-Oct-2025 20:46:13 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:46:13 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:46:13 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[07-Oct-2025 20:46:13 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[07-Oct-2025 20:46:13 UTC] getStablePrices found 0 results
[07-Oct-2025 20:46:29 UTC] Koneksi database berhasil
[07-Oct-2025 20:46:29 UTC] Jumlah data di tabel prices: 17
[07-Oct-2025 20:46:29 UTC] Jumlah data di tabel commodities: 44
[07-Oct-2025 20:46:29 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[07-Oct-2025 20:46:29 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 2
)

[07-Oct-2025 20:46:29 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:46:29 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:46:29 UTC] Hasil getTopIncreasingPrices: Array
(
)

[07-Oct-2025 20:46:29 UTC] Latest commodity prices query results: Array
(
    [0] => Array
        (
            [id] => 87
            [commodity_name] => Bawang Bombay
            [unit] => KG
            [image_path] => commodity_68dfbfcbc270b.png
            [latest_price] => 50000.00
            [created_at] => 2025-10-07 16:45:05
        )

    [1] => Array
        (
            [id] => 89
            [commodity_name] => Bawang Merah
            [unit] => KG
            [image_path] => commodity_68dfbfc0a703b.png
            [latest_price] => 40000.00
            [created_at] => 2025-10-07 16:45:26
        )

    [2] => Array
        (
            [id] => 86
            [commodity_name] => Bawang Putih Honan
            [unit] => KG
            [image_path] => commodity_68dfbf941713e.png
            [latest_price] => 25000.00
            [created_at] => 2025-10-05 15:18:34
        )

    [3] => Array
        (
            [id] => 94
            [commodity_name] => Beras Premium - SJ
            [unit] => KG
            [image_path] => commodity_68dfc054a4de7.png
            [latest_price] => 12000.00
            [created_at] => 2025-10-04 11:06:44
        )

    [4] => Array
        (
            [id] => 84
            [commodity_name] => Cabai Rawit Lokal
            [unit] => KG
            [image_path] => commodity_68dfbf462d57c.png
            [latest_price] => 95000.00
            [created_at] => 2025-10-05 15:18:15
        )

    [5] => Array
        (
            [id] => 79
            [commodity_name] => Daging Ayam Kampung
            [unit] => KG
            [image_path] => commodity_68dfbee813246.png
            [latest_price] => 25500.00
            [created_at] => 2025-10-05 15:18:53
        )

    [6] => Array
        (
            [id] => 96
            [commodity_name] => Garam Halus
            [unit] => KG
            [image_path] => commodity_68dfc08a8320d.png
            [latest_price] => 9000.00
            [created_at] => 2025-10-07 08:57:47
        )

    [7] => Array
        (
            [id] => 112
            [commodity_name] => Timun (uk. Sedang)
            [unit] => KG
            [image_path] => commodity_68dfc2094a459.png
            [latest_price] => 15000.00
            [created_at] => 2025-10-07 08:57:21
        )

    [8] => Array
        (
            [id] => 111
            [commodity_name] => Tomat
            [unit] => KG
            [image_path] => commodity_68dfc1fee3486.png
            [latest_price] => 12000.00
            [created_at] => 2025-10-07 08:57:34
        )

)

[07-Oct-2025 20:46:29 UTC] Data komoditas ditemukan: 9 item
[07-Oct-2025 20:46:29 UTC] Sample data: Array
(
    [0] => Array
        (
            [id] => 87
            [commodity_name] => Bawang Bombay
            [unit] => KG
            [image_path] => commodity_68dfbfcbc270b.png
            [latest_price] => 50000.00
            [created_at] => 2025-10-07 16:45:05
        )

)

[07-Oct-2025 20:46:29 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[07-Oct-2025 20:46:29 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[07-Oct-2025 20:46:29 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:46:29 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:46:29 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[07-Oct-2025 20:46:29 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[07-Oct-2025 20:46:29 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:46:29 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:46:29 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[07-Oct-2025 20:46:29 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[07-Oct-2025 20:46:29 UTC] getStablePrices found 0 results
[07-Oct-2025 20:46:29 UTC] Koneksi database berhasil
[07-Oct-2025 20:46:29 UTC] Jumlah data di tabel prices: 17
[07-Oct-2025 20:46:29 UTC] Jumlah data di tabel commodities: 44
[07-Oct-2025 20:46:29 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[07-Oct-2025 20:46:29 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 2
)

[07-Oct-2025 20:46:29 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:46:29 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:46:29 UTC] Hasil getTopIncreasingPrices: Array
(
)

[07-Oct-2025 20:46:29 UTC] Latest commodity prices query results: Array
(
    [0] => Array
        (
            [id] => 87
            [commodity_name] => Bawang Bombay
            [unit] => KG
            [image_path] => commodity_68dfbfcbc270b.png
            [latest_price] => 50000.00
            [created_at] => 2025-10-07 16:45:05
        )

    [1] => Array
        (
            [id] => 89
            [commodity_name] => Bawang Merah
            [unit] => KG
            [image_path] => commodity_68dfbfc0a703b.png
            [latest_price] => 40000.00
            [created_at] => 2025-10-07 16:45:26
        )

    [2] => Array
        (
            [id] => 86
            [commodity_name] => Bawang Putih Honan
            [unit] => KG
            [image_path] => commodity_68dfbf941713e.png
            [latest_price] => 25000.00
            [created_at] => 2025-10-05 15:18:34
        )

    [3] => Array
        (
            [id] => 94
            [commodity_name] => Beras Premium - SJ
            [unit] => KG
            [image_path] => commodity_68dfc054a4de7.png
            [latest_price] => 12000.00
            [created_at] => 2025-10-04 11:06:44
        )

    [4] => Array
        (
            [id] => 84
            [commodity_name] => Cabai Rawit Lokal
            [unit] => KG
            [image_path] => commodity_68dfbf462d57c.png
            [latest_price] => 95000.00
            [created_at] => 2025-10-05 15:18:15
        )

    [5] => Array
        (
            [id] => 79
            [commodity_name] => Daging Ayam Kampung
            [unit] => KG
            [image_path] => commodity_68dfbee813246.png
            [latest_price] => 25500.00
            [created_at] => 2025-10-05 15:18:53
        )

    [6] => Array
        (
            [id] => 96
            [commodity_name] => Garam Halus
            [unit] => KG
            [image_path] => commodity_68dfc08a8320d.png
            [latest_price] => 9000.00
            [created_at] => 2025-10-07 08:57:47
        )

    [7] => Array
        (
            [id] => 112
            [commodity_name] => Timun (uk. Sedang)
            [unit] => KG
            [image_path] => commodity_68dfc2094a459.png
            [latest_price] => 15000.00
            [created_at] => 2025-10-07 08:57:21
        )

    [8] => Array
        (
            [id] => 111
            [commodity_name] => Tomat
            [unit] => KG
            [image_path] => commodity_68dfc1fee3486.png
            [latest_price] => 12000.00
            [created_at] => 2025-10-07 08:57:34
        )

)

[07-Oct-2025 20:46:29 UTC] Data komoditas ditemukan: 9 item
[07-Oct-2025 20:46:29 UTC] Sample data: Array
(
    [0] => Array
        (
            [id] => 87
            [commodity_name] => Bawang Bombay
            [unit] => KG
            [image_path] => commodity_68dfbfcbc270b.png
            [latest_price] => 50000.00
            [created_at] => 2025-10-07 16:45:05
        )

)

[07-Oct-2025 20:46:29 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[07-Oct-2025 20:46:29 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[07-Oct-2025 20:46:29 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:46:29 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:46:29 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[07-Oct-2025 20:46:29 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[07-Oct-2025 20:46:29 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:46:29 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:46:29 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[07-Oct-2025 20:46:29 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[07-Oct-2025 20:46:29 UTC] getStablePrices found 0 results
[07-Oct-2025 20:46:35 UTC] Koneksi database berhasil
[07-Oct-2025 20:46:35 UTC] Jumlah data di tabel prices: 17
[07-Oct-2025 20:46:35 UTC] Jumlah data di tabel commodities: 44
[07-Oct-2025 20:46:35 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[07-Oct-2025 20:46:35 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 2
)

[07-Oct-2025 20:46:35 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:46:35 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:46:35 UTC] Hasil getTopIncreasingPrices: Array
(
)

[07-Oct-2025 20:46:35 UTC] Latest commodity prices query results: Array
(
    [0] => Array
        (
            [id] => 87
            [commodity_name] => Bawang Bombay
            [unit] => KG
            [image_path] => commodity_68dfbfcbc270b.png
            [latest_price] => 50000.00
            [created_at] => 2025-10-07 16:45:05
        )

    [1] => Array
        (
            [id] => 89
            [commodity_name] => Bawang Merah
            [unit] => KG
            [image_path] => commodity_68dfbfc0a703b.png
            [latest_price] => 40000.00
            [created_at] => 2025-10-07 16:45:26
        )

    [2] => Array
        (
            [id] => 86
            [commodity_name] => Bawang Putih Honan
            [unit] => KG
            [image_path] => commodity_68dfbf941713e.png
            [latest_price] => 25000.00
            [created_at] => 2025-10-05 15:18:34
        )

    [3] => Array
        (
            [id] => 94
            [commodity_name] => Beras Premium - SJ
            [unit] => KG
            [image_path] => commodity_68dfc054a4de7.png
            [latest_price] => 12000.00
            [created_at] => 2025-10-04 11:06:44
        )

    [4] => Array
        (
            [id] => 84
            [commodity_name] => Cabai Rawit Lokal
            [unit] => KG
            [image_path] => commodity_68dfbf462d57c.png
            [latest_price] => 95000.00
            [created_at] => 2025-10-05 15:18:15
        )

    [5] => Array
        (
            [id] => 79
            [commodity_name] => Daging Ayam Kampung
            [unit] => KG
            [image_path] => commodity_68dfbee813246.png
            [latest_price] => 25500.00
            [created_at] => 2025-10-05 15:18:53
        )

    [6] => Array
        (
            [id] => 96
            [commodity_name] => Garam Halus
            [unit] => KG
            [image_path] => commodity_68dfc08a8320d.png
            [latest_price] => 9000.00
            [created_at] => 2025-10-07 08:57:47
        )

    [7] => Array
        (
            [id] => 112
            [commodity_name] => Timun (uk. Sedang)
            [unit] => KG
            [image_path] => commodity_68dfc2094a459.png
            [latest_price] => 15000.00
            [created_at] => 2025-10-07 08:57:21
        )

    [8] => Array
        (
            [id] => 111
            [commodity_name] => Tomat
            [unit] => KG
            [image_path] => commodity_68dfc1fee3486.png
            [latest_price] => 12000.00
            [created_at] => 2025-10-07 08:57:34
        )

)

[07-Oct-2025 20:46:35 UTC] Data komoditas ditemukan: 9 item
[07-Oct-2025 20:46:35 UTC] Sample data: Array
(
    [0] => Array
        (
            [id] => 87
            [commodity_name] => Bawang Bombay
            [unit] => KG
            [image_path] => commodity_68dfbfcbc270b.png
            [latest_price] => 50000.00
            [created_at] => 2025-10-07 16:45:05
        )

)

[07-Oct-2025 20:46:35 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[07-Oct-2025 20:46:35 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[07-Oct-2025 20:46:35 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:46:35 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:46:35 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[07-Oct-2025 20:46:35 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[07-Oct-2025 20:46:35 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:46:35 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:46:35 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[07-Oct-2025 20:46:35 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[07-Oct-2025 20:46:35 UTC] getStablePrices found 0 results
[07-Oct-2025 20:46:36 UTC] Koneksi database berhasil
[07-Oct-2025 20:46:36 UTC] Jumlah data di tabel prices: 17
[07-Oct-2025 20:46:36 UTC] Jumlah data di tabel commodities: 44
[07-Oct-2025 20:46:36 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[07-Oct-2025 20:46:36 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 2
)

[07-Oct-2025 20:46:36 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:46:36 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:46:36 UTC] Hasil getTopIncreasingPrices: Array
(
)

[07-Oct-2025 20:46:36 UTC] Latest commodity prices query results: Array
(
    [0] => Array
        (
            [id] => 87
            [commodity_name] => Bawang Bombay
            [unit] => KG
            [image_path] => commodity_68dfbfcbc270b.png
            [latest_price] => 50000.00
            [created_at] => 2025-10-07 16:45:05
        )

    [1] => Array
        (
            [id] => 89
            [commodity_name] => Bawang Merah
            [unit] => KG
            [image_path] => commodity_68dfbfc0a703b.png
            [latest_price] => 40000.00
            [created_at] => 2025-10-07 16:45:26
        )

    [2] => Array
        (
            [id] => 86
            [commodity_name] => Bawang Putih Honan
            [unit] => KG
            [image_path] => commodity_68dfbf941713e.png
            [latest_price] => 25000.00
            [created_at] => 2025-10-05 15:18:34
        )

    [3] => Array
        (
            [id] => 94
            [commodity_name] => Beras Premium - SJ
            [unit] => KG
            [image_path] => commodity_68dfc054a4de7.png
            [latest_price] => 12000.00
            [created_at] => 2025-10-04 11:06:44
        )

    [4] => Array
        (
            [id] => 84
            [commodity_name] => Cabai Rawit Lokal
            [unit] => KG
            [image_path] => commodity_68dfbf462d57c.png
            [latest_price] => 95000.00
            [created_at] => 2025-10-05 15:18:15
        )

    [5] => Array
        (
            [id] => 79
            [commodity_name] => Daging Ayam Kampung
            [unit] => KG
            [image_path] => commodity_68dfbee813246.png
            [latest_price] => 25500.00
            [created_at] => 2025-10-05 15:18:53
        )

    [6] => Array
        (
            [id] => 96
            [commodity_name] => Garam Halus
            [unit] => KG
            [image_path] => commodity_68dfc08a8320d.png
            [latest_price] => 9000.00
            [created_at] => 2025-10-07 08:57:47
        )

    [7] => Array
        (
            [id] => 112
            [commodity_name] => Timun (uk. Sedang)
            [unit] => KG
            [image_path] => commodity_68dfc2094a459.png
            [latest_price] => 15000.00
            [created_at] => 2025-10-07 08:57:21
        )

    [8] => Array
        (
            [id] => 111
            [commodity_name] => Tomat
            [unit] => KG
            [image_path] => commodity_68dfc1fee3486.png
            [latest_price] => 12000.00
            [created_at] => 2025-10-07 08:57:34
        )

)

[07-Oct-2025 20:46:36 UTC] Data komoditas ditemukan: 9 item
[07-Oct-2025 20:46:36 UTC] Sample data: Array
(
    [0] => Array
        (
            [id] => 87
            [commodity_name] => Bawang Bombay
            [unit] => KG
            [image_path] => commodity_68dfbfcbc270b.png
            [latest_price] => 50000.00
            [created_at] => 2025-10-07 16:45:05
        )

)

[07-Oct-2025 20:46:36 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[07-Oct-2025 20:46:36 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[07-Oct-2025 20:46:36 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:46:36 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:46:36 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[07-Oct-2025 20:46:36 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[07-Oct-2025 20:46:36 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:46:36 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:46:36 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[07-Oct-2025 20:46:36 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[07-Oct-2025 20:46:36 UTC] getStablePrices found 0 results
[07-Oct-2025 20:47:42 UTC] Koneksi database berhasil
[07-Oct-2025 20:47:42 UTC] Jumlah data di tabel prices: 17
[07-Oct-2025 20:47:42 UTC] Jumlah data di tabel commodities: 44
[07-Oct-2025 20:47:42 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[07-Oct-2025 20:47:42 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 2
)

[07-Oct-2025 20:47:42 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:47:42 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:47:42 UTC] Hasil getTopIncreasingPrices: Array
(
)

[07-Oct-2025 20:47:42 UTC] Latest commodity prices query results: Array
(
    [0] => Array
        (
            [id] => 87
            [commodity_name] => Bawang Bombay
            [unit] => KG
            [image_path] => commodity_68dfbfcbc270b.png
            [latest_price] => 50000.00
            [created_at] => 2025-10-07 16:45:05
        )

    [1] => Array
        (
            [id] => 89
            [commodity_name] => Bawang Merah
            [unit] => KG
            [image_path] => commodity_68dfbfc0a703b.png
            [latest_price] => 40000.00
            [created_at] => 2025-10-07 16:45:26
        )

    [2] => Array
        (
            [id] => 86
            [commodity_name] => Bawang Putih Honan
            [unit] => KG
            [image_path] => commodity_68dfbf941713e.png
            [latest_price] => 25000.00
            [created_at] => 2025-10-05 15:18:34
        )

    [3] => Array
        (
            [id] => 94
            [commodity_name] => Beras Premium - SJ
            [unit] => KG
            [image_path] => commodity_68dfc054a4de7.png
            [latest_price] => 12000.00
            [created_at] => 2025-10-04 11:06:44
        )

    [4] => Array
        (
            [id] => 84
            [commodity_name] => Cabai Rawit Lokal
            [unit] => KG
            [image_path] => commodity_68dfbf462d57c.png
            [latest_price] => 95000.00
            [created_at] => 2025-10-05 15:18:15
        )

    [5] => Array
        (
            [id] => 79
            [commodity_name] => Daging Ayam Kampung
            [unit] => KG
            [image_path] => commodity_68dfbee813246.png
            [latest_price] => 25500.00
            [created_at] => 2025-10-05 15:18:53
        )

    [6] => Array
        (
            [id] => 96
            [commodity_name] => Garam Halus
            [unit] => KG
            [image_path] => commodity_68dfc08a8320d.png
            [latest_price] => 9000.00
            [created_at] => 2025-10-07 08:57:47
        )

    [7] => Array
        (
            [id] => 112
            [commodity_name] => Timun (uk. Sedang)
            [unit] => KG
            [image_path] => commodity_68dfc2094a459.png
            [latest_price] => 15000.00
            [created_at] => 2025-10-07 08:57:21
        )

    [8] => Array
        (
            [id] => 111
            [commodity_name] => Tomat
            [unit] => KG
            [image_path] => commodity_68dfc1fee3486.png
            [latest_price] => 12000.00
            [created_at] => 2025-10-07 08:57:34
        )

)

[07-Oct-2025 20:47:42 UTC] Data komoditas ditemukan: 9 item
[07-Oct-2025 20:47:42 UTC] Sample data: Array
(
    [0] => Array
        (
            [id] => 87
            [commodity_name] => Bawang Bombay
            [unit] => KG
            [image_path] => commodity_68dfbfcbc270b.png
            [latest_price] => 50000.00
            [created_at] => 2025-10-07 16:45:05
        )

)

[07-Oct-2025 20:47:42 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[07-Oct-2025 20:47:42 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[07-Oct-2025 20:47:42 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:47:42 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:47:42 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[07-Oct-2025 20:47:42 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[07-Oct-2025 20:47:42 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:47:42 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:47:42 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[07-Oct-2025 20:47:42 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[07-Oct-2025 20:47:42 UTC] getStablePrices found 0 results
[07-Oct-2025 20:47:42 UTC] Koneksi database berhasil
[07-Oct-2025 20:47:42 UTC] Jumlah data di tabel prices: 17
[07-Oct-2025 20:47:42 UTC] Jumlah data di tabel commodities: 44
[07-Oct-2025 20:47:42 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[07-Oct-2025 20:47:42 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 2
)

[07-Oct-2025 20:47:42 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:47:42 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:47:42 UTC] Hasil getTopIncreasingPrices: Array
(
)

[07-Oct-2025 20:47:42 UTC] Latest commodity prices query results: Array
(
    [0] => Array
        (
            [id] => 87
            [commodity_name] => Bawang Bombay
            [unit] => KG
            [image_path] => commodity_68dfbfcbc270b.png
            [latest_price] => 50000.00
            [created_at] => 2025-10-07 16:45:05
        )

    [1] => Array
        (
            [id] => 89
            [commodity_name] => Bawang Merah
            [unit] => KG
            [image_path] => commodity_68dfbfc0a703b.png
            [latest_price] => 40000.00
            [created_at] => 2025-10-07 16:45:26
        )

    [2] => Array
        (
            [id] => 86
            [commodity_name] => Bawang Putih Honan
            [unit] => KG
            [image_path] => commodity_68dfbf941713e.png
            [latest_price] => 25000.00
            [created_at] => 2025-10-05 15:18:34
        )

    [3] => Array
        (
            [id] => 94
            [commodity_name] => Beras Premium - SJ
            [unit] => KG
            [image_path] => commodity_68dfc054a4de7.png
            [latest_price] => 12000.00
            [created_at] => 2025-10-04 11:06:44
        )

    [4] => Array
        (
            [id] => 84
            [commodity_name] => Cabai Rawit Lokal
            [unit] => KG
            [image_path] => commodity_68dfbf462d57c.png
            [latest_price] => 95000.00
            [created_at] => 2025-10-05 15:18:15
        )

    [5] => Array
        (
            [id] => 79
            [commodity_name] => Daging Ayam Kampung
            [unit] => KG
            [image_path] => commodity_68dfbee813246.png
            [latest_price] => 25500.00
            [created_at] => 2025-10-05 15:18:53
        )

    [6] => Array
        (
            [id] => 96
            [commodity_name] => Garam Halus
            [unit] => KG
            [image_path] => commodity_68dfc08a8320d.png
            [latest_price] => 9000.00
            [created_at] => 2025-10-07 08:57:47
        )

    [7] => Array
        (
            [id] => 112
            [commodity_name] => Timun (uk. Sedang)
            [unit] => KG
            [image_path] => commodity_68dfc2094a459.png
            [latest_price] => 15000.00
            [created_at] => 2025-10-07 08:57:21
        )

    [8] => Array
        (
            [id] => 111
            [commodity_name] => Tomat
            [unit] => KG
            [image_path] => commodity_68dfc1fee3486.png
            [latest_price] => 12000.00
            [created_at] => 2025-10-07 08:57:34
        )

)

[07-Oct-2025 20:47:42 UTC] Data komoditas ditemukan: 9 item
[07-Oct-2025 20:47:42 UTC] Sample data: Array
(
    [0] => Array
        (
            [id] => 87
            [commodity_name] => Bawang Bombay
            [unit] => KG
            [image_path] => commodity_68dfbfcbc270b.png
            [latest_price] => 50000.00
            [created_at] => 2025-10-07 16:45:05
        )

)

[07-Oct-2025 20:47:42 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[07-Oct-2025 20:47:42 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[07-Oct-2025 20:47:42 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:47:42 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:47:42 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[07-Oct-2025 20:47:42 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[07-Oct-2025 20:47:42 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:47:42 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:47:42 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[07-Oct-2025 20:47:42 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[07-Oct-2025 20:47:43 UTC] getStablePrices found 0 results
[07-Oct-2025 20:47:48 UTC] Koneksi database berhasil
[07-Oct-2025 20:47:48 UTC] Jumlah data di tabel prices: 17
[07-Oct-2025 20:47:48 UTC] Jumlah data di tabel commodities: 44
[07-Oct-2025 20:47:48 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[07-Oct-2025 20:47:48 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 2
)

[07-Oct-2025 20:47:48 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:47:48 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:47:48 UTC] Hasil getTopIncreasingPrices: Array
(
)

[07-Oct-2025 20:47:48 UTC] Latest commodity prices query results: Array
(
    [0] => Array
        (
            [id] => 87
            [commodity_name] => Bawang Bombay
            [unit] => KG
            [image_path] => commodity_68dfbfcbc270b.png
            [latest_price] => 50000.00
            [created_at] => 2025-10-07 16:45:05
        )

    [1] => Array
        (
            [id] => 89
            [commodity_name] => Bawang Merah
            [unit] => KG
            [image_path] => commodity_68dfbfc0a703b.png
            [latest_price] => 40000.00
            [created_at] => 2025-10-07 16:45:26
        )

    [2] => Array
        (
            [id] => 86
            [commodity_name] => Bawang Putih Honan
            [unit] => KG
            [image_path] => commodity_68dfbf941713e.png
            [latest_price] => 25000.00
            [created_at] => 2025-10-05 15:18:34
        )

    [3] => Array
        (
            [id] => 94
            [commodity_name] => Beras Premium - SJ
            [unit] => KG
            [image_path] => commodity_68dfc054a4de7.png
            [latest_price] => 12000.00
            [created_at] => 2025-10-04 11:06:44
        )

    [4] => Array
        (
            [id] => 84
            [commodity_name] => Cabai Rawit Lokal
            [unit] => KG
            [image_path] => commodity_68dfbf462d57c.png
            [latest_price] => 95000.00
            [created_at] => 2025-10-05 15:18:15
        )

    [5] => Array
        (
            [id] => 79
            [commodity_name] => Daging Ayam Kampung
            [unit] => KG
            [image_path] => commodity_68dfbee813246.png
            [latest_price] => 25500.00
            [created_at] => 2025-10-05 15:18:53
        )

    [6] => Array
        (
            [id] => 96
            [commodity_name] => Garam Halus
            [unit] => KG
            [image_path] => commodity_68dfc08a8320d.png
            [latest_price] => 9000.00
            [created_at] => 2025-10-07 08:57:47
        )

    [7] => Array
        (
            [id] => 112
            [commodity_name] => Timun (uk. Sedang)
            [unit] => KG
            [image_path] => commodity_68dfc2094a459.png
            [latest_price] => 15000.00
            [created_at] => 2025-10-07 08:57:21
        )

    [8] => Array
        (
            [id] => 111
            [commodity_name] => Tomat
            [unit] => KG
            [image_path] => commodity_68dfc1fee3486.png
            [latest_price] => 12000.00
            [created_at] => 2025-10-07 08:57:34
        )

)

[07-Oct-2025 20:47:48 UTC] Data komoditas ditemukan: 9 item
[07-Oct-2025 20:47:48 UTC] Sample data: Array
(
    [0] => Array
        (
            [id] => 87
            [commodity_name] => Bawang Bombay
            [unit] => KG
            [image_path] => commodity_68dfbfcbc270b.png
            [latest_price] => 50000.00
            [created_at] => 2025-10-07 16:45:05
        )

)

[07-Oct-2025 20:47:48 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[07-Oct-2025 20:47:48 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[07-Oct-2025 20:47:48 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:47:48 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:47:48 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[07-Oct-2025 20:47:48 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[07-Oct-2025 20:47:48 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:47:48 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:47:48 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[07-Oct-2025 20:47:48 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[07-Oct-2025 20:47:48 UTC] getStablePrices found 0 results
[07-Oct-2025 20:47:49 UTC] Koneksi database berhasil
[07-Oct-2025 20:47:49 UTC] Jumlah data di tabel prices: 17
[07-Oct-2025 20:47:49 UTC] Jumlah data di tabel commodities: 44
[07-Oct-2025 20:47:49 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[07-Oct-2025 20:47:49 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 2
)

[07-Oct-2025 20:47:49 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:47:49 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:47:49 UTC] Hasil getTopIncreasingPrices: Array
(
)

[07-Oct-2025 20:47:49 UTC] Latest commodity prices query results: Array
(
    [0] => Array
        (
            [id] => 87
            [commodity_name] => Bawang Bombay
            [unit] => KG
            [image_path] => commodity_68dfbfcbc270b.png
            [latest_price] => 50000.00
            [created_at] => 2025-10-07 16:45:05
        )

    [1] => Array
        (
            [id] => 89
            [commodity_name] => Bawang Merah
            [unit] => KG
            [image_path] => commodity_68dfbfc0a703b.png
            [latest_price] => 40000.00
            [created_at] => 2025-10-07 16:45:26
        )

    [2] => Array
        (
            [id] => 86
            [commodity_name] => Bawang Putih Honan
            [unit] => KG
            [image_path] => commodity_68dfbf941713e.png
            [latest_price] => 25000.00
            [created_at] => 2025-10-05 15:18:34
        )

    [3] => Array
        (
            [id] => 94
            [commodity_name] => Beras Premium - SJ
            [unit] => KG
            [image_path] => commodity_68dfc054a4de7.png
            [latest_price] => 12000.00
            [created_at] => 2025-10-04 11:06:44
        )

    [4] => Array
        (
            [id] => 84
            [commodity_name] => Cabai Rawit Lokal
            [unit] => KG
            [image_path] => commodity_68dfbf462d57c.png
            [latest_price] => 95000.00
            [created_at] => 2025-10-05 15:18:15
        )

    [5] => Array
        (
            [id] => 79
            [commodity_name] => Daging Ayam Kampung
            [unit] => KG
            [image_path] => commodity_68dfbee813246.png
            [latest_price] => 25500.00
            [created_at] => 2025-10-05 15:18:53
        )

    [6] => Array
        (
            [id] => 96
            [commodity_name] => Garam Halus
            [unit] => KG
            [image_path] => commodity_68dfc08a8320d.png
            [latest_price] => 9000.00
            [created_at] => 2025-10-07 08:57:47
        )

    [7] => Array
        (
            [id] => 112
            [commodity_name] => Timun (uk. Sedang)
            [unit] => KG
            [image_path] => commodity_68dfc2094a459.png
            [latest_price] => 15000.00
            [created_at] => 2025-10-07 08:57:21
        )

    [8] => Array
        (
            [id] => 111
            [commodity_name] => Tomat
            [unit] => KG
            [image_path] => commodity_68dfc1fee3486.png
            [latest_price] => 12000.00
            [created_at] => 2025-10-07 08:57:34
        )

)

[07-Oct-2025 20:47:49 UTC] Data komoditas ditemukan: 9 item
[07-Oct-2025 20:47:49 UTC] Sample data: Array
(
    [0] => Array
        (
            [id] => 87
            [commodity_name] => Bawang Bombay
            [unit] => KG
            [image_path] => commodity_68dfbfcbc270b.png
            [latest_price] => 50000.00
            [created_at] => 2025-10-07 16:45:05
        )

)

[07-Oct-2025 20:47:49 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[07-Oct-2025 20:47:49 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[07-Oct-2025 20:47:49 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:47:49 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:47:49 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[07-Oct-2025 20:47:49 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[07-Oct-2025 20:47:49 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:47:49 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:47:49 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[07-Oct-2025 20:47:49 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[07-Oct-2025 20:47:49 UTC] getStablePrices found 0 results
[07-Oct-2025 20:47:50 UTC] Koneksi database berhasil
[07-Oct-2025 20:47:50 UTC] Jumlah data di tabel prices: 17
[07-Oct-2025 20:47:50 UTC] Jumlah data di tabel commodities: 44
[07-Oct-2025 20:47:50 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[07-Oct-2025 20:47:50 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 2
)

[07-Oct-2025 20:47:50 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:47:50 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:47:50 UTC] Hasil getTopIncreasingPrices: Array
(
)

[07-Oct-2025 20:47:50 UTC] Latest commodity prices query results: Array
(
    [0] => Array
        (
            [id] => 87
            [commodity_name] => Bawang Bombay
            [unit] => KG
            [image_path] => commodity_68dfbfcbc270b.png
            [latest_price] => 50000.00
            [created_at] => 2025-10-07 16:45:05
        )

    [1] => Array
        (
            [id] => 89
            [commodity_name] => Bawang Merah
            [unit] => KG
            [image_path] => commodity_68dfbfc0a703b.png
            [latest_price] => 40000.00
            [created_at] => 2025-10-07 16:45:26
        )

    [2] => Array
        (
            [id] => 86
            [commodity_name] => Bawang Putih Honan
            [unit] => KG
            [image_path] => commodity_68dfbf941713e.png
            [latest_price] => 25000.00
            [created_at] => 2025-10-05 15:18:34
        )

    [3] => Array
        (
            [id] => 94
            [commodity_name] => Beras Premium - SJ
            [unit] => KG
            [image_path] => commodity_68dfc054a4de7.png
            [latest_price] => 12000.00
            [created_at] => 2025-10-04 11:06:44
        )

    [4] => Array
        (
            [id] => 84
            [commodity_name] => Cabai Rawit Lokal
            [unit] => KG
            [image_path] => commodity_68dfbf462d57c.png
            [latest_price] => 95000.00
            [created_at] => 2025-10-05 15:18:15
        )

    [5] => Array
        (
            [id] => 79
            [commodity_name] => Daging Ayam Kampung
            [unit] => KG
            [image_path] => commodity_68dfbee813246.png
            [latest_price] => 25500.00
            [created_at] => 2025-10-05 15:18:53
        )

    [6] => Array
        (
            [id] => 96
            [commodity_name] => Garam Halus
            [unit] => KG
            [image_path] => commodity_68dfc08a8320d.png
            [latest_price] => 9000.00
            [created_at] => 2025-10-07 08:57:47
        )

    [7] => Array
        (
            [id] => 112
            [commodity_name] => Timun (uk. Sedang)
            [unit] => KG
            [image_path] => commodity_68dfc2094a459.png
            [latest_price] => 15000.00
            [created_at] => 2025-10-07 08:57:21
        )

    [8] => Array
        (
            [id] => 111
            [commodity_name] => Tomat
            [unit] => KG
            [image_path] => commodity_68dfc1fee3486.png
            [latest_price] => 12000.00
            [created_at] => 2025-10-07 08:57:34
        )

)

[07-Oct-2025 20:47:50 UTC] Data komoditas ditemukan: 9 item
[07-Oct-2025 20:47:50 UTC] Sample data: Array
(
    [0] => Array
        (
            [id] => 87
            [commodity_name] => Bawang Bombay
            [unit] => KG
            [image_path] => commodity_68dfbfcbc270b.png
            [latest_price] => 50000.00
            [created_at] => 2025-10-07 16:45:05
        )

)

[07-Oct-2025 20:47:50 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[07-Oct-2025 20:47:50 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[07-Oct-2025 20:47:50 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:47:50 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:47:50 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[07-Oct-2025 20:47:50 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[07-Oct-2025 20:47:50 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:47:50 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:47:50 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[07-Oct-2025 20:47:50 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[07-Oct-2025 20:47:50 UTC] getStablePrices found 0 results
[07-Oct-2025 20:47:51 UTC] Koneksi database berhasil
[07-Oct-2025 20:47:51 UTC] Jumlah data di tabel prices: 17
[07-Oct-2025 20:47:51 UTC] Jumlah data di tabel commodities: 44
[07-Oct-2025 20:47:51 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[07-Oct-2025 20:47:51 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 2
)

[07-Oct-2025 20:47:51 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:47:51 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:47:51 UTC] Hasil getTopIncreasingPrices: Array
(
)

[07-Oct-2025 20:47:51 UTC] Latest commodity prices query results: Array
(
    [0] => Array
        (
            [id] => 87
            [commodity_name] => Bawang Bombay
            [unit] => KG
            [image_path] => commodity_68dfbfcbc270b.png
            [latest_price] => 50000.00
            [created_at] => 2025-10-07 16:45:05
        )

    [1] => Array
        (
            [id] => 89
            [commodity_name] => Bawang Merah
            [unit] => KG
            [image_path] => commodity_68dfbfc0a703b.png
            [latest_price] => 40000.00
            [created_at] => 2025-10-07 16:45:26
        )

    [2] => Array
        (
            [id] => 86
            [commodity_name] => Bawang Putih Honan
            [unit] => KG
            [image_path] => commodity_68dfbf941713e.png
            [latest_price] => 25000.00
            [created_at] => 2025-10-05 15:18:34
        )

    [3] => Array
        (
            [id] => 94
            [commodity_name] => Beras Premium - SJ
            [unit] => KG
            [image_path] => commodity_68dfc054a4de7.png
            [latest_price] => 12000.00
            [created_at] => 2025-10-04 11:06:44
        )

    [4] => Array
        (
            [id] => 84
            [commodity_name] => Cabai Rawit Lokal
            [unit] => KG
            [image_path] => commodity_68dfbf462d57c.png
            [latest_price] => 95000.00
            [created_at] => 2025-10-05 15:18:15
        )

    [5] => Array
        (
            [id] => 79
            [commodity_name] => Daging Ayam Kampung
            [unit] => KG
            [image_path] => commodity_68dfbee813246.png
            [latest_price] => 25500.00
            [created_at] => 2025-10-05 15:18:53
        )

    [6] => Array
        (
            [id] => 96
            [commodity_name] => Garam Halus
            [unit] => KG
            [image_path] => commodity_68dfc08a8320d.png
            [latest_price] => 9000.00
            [created_at] => 2025-10-07 08:57:47
        )

    [7] => Array
        (
            [id] => 112
            [commodity_name] => Timun (uk. Sedang)
            [unit] => KG
            [image_path] => commodity_68dfc2094a459.png
            [latest_price] => 15000.00
            [created_at] => 2025-10-07 08:57:21
        )

    [8] => Array
        (
            [id] => 111
            [commodity_name] => Tomat
            [unit] => KG
            [image_path] => commodity_68dfc1fee3486.png
            [latest_price] => 12000.00
            [created_at] => 2025-10-07 08:57:34
        )

)

[07-Oct-2025 20:47:51 UTC] Data komoditas ditemukan: 9 item
[07-Oct-2025 20:47:51 UTC] Sample data: Array
(
    [0] => Array
        (
            [id] => 87
            [commodity_name] => Bawang Bombay
            [unit] => KG
            [image_path] => commodity_68dfbfcbc270b.png
            [latest_price] => 50000.00
            [created_at] => 2025-10-07 16:45:05
        )

)

[07-Oct-2025 20:47:51 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[07-Oct-2025 20:47:51 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[07-Oct-2025 20:47:51 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:47:51 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:47:51 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[07-Oct-2025 20:47:51 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[07-Oct-2025 20:47:51 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:47:51 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:47:51 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[07-Oct-2025 20:47:51 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[07-Oct-2025 20:47:51 UTC] getStablePrices found 0 results
[07-Oct-2025 20:49:23 UTC] Koneksi database berhasil
[07-Oct-2025 20:49:23 UTC] Jumlah data di tabel prices: 17
[07-Oct-2025 20:49:23 UTC] Jumlah data di tabel commodities: 44
[07-Oct-2025 20:49:23 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[07-Oct-2025 20:49:23 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 2
)

[07-Oct-2025 20:49:23 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:49:23 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:49:23 UTC] Hasil getTopIncreasingPrices: Array
(
)

[07-Oct-2025 20:49:23 UTC] Latest commodity prices query results: Array
(
    [0] => Array
        (
            [id] => 87
            [commodity_name] => Bawang Bombay
            [unit] => KG
            [image_path] => commodity_68dfbfcbc270b.png
            [latest_price] => 50000.00
            [created_at] => 2025-10-07 16:45:05
        )

    [1] => Array
        (
            [id] => 89
            [commodity_name] => Bawang Merah
            [unit] => KG
            [image_path] => commodity_68dfbfc0a703b.png
            [latest_price] => 40000.00
            [created_at] => 2025-10-07 16:45:26
        )

    [2] => Array
        (
            [id] => 86
            [commodity_name] => Bawang Putih Honan
            [unit] => KG
            [image_path] => commodity_68dfbf941713e.png
            [latest_price] => 25000.00
            [created_at] => 2025-10-05 15:18:34
        )

    [3] => Array
        (
            [id] => 94
            [commodity_name] => Beras Premium - SJ
            [unit] => KG
            [image_path] => commodity_68dfc054a4de7.png
            [latest_price] => 12000.00
            [created_at] => 2025-10-04 11:06:44
        )

    [4] => Array
        (
            [id] => 84
            [commodity_name] => Cabai Rawit Lokal
            [unit] => KG
            [image_path] => commodity_68dfbf462d57c.png
            [latest_price] => 95000.00
            [created_at] => 2025-10-05 15:18:15
        )

    [5] => Array
        (
            [id] => 79
            [commodity_name] => Daging Ayam Kampung
            [unit] => KG
            [image_path] => commodity_68dfbee813246.png
            [latest_price] => 25500.00
            [created_at] => 2025-10-05 15:18:53
        )

    [6] => Array
        (
            [id] => 96
            [commodity_name] => Garam Halus
            [unit] => KG
            [image_path] => commodity_68dfc08a8320d.png
            [latest_price] => 9000.00
            [created_at] => 2025-10-07 08:57:47
        )

    [7] => Array
        (
            [id] => 112
            [commodity_name] => Timun (uk. Sedang)
            [unit] => KG
            [image_path] => commodity_68dfc2094a459.png
            [latest_price] => 15000.00
            [created_at] => 2025-10-07 08:57:21
        )

    [8] => Array
        (
            [id] => 111
            [commodity_name] => Tomat
            [unit] => KG
            [image_path] => commodity_68dfc1fee3486.png
            [latest_price] => 12000.00
            [created_at] => 2025-10-07 08:57:34
        )

)

[07-Oct-2025 20:49:23 UTC] Data komoditas ditemukan: 9 item
[07-Oct-2025 20:49:23 UTC] Sample data: Array
(
    [0] => Array
        (
            [id] => 87
            [commodity_name] => Bawang Bombay
            [unit] => KG
            [image_path] => commodity_68dfbfcbc270b.png
            [latest_price] => 50000.00
            [created_at] => 2025-10-07 16:45:05
        )

)

[07-Oct-2025 20:49:23 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[07-Oct-2025 20:49:23 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[07-Oct-2025 20:49:23 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:49:23 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:49:23 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[07-Oct-2025 20:49:23 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[07-Oct-2025 20:49:23 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:49:23 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:49:23 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[07-Oct-2025 20:49:23 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[07-Oct-2025 20:49:23 UTC] getStablePrices found 0 results
[07-Oct-2025 20:49:23 UTC] Koneksi database berhasil
[07-Oct-2025 20:49:23 UTC] Jumlah data di tabel prices: 17
[07-Oct-2025 20:49:23 UTC] Jumlah data di tabel commodities: 44
[07-Oct-2025 20:49:23 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[07-Oct-2025 20:49:23 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 2
)

[07-Oct-2025 20:49:23 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:49:23 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:49:23 UTC] Hasil getTopIncreasingPrices: Array
(
)

[07-Oct-2025 20:49:23 UTC] Latest commodity prices query results: Array
(
    [0] => Array
        (
            [id] => 87
            [commodity_name] => Bawang Bombay
            [unit] => KG
            [image_path] => commodity_68dfbfcbc270b.png
            [latest_price] => 50000.00
            [created_at] => 2025-10-07 16:45:05
        )

    [1] => Array
        (
            [id] => 89
            [commodity_name] => Bawang Merah
            [unit] => KG
            [image_path] => commodity_68dfbfc0a703b.png
            [latest_price] => 40000.00
            [created_at] => 2025-10-07 16:45:26
        )

    [2] => Array
        (
            [id] => 86
            [commodity_name] => Bawang Putih Honan
            [unit] => KG
            [image_path] => commodity_68dfbf941713e.png
            [latest_price] => 25000.00
            [created_at] => 2025-10-05 15:18:34
        )

    [3] => Array
        (
            [id] => 94
            [commodity_name] => Beras Premium - SJ
            [unit] => KG
            [image_path] => commodity_68dfc054a4de7.png
            [latest_price] => 12000.00
            [created_at] => 2025-10-04 11:06:44
        )

    [4] => Array
        (
            [id] => 84
            [commodity_name] => Cabai Rawit Lokal
            [unit] => KG
            [image_path] => commodity_68dfbf462d57c.png
            [latest_price] => 95000.00
            [created_at] => 2025-10-05 15:18:15
        )

    [5] => Array
        (
            [id] => 79
            [commodity_name] => Daging Ayam Kampung
            [unit] => KG
            [image_path] => commodity_68dfbee813246.png
            [latest_price] => 25500.00
            [created_at] => 2025-10-05 15:18:53
        )

    [6] => Array
        (
            [id] => 96
            [commodity_name] => Garam Halus
            [unit] => KG
            [image_path] => commodity_68dfc08a8320d.png
            [latest_price] => 9000.00
            [created_at] => 2025-10-07 08:57:47
        )

    [7] => Array
        (
            [id] => 112
            [commodity_name] => Timun (uk. Sedang)
            [unit] => KG
            [image_path] => commodity_68dfc2094a459.png
            [latest_price] => 15000.00
            [created_at] => 2025-10-07 08:57:21
        )

    [8] => Array
        (
            [id] => 111
            [commodity_name] => Tomat
            [unit] => KG
            [image_path] => commodity_68dfc1fee3486.png
            [latest_price] => 12000.00
            [created_at] => 2025-10-07 08:57:34
        )

)

[07-Oct-2025 20:49:23 UTC] Data komoditas ditemukan: 9 item
[07-Oct-2025 20:49:23 UTC] Sample data: Array
(
    [0] => Array
        (
            [id] => 87
            [commodity_name] => Bawang Bombay
            [unit] => KG
            [image_path] => commodity_68dfbfcbc270b.png
            [latest_price] => 50000.00
            [created_at] => 2025-10-07 16:45:05
        )

)

[07-Oct-2025 20:49:23 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[07-Oct-2025 20:49:23 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[07-Oct-2025 20:49:23 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:49:23 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:49:23 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[07-Oct-2025 20:49:23 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[07-Oct-2025 20:49:23 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:49:23 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:49:23 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[07-Oct-2025 20:49:23 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[07-Oct-2025 20:49:23 UTC] getStablePrices found 0 results
[07-Oct-2025 20:51:06 UTC] Koneksi database berhasil
[07-Oct-2025 20:51:06 UTC] Jumlah data di tabel prices: 17
[07-Oct-2025 20:51:06 UTC] Jumlah data di tabel commodities: 44
[07-Oct-2025 20:51:06 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[07-Oct-2025 20:51:06 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 2
)

[07-Oct-2025 20:51:06 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:51:06 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:51:06 UTC] Hasil getTopIncreasingPrices: Array
(
)

[07-Oct-2025 20:51:06 UTC] Latest commodity prices query results: Array
(
    [0] => Array
        (
            [id] => 87
            [commodity_name] => Bawang Bombay
            [unit] => KG
            [image_path] => commodity_68dfbfcbc270b.png
            [latest_price] => 50000.00
            [created_at] => 2025-10-07 16:45:05
        )

    [1] => Array
        (
            [id] => 89
            [commodity_name] => Bawang Merah
            [unit] => KG
            [image_path] => commodity_68dfbfc0a703b.png
            [latest_price] => 40000.00
            [created_at] => 2025-10-07 16:45:26
        )

    [2] => Array
        (
            [id] => 86
            [commodity_name] => Bawang Putih Honan
            [unit] => KG
            [image_path] => commodity_68dfbf941713e.png
            [latest_price] => 25000.00
            [created_at] => 2025-10-05 15:18:34
        )

    [3] => Array
        (
            [id] => 94
            [commodity_name] => Beras Premium - SJ
            [unit] => KG
            [image_path] => commodity_68dfc054a4de7.png
            [latest_price] => 12000.00
            [created_at] => 2025-10-04 11:06:44
        )

    [4] => Array
        (
            [id] => 84
            [commodity_name] => Cabai Rawit Lokal
            [unit] => KG
            [image_path] => commodity_68dfbf462d57c.png
            [latest_price] => 95000.00
            [created_at] => 2025-10-05 15:18:15
        )

    [5] => Array
        (
            [id] => 79
            [commodity_name] => Daging Ayam Kampung
            [unit] => KG
            [image_path] => commodity_68dfbee813246.png
            [latest_price] => 25500.00
            [created_at] => 2025-10-05 15:18:53
        )

    [6] => Array
        (
            [id] => 96
            [commodity_name] => Garam Halus
            [unit] => KG
            [image_path] => commodity_68dfc08a8320d.png
            [latest_price] => 9000.00
            [created_at] => 2025-10-07 08:57:47
        )

    [7] => Array
        (
            [id] => 112
            [commodity_name] => Timun (uk. Sedang)
            [unit] => KG
            [image_path] => commodity_68dfc2094a459.png
            [latest_price] => 15000.00
            [created_at] => 2025-10-07 08:57:21
        )

    [8] => Array
        (
            [id] => 111
            [commodity_name] => Tomat
            [unit] => KG
            [image_path] => commodity_68dfc1fee3486.png
            [latest_price] => 12000.00
            [created_at] => 2025-10-07 08:57:34
        )

)

[07-Oct-2025 20:51:06 UTC] Data komoditas ditemukan: 9 item
[07-Oct-2025 20:51:06 UTC] Sample data: Array
(
    [0] => Array
        (
            [id] => 87
            [commodity_name] => Bawang Bombay
            [unit] => KG
            [image_path] => commodity_68dfbfcbc270b.png
            [latest_price] => 50000.00
            [created_at] => 2025-10-07 16:45:05
        )

)

[07-Oct-2025 20:51:06 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[07-Oct-2025 20:51:06 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[07-Oct-2025 20:51:06 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:51:06 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:51:06 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[07-Oct-2025 20:51:06 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[07-Oct-2025 20:51:06 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:51:06 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:51:06 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[07-Oct-2025 20:51:06 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[07-Oct-2025 20:51:06 UTC] getStablePrices found 0 results
[07-Oct-2025 20:51:07 UTC] Koneksi database berhasil
[07-Oct-2025 20:51:07 UTC] Jumlah data di tabel prices: 17
[07-Oct-2025 20:51:07 UTC] Jumlah data di tabel commodities: 44
[07-Oct-2025 20:51:07 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[07-Oct-2025 20:51:07 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 2
)

[07-Oct-2025 20:51:07 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:51:07 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:51:07 UTC] Hasil getTopIncreasingPrices: Array
(
)

[07-Oct-2025 20:51:07 UTC] Latest commodity prices query results: Array
(
    [0] => Array
        (
            [id] => 87
            [commodity_name] => Bawang Bombay
            [unit] => KG
            [image_path] => commodity_68dfbfcbc270b.png
            [latest_price] => 50000.00
            [created_at] => 2025-10-07 16:45:05
        )

    [1] => Array
        (
            [id] => 89
            [commodity_name] => Bawang Merah
            [unit] => KG
            [image_path] => commodity_68dfbfc0a703b.png
            [latest_price] => 40000.00
            [created_at] => 2025-10-07 16:45:26
        )

    [2] => Array
        (
            [id] => 86
            [commodity_name] => Bawang Putih Honan
            [unit] => KG
            [image_path] => commodity_68dfbf941713e.png
            [latest_price] => 25000.00
            [created_at] => 2025-10-05 15:18:34
        )

    [3] => Array
        (
            [id] => 94
            [commodity_name] => Beras Premium - SJ
            [unit] => KG
            [image_path] => commodity_68dfc054a4de7.png
            [latest_price] => 12000.00
            [created_at] => 2025-10-04 11:06:44
        )

    [4] => Array
        (
            [id] => 84
            [commodity_name] => Cabai Rawit Lokal
            [unit] => KG
            [image_path] => commodity_68dfbf462d57c.png
            [latest_price] => 95000.00
            [created_at] => 2025-10-05 15:18:15
        )

    [5] => Array
        (
            [id] => 79
            [commodity_name] => Daging Ayam Kampung
            [unit] => KG
            [image_path] => commodity_68dfbee813246.png
            [latest_price] => 25500.00
            [created_at] => 2025-10-05 15:18:53
        )

    [6] => Array
        (
            [id] => 96
            [commodity_name] => Garam Halus
            [unit] => KG
            [image_path] => commodity_68dfc08a8320d.png
            [latest_price] => 9000.00
            [created_at] => 2025-10-07 08:57:47
        )

    [7] => Array
        (
            [id] => 112
            [commodity_name] => Timun (uk. Sedang)
            [unit] => KG
            [image_path] => commodity_68dfc2094a459.png
            [latest_price] => 15000.00
            [created_at] => 2025-10-07 08:57:21
        )

    [8] => Array
        (
            [id] => 111
            [commodity_name] => Tomat
            [unit] => KG
            [image_path] => commodity_68dfc1fee3486.png
            [latest_price] => 12000.00
            [created_at] => 2025-10-07 08:57:34
        )

)

[07-Oct-2025 20:51:07 UTC] Data komoditas ditemukan: 9 item
[07-Oct-2025 20:51:07 UTC] Sample data: Array
(
    [0] => Array
        (
            [id] => 87
            [commodity_name] => Bawang Bombay
            [unit] => KG
            [image_path] => commodity_68dfbfcbc270b.png
            [latest_price] => 50000.00
            [created_at] => 2025-10-07 16:45:05
        )

)

[07-Oct-2025 20:51:07 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[07-Oct-2025 20:51:07 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[07-Oct-2025 20:51:07 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:51:07 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:51:07 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[07-Oct-2025 20:51:07 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[07-Oct-2025 20:51:07 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:51:07 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:51:07 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[07-Oct-2025 20:51:07 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[07-Oct-2025 20:51:07 UTC] getStablePrices found 0 results
[07-Oct-2025 20:51:50 UTC] Koneksi database berhasil
[07-Oct-2025 20:51:50 UTC] Jumlah data di tabel prices: 17
[07-Oct-2025 20:51:50 UTC] Jumlah data di tabel commodities: 44
[07-Oct-2025 20:51:50 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[07-Oct-2025 20:51:50 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 2
)

[07-Oct-2025 20:51:50 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:51:50 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:51:50 UTC] Hasil getTopIncreasingPrices: Array
(
)

[07-Oct-2025 20:51:50 UTC] Latest commodity prices query results: Array
(
    [0] => Array
        (
            [id] => 87
            [commodity_name] => Bawang Bombay
            [unit] => KG
            [image_path] => commodity_68dfbfcbc270b.png
            [latest_price] => 50000.00
            [created_at] => 2025-10-07 16:45:05
        )

    [1] => Array
        (
            [id] => 89
            [commodity_name] => Bawang Merah
            [unit] => KG
            [image_path] => commodity_68dfbfc0a703b.png
            [latest_price] => 40000.00
            [created_at] => 2025-10-07 16:45:26
        )

    [2] => Array
        (
            [id] => 86
            [commodity_name] => Bawang Putih Honan
            [unit] => KG
            [image_path] => commodity_68dfbf941713e.png
            [latest_price] => 25000.00
            [created_at] => 2025-10-05 15:18:34
        )

    [3] => Array
        (
            [id] => 94
            [commodity_name] => Beras Premium - SJ
            [unit] => KG
            [image_path] => commodity_68dfc054a4de7.png
            [latest_price] => 12000.00
            [created_at] => 2025-10-04 11:06:44
        )

    [4] => Array
        (
            [id] => 84
            [commodity_name] => Cabai Rawit Lokal
            [unit] => KG
            [image_path] => commodity_68dfbf462d57c.png
            [latest_price] => 95000.00
            [created_at] => 2025-10-05 15:18:15
        )

    [5] => Array
        (
            [id] => 79
            [commodity_name] => Daging Ayam Kampung
            [unit] => KG
            [image_path] => commodity_68dfbee813246.png
            [latest_price] => 25500.00
            [created_at] => 2025-10-05 15:18:53
        )

    [6] => Array
        (
            [id] => 96
            [commodity_name] => Garam Halus
            [unit] => KG
            [image_path] => commodity_68dfc08a8320d.png
            [latest_price] => 9000.00
            [created_at] => 2025-10-07 08:57:47
        )

    [7] => Array
        (
            [id] => 112
            [commodity_name] => Timun (uk. Sedang)
            [unit] => KG
            [image_path] => commodity_68dfc2094a459.png
            [latest_price] => 15000.00
            [created_at] => 2025-10-07 08:57:21
        )

    [8] => Array
        (
            [id] => 111
            [commodity_name] => Tomat
            [unit] => KG
            [image_path] => commodity_68dfc1fee3486.png
            [latest_price] => 12000.00
            [created_at] => 2025-10-07 08:57:34
        )

)

[07-Oct-2025 20:51:50 UTC] Data komoditas ditemukan: 9 item
[07-Oct-2025 20:51:50 UTC] Sample data: Array
(
    [0] => Array
        (
            [id] => 87
            [commodity_name] => Bawang Bombay
            [unit] => KG
            [image_path] => commodity_68dfbfcbc270b.png
            [latest_price] => 50000.00
            [created_at] => 2025-10-07 16:45:05
        )

)

[07-Oct-2025 20:51:50 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[07-Oct-2025 20:51:50 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[07-Oct-2025 20:51:50 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:51:50 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:51:50 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[07-Oct-2025 20:51:50 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[07-Oct-2025 20:51:50 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:51:50 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:51:50 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[07-Oct-2025 20:51:50 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[07-Oct-2025 20:51:50 UTC] getStablePrices found 0 results
[07-Oct-2025 20:51:50 UTC] Koneksi database berhasil
[07-Oct-2025 20:51:50 UTC] Jumlah data di tabel prices: 17
[07-Oct-2025 20:51:50 UTC] Jumlah data di tabel commodities: 44
[07-Oct-2025 20:51:50 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[07-Oct-2025 20:51:50 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 2
)

[07-Oct-2025 20:51:50 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:51:50 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:51:50 UTC] Hasil getTopIncreasingPrices: Array
(
)

[07-Oct-2025 20:51:50 UTC] Latest commodity prices query results: Array
(
    [0] => Array
        (
            [id] => 87
            [commodity_name] => Bawang Bombay
            [unit] => KG
            [image_path] => commodity_68dfbfcbc270b.png
            [latest_price] => 50000.00
            [created_at] => 2025-10-07 16:45:05
        )

    [1] => Array
        (
            [id] => 89
            [commodity_name] => Bawang Merah
            [unit] => KG
            [image_path] => commodity_68dfbfc0a703b.png
            [latest_price] => 40000.00
            [created_at] => 2025-10-07 16:45:26
        )

    [2] => Array
        (
            [id] => 86
            [commodity_name] => Bawang Putih Honan
            [unit] => KG
            [image_path] => commodity_68dfbf941713e.png
            [latest_price] => 25000.00
            [created_at] => 2025-10-05 15:18:34
        )

    [3] => Array
        (
            [id] => 94
            [commodity_name] => Beras Premium - SJ
            [unit] => KG
            [image_path] => commodity_68dfc054a4de7.png
            [latest_price] => 12000.00
            [created_at] => 2025-10-04 11:06:44
        )

    [4] => Array
        (
            [id] => 84
            [commodity_name] => Cabai Rawit Lokal
            [unit] => KG
            [image_path] => commodity_68dfbf462d57c.png
            [latest_price] => 95000.00
            [created_at] => 2025-10-05 15:18:15
        )

    [5] => Array
        (
            [id] => 79
            [commodity_name] => Daging Ayam Kampung
            [unit] => KG
            [image_path] => commodity_68dfbee813246.png
            [latest_price] => 25500.00
            [created_at] => 2025-10-05 15:18:53
        )

    [6] => Array
        (
            [id] => 96
            [commodity_name] => Garam Halus
            [unit] => KG
            [image_path] => commodity_68dfc08a8320d.png
            [latest_price] => 9000.00
            [created_at] => 2025-10-07 08:57:47
        )

    [7] => Array
        (
            [id] => 112
            [commodity_name] => Timun (uk. Sedang)
            [unit] => KG
            [image_path] => commodity_68dfc2094a459.png
            [latest_price] => 15000.00
            [created_at] => 2025-10-07 08:57:21
        )

    [8] => Array
        (
            [id] => 111
            [commodity_name] => Tomat
            [unit] => KG
            [image_path] => commodity_68dfc1fee3486.png
            [latest_price] => 12000.00
            [created_at] => 2025-10-07 08:57:34
        )

)

[07-Oct-2025 20:51:50 UTC] Data komoditas ditemukan: 9 item
[07-Oct-2025 20:51:50 UTC] Sample data: Array
(
    [0] => Array
        (
            [id] => 87
            [commodity_name] => Bawang Bombay
            [unit] => KG
            [image_path] => commodity_68dfbfcbc270b.png
            [latest_price] => 50000.00
            [created_at] => 2025-10-07 16:45:05
        )

)

[07-Oct-2025 20:51:50 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[07-Oct-2025 20:51:50 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[07-Oct-2025 20:51:50 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:51:50 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:51:50 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[07-Oct-2025 20:51:50 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[07-Oct-2025 20:51:50 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:51:50 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:51:50 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[07-Oct-2025 20:51:50 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[07-Oct-2025 20:51:50 UTC] getStablePrices found 0 results
[07-Oct-2025 20:52:33 UTC] Koneksi database berhasil
[07-Oct-2025 20:52:33 UTC] Jumlah data di tabel prices: 17
[07-Oct-2025 20:52:33 UTC] Jumlah data di tabel commodities: 44
[07-Oct-2025 20:52:33 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[07-Oct-2025 20:52:33 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 2
)

[07-Oct-2025 20:52:33 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:52:33 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:52:33 UTC] Hasil getTopIncreasingPrices: Array
(
)

[07-Oct-2025 20:52:33 UTC] Latest commodity prices query results: Array
(
    [0] => Array
        (
            [id] => 87
            [commodity_name] => Bawang Bombay
            [unit] => KG
            [image_path] => commodity_68dfbfcbc270b.png
            [latest_price] => 50000.00
            [created_at] => 2025-10-07 16:45:05
        )

    [1] => Array
        (
            [id] => 89
            [commodity_name] => Bawang Merah
            [unit] => KG
            [image_path] => commodity_68dfbfc0a703b.png
            [latest_price] => 40000.00
            [created_at] => 2025-10-07 16:45:26
        )

    [2] => Array
        (
            [id] => 86
            [commodity_name] => Bawang Putih Honan
            [unit] => KG
            [image_path] => commodity_68dfbf941713e.png
            [latest_price] => 25000.00
            [created_at] => 2025-10-05 15:18:34
        )

    [3] => Array
        (
            [id] => 94
            [commodity_name] => Beras Premium - SJ
            [unit] => KG
            [image_path] => commodity_68dfc054a4de7.png
            [latest_price] => 12000.00
            [created_at] => 2025-10-04 11:06:44
        )

    [4] => Array
        (
            [id] => 84
            [commodity_name] => Cabai Rawit Lokal
            [unit] => KG
            [image_path] => commodity_68dfbf462d57c.png
            [latest_price] => 95000.00
            [created_at] => 2025-10-05 15:18:15
        )

    [5] => Array
        (
            [id] => 79
            [commodity_name] => Daging Ayam Kampung
            [unit] => KG
            [image_path] => commodity_68dfbee813246.png
            [latest_price] => 25500.00
            [created_at] => 2025-10-05 15:18:53
        )

    [6] => Array
        (
            [id] => 96
            [commodity_name] => Garam Halus
            [unit] => KG
            [image_path] => commodity_68dfc08a8320d.png
            [latest_price] => 9000.00
            [created_at] => 2025-10-07 08:57:47
        )

    [7] => Array
        (
            [id] => 112
            [commodity_name] => Timun (uk. Sedang)
            [unit] => KG
            [image_path] => commodity_68dfc2094a459.png
            [latest_price] => 15000.00
            [created_at] => 2025-10-07 08:57:21
        )

    [8] => Array
        (
            [id] => 111
            [commodity_name] => Tomat
            [unit] => KG
            [image_path] => commodity_68dfc1fee3486.png
            [latest_price] => 12000.00
            [created_at] => 2025-10-07 08:57:34
        )

)

[07-Oct-2025 20:52:33 UTC] Data komoditas ditemukan: 9 item
[07-Oct-2025 20:52:33 UTC] Sample data: Array
(
    [0] => Array
        (
            [id] => 87
            [commodity_name] => Bawang Bombay
            [unit] => KG
            [image_path] => commodity_68dfbfcbc270b.png
            [latest_price] => 50000.00
            [created_at] => 2025-10-07 16:45:05
        )

)

[07-Oct-2025 20:52:33 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[07-Oct-2025 20:52:33 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[07-Oct-2025 20:52:33 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:52:33 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:52:33 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[07-Oct-2025 20:52:33 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[07-Oct-2025 20:52:33 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:52:33 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:52:33 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[07-Oct-2025 20:52:33 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[07-Oct-2025 20:52:33 UTC] getStablePrices found 0 results
[07-Oct-2025 20:52:34 UTC] Koneksi database berhasil
[07-Oct-2025 20:52:34 UTC] Jumlah data di tabel prices: 17
[07-Oct-2025 20:52:34 UTC] Jumlah data di tabel commodities: 44
[07-Oct-2025 20:52:34 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[07-Oct-2025 20:52:34 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 2
)

[07-Oct-2025 20:52:34 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:52:34 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:52:34 UTC] Hasil getTopIncreasingPrices: Array
(
)

[07-Oct-2025 20:52:34 UTC] Latest commodity prices query results: Array
(
    [0] => Array
        (
            [id] => 87
            [commodity_name] => Bawang Bombay
            [unit] => KG
            [image_path] => commodity_68dfbfcbc270b.png
            [latest_price] => 50000.00
            [created_at] => 2025-10-07 16:45:05
        )

    [1] => Array
        (
            [id] => 89
            [commodity_name] => Bawang Merah
            [unit] => KG
            [image_path] => commodity_68dfbfc0a703b.png
            [latest_price] => 40000.00
            [created_at] => 2025-10-07 16:45:26
        )

    [2] => Array
        (
            [id] => 86
            [commodity_name] => Bawang Putih Honan
            [unit] => KG
            [image_path] => commodity_68dfbf941713e.png
            [latest_price] => 25000.00
            [created_at] => 2025-10-05 15:18:34
        )

    [3] => Array
        (
            [id] => 94
            [commodity_name] => Beras Premium - SJ
            [unit] => KG
            [image_path] => commodity_68dfc054a4de7.png
            [latest_price] => 12000.00
            [created_at] => 2025-10-04 11:06:44
        )

    [4] => Array
        (
            [id] => 84
            [commodity_name] => Cabai Rawit Lokal
            [unit] => KG
            [image_path] => commodity_68dfbf462d57c.png
            [latest_price] => 95000.00
            [created_at] => 2025-10-05 15:18:15
        )

    [5] => Array
        (
            [id] => 79
            [commodity_name] => Daging Ayam Kampung
            [unit] => KG
            [image_path] => commodity_68dfbee813246.png
            [latest_price] => 25500.00
            [created_at] => 2025-10-05 15:18:53
        )

    [6] => Array
        (
            [id] => 96
            [commodity_name] => Garam Halus
            [unit] => KG
            [image_path] => commodity_68dfc08a8320d.png
            [latest_price] => 9000.00
            [created_at] => 2025-10-07 08:57:47
        )

    [7] => Array
        (
            [id] => 112
            [commodity_name] => Timun (uk. Sedang)
            [unit] => KG
            [image_path] => commodity_68dfc2094a459.png
            [latest_price] => 15000.00
            [created_at] => 2025-10-07 08:57:21
        )

    [8] => Array
        (
            [id] => 111
            [commodity_name] => Tomat
            [unit] => KG
            [image_path] => commodity_68dfc1fee3486.png
            [latest_price] => 12000.00
            [created_at] => 2025-10-07 08:57:34
        )

)

[07-Oct-2025 20:52:34 UTC] Data komoditas ditemukan: 9 item
[07-Oct-2025 20:52:34 UTC] Sample data: Array
(
    [0] => Array
        (
            [id] => 87
            [commodity_name] => Bawang Bombay
            [unit] => KG
            [image_path] => commodity_68dfbfcbc270b.png
            [latest_price] => 50000.00
            [created_at] => 2025-10-07 16:45:05
        )

)

[07-Oct-2025 20:52:34 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[07-Oct-2025 20:52:34 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[07-Oct-2025 20:52:34 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:52:34 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:52:34 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[07-Oct-2025 20:52:34 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[07-Oct-2025 20:52:34 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:52:34 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:52:34 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[07-Oct-2025 20:52:34 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[07-Oct-2025 20:52:34 UTC] getStablePrices found 0 results
[07-Oct-2025 20:53:48 UTC] Koneksi database berhasil
[07-Oct-2025 20:53:48 UTC] Jumlah data di tabel prices: 17
[07-Oct-2025 20:53:48 UTC] Jumlah data di tabel commodities: 44
[07-Oct-2025 20:53:48 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[07-Oct-2025 20:53:48 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 2
)

[07-Oct-2025 20:53:48 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:53:48 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:53:48 UTC] Hasil getTopIncreasingPrices: Array
(
)

[07-Oct-2025 20:53:48 UTC] Latest commodity prices query results: Array
(
    [0] => Array
        (
            [id] => 87
            [commodity_name] => Bawang Bombay
            [unit] => KG
            [image_path] => commodity_68dfbfcbc270b.png
            [latest_price] => 50000.00
            [created_at] => 2025-10-07 16:45:05
        )

    [1] => Array
        (
            [id] => 89
            [commodity_name] => Bawang Merah
            [unit] => KG
            [image_path] => commodity_68dfbfc0a703b.png
            [latest_price] => 40000.00
            [created_at] => 2025-10-07 16:45:26
        )

    [2] => Array
        (
            [id] => 86
            [commodity_name] => Bawang Putih Honan
            [unit] => KG
            [image_path] => commodity_68dfbf941713e.png
            [latest_price] => 25000.00
            [created_at] => 2025-10-05 15:18:34
        )

    [3] => Array
        (
            [id] => 94
            [commodity_name] => Beras Premium - SJ
            [unit] => KG
            [image_path] => commodity_68dfc054a4de7.png
            [latest_price] => 12000.00
            [created_at] => 2025-10-04 11:06:44
        )

    [4] => Array
        (
            [id] => 84
            [commodity_name] => Cabai Rawit Lokal
            [unit] => KG
            [image_path] => commodity_68dfbf462d57c.png
            [latest_price] => 95000.00
            [created_at] => 2025-10-05 15:18:15
        )

    [5] => Array
        (
            [id] => 79
            [commodity_name] => Daging Ayam Kampung
            [unit] => KG
            [image_path] => commodity_68dfbee813246.png
            [latest_price] => 25500.00
            [created_at] => 2025-10-05 15:18:53
        )

    [6] => Array
        (
            [id] => 96
            [commodity_name] => Garam Halus
            [unit] => KG
            [image_path] => commodity_68dfc08a8320d.png
            [latest_price] => 9000.00
            [created_at] => 2025-10-07 08:57:47
        )

    [7] => Array
        (
            [id] => 112
            [commodity_name] => Timun (uk. Sedang)
            [unit] => KG
            [image_path] => commodity_68dfc2094a459.png
            [latest_price] => 15000.00
            [created_at] => 2025-10-07 08:57:21
        )

    [8] => Array
        (
            [id] => 111
            [commodity_name] => Tomat
            [unit] => KG
            [image_path] => commodity_68dfc1fee3486.png
            [latest_price] => 12000.00
            [created_at] => 2025-10-07 08:57:34
        )

)

[07-Oct-2025 20:53:48 UTC] Data komoditas ditemukan: 9 item
[07-Oct-2025 20:53:48 UTC] Sample data: Array
(
    [0] => Array
        (
            [id] => 87
            [commodity_name] => Bawang Bombay
            [unit] => KG
            [image_path] => commodity_68dfbfcbc270b.png
            [latest_price] => 50000.00
            [created_at] => 2025-10-07 16:45:05
        )

)

[07-Oct-2025 20:53:48 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[07-Oct-2025 20:53:48 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[07-Oct-2025 20:53:48 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:53:48 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:53:48 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[07-Oct-2025 20:53:48 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[07-Oct-2025 20:53:48 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:53:48 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:53:48 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[07-Oct-2025 20:53:48 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[07-Oct-2025 20:53:48 UTC] getStablePrices found 0 results
[07-Oct-2025 20:53:50 UTC] Koneksi database berhasil
[07-Oct-2025 20:53:50 UTC] Jumlah data di tabel prices: 17
[07-Oct-2025 20:53:50 UTC] Jumlah data di tabel commodities: 44
[07-Oct-2025 20:53:50 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[07-Oct-2025 20:53:50 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 2
)

[07-Oct-2025 20:53:50 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:53:50 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:53:50 UTC] Hasil getTopIncreasingPrices: Array
(
)

[07-Oct-2025 20:53:50 UTC] Latest commodity prices query results: Array
(
    [0] => Array
        (
            [id] => 87
            [commodity_name] => Bawang Bombay
            [unit] => KG
            [image_path] => commodity_68dfbfcbc270b.png
            [latest_price] => 50000.00
            [created_at] => 2025-10-07 16:45:05
        )

    [1] => Array
        (
            [id] => 89
            [commodity_name] => Bawang Merah
            [unit] => KG
            [image_path] => commodity_68dfbfc0a703b.png
            [latest_price] => 40000.00
            [created_at] => 2025-10-07 16:45:26
        )

    [2] => Array
        (
            [id] => 86
            [commodity_name] => Bawang Putih Honan
            [unit] => KG
            [image_path] => commodity_68dfbf941713e.png
            [latest_price] => 25000.00
            [created_at] => 2025-10-05 15:18:34
        )

    [3] => Array
        (
            [id] => 94
            [commodity_name] => Beras Premium - SJ
            [unit] => KG
            [image_path] => commodity_68dfc054a4de7.png
            [latest_price] => 12000.00
            [created_at] => 2025-10-04 11:06:44
        )

    [4] => Array
        (
            [id] => 84
            [commodity_name] => Cabai Rawit Lokal
            [unit] => KG
            [image_path] => commodity_68dfbf462d57c.png
            [latest_price] => 95000.00
            [created_at] => 2025-10-05 15:18:15
        )

    [5] => Array
        (
            [id] => 79
            [commodity_name] => Daging Ayam Kampung
            [unit] => KG
            [image_path] => commodity_68dfbee813246.png
            [latest_price] => 25500.00
            [created_at] => 2025-10-05 15:18:53
        )

    [6] => Array
        (
            [id] => 96
            [commodity_name] => Garam Halus
            [unit] => KG
            [image_path] => commodity_68dfc08a8320d.png
            [latest_price] => 9000.00
            [created_at] => 2025-10-07 08:57:47
        )

    [7] => Array
        (
            [id] => 112
            [commodity_name] => Timun (uk. Sedang)
            [unit] => KG
            [image_path] => commodity_68dfc2094a459.png
            [latest_price] => 15000.00
            [created_at] => 2025-10-07 08:57:21
        )

    [8] => Array
        (
            [id] => 111
            [commodity_name] => Tomat
            [unit] => KG
            [image_path] => commodity_68dfc1fee3486.png
            [latest_price] => 12000.00
            [created_at] => 2025-10-07 08:57:34
        )

)

[07-Oct-2025 20:53:50 UTC] Data komoditas ditemukan: 9 item
[07-Oct-2025 20:53:50 UTC] Sample data: Array
(
    [0] => Array
        (
            [id] => 87
            [commodity_name] => Bawang Bombay
            [unit] => KG
            [image_path] => commodity_68dfbfcbc270b.png
            [latest_price] => 50000.00
            [created_at] => 2025-10-07 16:45:05
        )

)

[07-Oct-2025 20:53:50 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[07-Oct-2025 20:53:50 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[07-Oct-2025 20:53:50 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:53:50 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:53:50 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[07-Oct-2025 20:53:50 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[07-Oct-2025 20:53:50 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:53:50 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:53:50 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[07-Oct-2025 20:53:50 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[07-Oct-2025 20:53:50 UTC] getStablePrices found 0 results
[07-Oct-2025 20:54:05 UTC] Koneksi database berhasil
[07-Oct-2025 20:54:05 UTC] Jumlah data di tabel prices: 17
[07-Oct-2025 20:54:05 UTC] Jumlah data di tabel commodities: 44
[07-Oct-2025 20:54:05 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[07-Oct-2025 20:54:05 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 2
)

[07-Oct-2025 20:54:05 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:54:05 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:54:05 UTC] Hasil getTopIncreasingPrices: Array
(
)

[07-Oct-2025 20:54:05 UTC] Latest commodity prices query results: Array
(
    [0] => Array
        (
            [id] => 87
            [commodity_name] => Bawang Bombay
            [unit] => KG
            [image_path] => commodity_68dfbfcbc270b.png
            [latest_price] => 50000.00
            [created_at] => 2025-10-07 16:45:05
        )

    [1] => Array
        (
            [id] => 89
            [commodity_name] => Bawang Merah
            [unit] => KG
            [image_path] => commodity_68dfbfc0a703b.png
            [latest_price] => 40000.00
            [created_at] => 2025-10-07 16:45:26
        )

    [2] => Array
        (
            [id] => 86
            [commodity_name] => Bawang Putih Honan
            [unit] => KG
            [image_path] => commodity_68dfbf941713e.png
            [latest_price] => 25000.00
            [created_at] => 2025-10-05 15:18:34
        )

    [3] => Array
        (
            [id] => 94
            [commodity_name] => Beras Premium - SJ
            [unit] => KG
            [image_path] => commodity_68dfc054a4de7.png
            [latest_price] => 12000.00
            [created_at] => 2025-10-04 11:06:44
        )

    [4] => Array
        (
            [id] => 84
            [commodity_name] => Cabai Rawit Lokal
            [unit] => KG
            [image_path] => commodity_68dfbf462d57c.png
            [latest_price] => 95000.00
            [created_at] => 2025-10-05 15:18:15
        )

    [5] => Array
        (
            [id] => 79
            [commodity_name] => Daging Ayam Kampung
            [unit] => KG
            [image_path] => commodity_68dfbee813246.png
            [latest_price] => 25500.00
            [created_at] => 2025-10-05 15:18:53
        )

    [6] => Array
        (
            [id] => 96
            [commodity_name] => Garam Halus
            [unit] => KG
            [image_path] => commodity_68dfc08a8320d.png
            [latest_price] => 9000.00
            [created_at] => 2025-10-07 08:57:47
        )

    [7] => Array
        (
            [id] => 112
            [commodity_name] => Timun (uk. Sedang)
            [unit] => KG
            [image_path] => commodity_68dfc2094a459.png
            [latest_price] => 15000.00
            [created_at] => 2025-10-07 08:57:21
        )

    [8] => Array
        (
            [id] => 111
            [commodity_name] => Tomat
            [unit] => KG
            [image_path] => commodity_68dfc1fee3486.png
            [latest_price] => 12000.00
            [created_at] => 2025-10-07 08:57:34
        )

)

[07-Oct-2025 20:54:05 UTC] Data komoditas ditemukan: 9 item
[07-Oct-2025 20:54:05 UTC] Sample data: Array
(
    [0] => Array
        (
            [id] => 87
            [commodity_name] => Bawang Bombay
            [unit] => KG
            [image_path] => commodity_68dfbfcbc270b.png
            [latest_price] => 50000.00
            [created_at] => 2025-10-07 16:45:05
        )

)

[07-Oct-2025 20:54:05 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[07-Oct-2025 20:54:05 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[07-Oct-2025 20:54:05 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:54:05 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:54:05 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[07-Oct-2025 20:54:05 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[07-Oct-2025 20:54:05 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:54:05 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:54:05 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[07-Oct-2025 20:54:05 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[07-Oct-2025 20:54:05 UTC] getStablePrices found 0 results
[07-Oct-2025 20:54:06 UTC] Koneksi database berhasil
[07-Oct-2025 20:54:06 UTC] Jumlah data di tabel prices: 17
[07-Oct-2025 20:54:06 UTC] Jumlah data di tabel commodities: 44
[07-Oct-2025 20:54:06 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[07-Oct-2025 20:54:06 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 2
)

[07-Oct-2025 20:54:06 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:54:06 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:54:06 UTC] Hasil getTopIncreasingPrices: Array
(
)

[07-Oct-2025 20:54:06 UTC] Latest commodity prices query results: Array
(
    [0] => Array
        (
            [id] => 87
            [commodity_name] => Bawang Bombay
            [unit] => KG
            [image_path] => commodity_68dfbfcbc270b.png
            [latest_price] => 50000.00
            [created_at] => 2025-10-07 16:45:05
        )

    [1] => Array
        (
            [id] => 89
            [commodity_name] => Bawang Merah
            [unit] => KG
            [image_path] => commodity_68dfbfc0a703b.png
            [latest_price] => 40000.00
            [created_at] => 2025-10-07 16:45:26
        )

    [2] => Array
        (
            [id] => 86
            [commodity_name] => Bawang Putih Honan
            [unit] => KG
            [image_path] => commodity_68dfbf941713e.png
            [latest_price] => 25000.00
            [created_at] => 2025-10-05 15:18:34
        )

    [3] => Array
        (
            [id] => 94
            [commodity_name] => Beras Premium - SJ
            [unit] => KG
            [image_path] => commodity_68dfc054a4de7.png
            [latest_price] => 12000.00
            [created_at] => 2025-10-04 11:06:44
        )

    [4] => Array
        (
            [id] => 84
            [commodity_name] => Cabai Rawit Lokal
            [unit] => KG
            [image_path] => commodity_68dfbf462d57c.png
            [latest_price] => 95000.00
            [created_at] => 2025-10-05 15:18:15
        )

    [5] => Array
        (
            [id] => 79
            [commodity_name] => Daging Ayam Kampung
            [unit] => KG
            [image_path] => commodity_68dfbee813246.png
            [latest_price] => 25500.00
            [created_at] => 2025-10-05 15:18:53
        )

    [6] => Array
        (
            [id] => 96
            [commodity_name] => Garam Halus
            [unit] => KG
            [image_path] => commodity_68dfc08a8320d.png
            [latest_price] => 9000.00
            [created_at] => 2025-10-07 08:57:47
        )

    [7] => Array
        (
            [id] => 112
            [commodity_name] => Timun (uk. Sedang)
            [unit] => KG
            [image_path] => commodity_68dfc2094a459.png
            [latest_price] => 15000.00
            [created_at] => 2025-10-07 08:57:21
        )

    [8] => Array
        (
            [id] => 111
            [commodity_name] => Tomat
            [unit] => KG
            [image_path] => commodity_68dfc1fee3486.png
            [latest_price] => 12000.00
            [created_at] => 2025-10-07 08:57:34
        )

)

[07-Oct-2025 20:54:06 UTC] Data komoditas ditemukan: 9 item
[07-Oct-2025 20:54:06 UTC] Sample data: Array
(
    [0] => Array
        (
            [id] => 87
            [commodity_name] => Bawang Bombay
            [unit] => KG
            [image_path] => commodity_68dfbfcbc270b.png
            [latest_price] => 50000.00
            [created_at] => 2025-10-07 16:45:05
        )

)

[07-Oct-2025 20:54:06 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[07-Oct-2025 20:54:06 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[07-Oct-2025 20:54:06 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:54:06 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:54:06 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[07-Oct-2025 20:54:06 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[07-Oct-2025 20:54:06 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:54:06 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:54:06 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[07-Oct-2025 20:54:06 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[07-Oct-2025 20:54:06 UTC] getStablePrices found 0 results
[07-Oct-2025 20:55:54 UTC] Koneksi database berhasil
[07-Oct-2025 20:55:54 UTC] Jumlah data di tabel prices: 17
[07-Oct-2025 20:55:54 UTC] Jumlah data di tabel commodities: 44
[07-Oct-2025 20:55:54 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[07-Oct-2025 20:55:54 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 2
)

[07-Oct-2025 20:55:54 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:55:54 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:55:54 UTC] Hasil getTopIncreasingPrices: Array
(
)

[07-Oct-2025 20:55:54 UTC] Latest commodity prices query results: Array
(
    [0] => Array
        (
            [id] => 87
            [commodity_name] => Bawang Bombay
            [unit] => KG
            [image_path] => commodity_68dfbfcbc270b.png
            [latest_price] => 50000.00
            [created_at] => 2025-10-07 16:45:05
        )

    [1] => Array
        (
            [id] => 89
            [commodity_name] => Bawang Merah
            [unit] => KG
            [image_path] => commodity_68dfbfc0a703b.png
            [latest_price] => 40000.00
            [created_at] => 2025-10-07 16:45:26
        )

    [2] => Array
        (
            [id] => 86
            [commodity_name] => Bawang Putih Honan
            [unit] => KG
            [image_path] => commodity_68dfbf941713e.png
            [latest_price] => 25000.00
            [created_at] => 2025-10-05 15:18:34
        )

    [3] => Array
        (
            [id] => 94
            [commodity_name] => Beras Premium - SJ
            [unit] => KG
            [image_path] => commodity_68dfc054a4de7.png
            [latest_price] => 12000.00
            [created_at] => 2025-10-04 11:06:44
        )

    [4] => Array
        (
            [id] => 84
            [commodity_name] => Cabai Rawit Lokal
            [unit] => KG
            [image_path] => commodity_68dfbf462d57c.png
            [latest_price] => 95000.00
            [created_at] => 2025-10-05 15:18:15
        )

    [5] => Array
        (
            [id] => 79
            [commodity_name] => Daging Ayam Kampung
            [unit] => KG
            [image_path] => commodity_68dfbee813246.png
            [latest_price] => 25500.00
            [created_at] => 2025-10-05 15:18:53
        )

    [6] => Array
        (
            [id] => 96
            [commodity_name] => Garam Halus
            [unit] => KG
            [image_path] => commodity_68dfc08a8320d.png
            [latest_price] => 9000.00
            [created_at] => 2025-10-07 08:57:47
        )

    [7] => Array
        (
            [id] => 112
            [commodity_name] => Timun (uk. Sedang)
            [unit] => KG
            [image_path] => commodity_68dfc2094a459.png
            [latest_price] => 15000.00
            [created_at] => 2025-10-07 08:57:21
        )

    [8] => Array
        (
            [id] => 111
            [commodity_name] => Tomat
            [unit] => KG
            [image_path] => commodity_68dfc1fee3486.png
            [latest_price] => 12000.00
            [created_at] => 2025-10-07 08:57:34
        )

)

[07-Oct-2025 20:55:54 UTC] Data komoditas ditemukan: 9 item
[07-Oct-2025 20:55:54 UTC] Sample data: Array
(
    [0] => Array
        (
            [id] => 87
            [commodity_name] => Bawang Bombay
            [unit] => KG
            [image_path] => commodity_68dfbfcbc270b.png
            [latest_price] => 50000.00
            [created_at] => 2025-10-07 16:45:05
        )

)

[07-Oct-2025 20:55:54 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[07-Oct-2025 20:55:54 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[07-Oct-2025 20:55:54 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:55:54 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:55:54 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[07-Oct-2025 20:55:54 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[07-Oct-2025 20:55:54 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:55:54 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:55:54 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[07-Oct-2025 20:55:54 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[07-Oct-2025 20:55:54 UTC] getStablePrices found 0 results
[07-Oct-2025 20:55:54 UTC] Koneksi database berhasil
[07-Oct-2025 20:55:54 UTC] Jumlah data di tabel prices: 17
[07-Oct-2025 20:55:54 UTC] Jumlah data di tabel commodities: 44
[07-Oct-2025 20:55:54 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[07-Oct-2025 20:55:54 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 2
)

[07-Oct-2025 20:55:54 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:55:54 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:55:54 UTC] Hasil getTopIncreasingPrices: Array
(
)

[07-Oct-2025 20:55:54 UTC] Latest commodity prices query results: Array
(
    [0] => Array
        (
            [id] => 87
            [commodity_name] => Bawang Bombay
            [unit] => KG
            [image_path] => commodity_68dfbfcbc270b.png
            [latest_price] => 50000.00
            [created_at] => 2025-10-07 16:45:05
        )

    [1] => Array
        (
            [id] => 89
            [commodity_name] => Bawang Merah
            [unit] => KG
            [image_path] => commodity_68dfbfc0a703b.png
            [latest_price] => 40000.00
            [created_at] => 2025-10-07 16:45:26
        )

    [2] => Array
        (
            [id] => 86
            [commodity_name] => Bawang Putih Honan
            [unit] => KG
            [image_path] => commodity_68dfbf941713e.png
            [latest_price] => 25000.00
            [created_at] => 2025-10-05 15:18:34
        )

    [3] => Array
        (
            [id] => 94
            [commodity_name] => Beras Premium - SJ
            [unit] => KG
            [image_path] => commodity_68dfc054a4de7.png
            [latest_price] => 12000.00
            [created_at] => 2025-10-04 11:06:44
        )

    [4] => Array
        (
            [id] => 84
            [commodity_name] => Cabai Rawit Lokal
            [unit] => KG
            [image_path] => commodity_68dfbf462d57c.png
            [latest_price] => 95000.00
            [created_at] => 2025-10-05 15:18:15
        )

    [5] => Array
        (
            [id] => 79
            [commodity_name] => Daging Ayam Kampung
            [unit] => KG
            [image_path] => commodity_68dfbee813246.png
            [latest_price] => 25500.00
            [created_at] => 2025-10-05 15:18:53
        )

    [6] => Array
        (
            [id] => 96
            [commodity_name] => Garam Halus
            [unit] => KG
            [image_path] => commodity_68dfc08a8320d.png
            [latest_price] => 9000.00
            [created_at] => 2025-10-07 08:57:47
        )

    [7] => Array
        (
            [id] => 112
            [commodity_name] => Timun (uk. Sedang)
            [unit] => KG
            [image_path] => commodity_68dfc2094a459.png
            [latest_price] => 15000.00
            [created_at] => 2025-10-07 08:57:21
        )

    [8] => Array
        (
            [id] => 111
            [commodity_name] => Tomat
            [unit] => KG
            [image_path] => commodity_68dfc1fee3486.png
            [latest_price] => 12000.00
            [created_at] => 2025-10-07 08:57:34
        )

)

[07-Oct-2025 20:55:54 UTC] Data komoditas ditemukan: 9 item
[07-Oct-2025 20:55:54 UTC] Sample data: Array
(
    [0] => Array
        (
            [id] => 87
            [commodity_name] => Bawang Bombay
            [unit] => KG
            [image_path] => commodity_68dfbfcbc270b.png
            [latest_price] => 50000.00
            [created_at] => 2025-10-07 16:45:05
        )

)

[07-Oct-2025 20:55:54 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[07-Oct-2025 20:55:54 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[07-Oct-2025 20:55:54 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:55:54 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:55:54 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[07-Oct-2025 20:55:54 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[07-Oct-2025 20:55:54 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:55:54 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:55:54 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[07-Oct-2025 20:55:54 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[07-Oct-2025 20:55:54 UTC] getStablePrices found 0 results
[07-Oct-2025 20:56:43 UTC] Koneksi database berhasil
[07-Oct-2025 20:56:43 UTC] Jumlah data di tabel prices: 17
[07-Oct-2025 20:56:43 UTC] Jumlah data di tabel commodities: 44
[07-Oct-2025 20:56:43 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[07-Oct-2025 20:56:43 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 2
)

[07-Oct-2025 20:56:43 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:56:43 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:56:43 UTC] Hasil getTopIncreasingPrices: Array
(
)

[07-Oct-2025 20:56:43 UTC] Latest commodity prices query results: Array
(
    [0] => Array
        (
            [id] => 87
            [commodity_name] => Bawang Bombay
            [unit] => KG
            [image_path] => commodity_68dfbfcbc270b.png
            [latest_price] => 50000.00
            [created_at] => 2025-10-07 16:45:05
        )

    [1] => Array
        (
            [id] => 89
            [commodity_name] => Bawang Merah
            [unit] => KG
            [image_path] => commodity_68dfbfc0a703b.png
            [latest_price] => 40000.00
            [created_at] => 2025-10-07 16:45:26
        )

    [2] => Array
        (
            [id] => 86
            [commodity_name] => Bawang Putih Honan
            [unit] => KG
            [image_path] => commodity_68dfbf941713e.png
            [latest_price] => 25000.00
            [created_at] => 2025-10-05 15:18:34
        )

    [3] => Array
        (
            [id] => 94
            [commodity_name] => Beras Premium - SJ
            [unit] => KG
            [image_path] => commodity_68dfc054a4de7.png
            [latest_price] => 12000.00
            [created_at] => 2025-10-04 11:06:44
        )

    [4] => Array
        (
            [id] => 84
            [commodity_name] => Cabai Rawit Lokal
            [unit] => KG
            [image_path] => commodity_68dfbf462d57c.png
            [latest_price] => 95000.00
            [created_at] => 2025-10-05 15:18:15
        )

    [5] => Array
        (
            [id] => 79
            [commodity_name] => Daging Ayam Kampung
            [unit] => KG
            [image_path] => commodity_68dfbee813246.png
            [latest_price] => 25500.00
            [created_at] => 2025-10-05 15:18:53
        )

    [6] => Array
        (
            [id] => 96
            [commodity_name] => Garam Halus
            [unit] => KG
            [image_path] => commodity_68dfc08a8320d.png
            [latest_price] => 9000.00
            [created_at] => 2025-10-07 08:57:47
        )

    [7] => Array
        (
            [id] => 112
            [commodity_name] => Timun (uk. Sedang)
            [unit] => KG
            [image_path] => commodity_68dfc2094a459.png
            [latest_price] => 15000.00
            [created_at] => 2025-10-07 08:57:21
        )

    [8] => Array
        (
            [id] => 111
            [commodity_name] => Tomat
            [unit] => KG
            [image_path] => commodity_68dfc1fee3486.png
            [latest_price] => 12000.00
            [created_at] => 2025-10-07 08:57:34
        )

)

[07-Oct-2025 20:56:43 UTC] Data komoditas ditemukan: 9 item
[07-Oct-2025 20:56:43 UTC] Sample data: Array
(
    [0] => Array
        (
            [id] => 87
            [commodity_name] => Bawang Bombay
            [unit] => KG
            [image_path] => commodity_68dfbfcbc270b.png
            [latest_price] => 50000.00
            [created_at] => 2025-10-07 16:45:05
        )

)

[07-Oct-2025 20:56:43 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[07-Oct-2025 20:56:43 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[07-Oct-2025 20:56:43 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:56:43 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:56:43 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[07-Oct-2025 20:56:43 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[07-Oct-2025 20:56:43 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:56:43 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:56:43 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[07-Oct-2025 20:56:43 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[07-Oct-2025 20:56:43 UTC] getStablePrices found 0 results
[07-Oct-2025 20:56:43 UTC] Koneksi database berhasil
[07-Oct-2025 20:56:43 UTC] Jumlah data di tabel prices: 17
[07-Oct-2025 20:56:43 UTC] Jumlah data di tabel commodities: 44
[07-Oct-2025 20:56:43 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[07-Oct-2025 20:56:43 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 2
)

[07-Oct-2025 20:56:43 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:56:43 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:56:43 UTC] Hasil getTopIncreasingPrices: Array
(
)

[07-Oct-2025 20:56:43 UTC] Latest commodity prices query results: Array
(
    [0] => Array
        (
            [id] => 87
            [commodity_name] => Bawang Bombay
            [unit] => KG
            [image_path] => commodity_68dfbfcbc270b.png
            [latest_price] => 50000.00
            [created_at] => 2025-10-07 16:45:05
        )

    [1] => Array
        (
            [id] => 89
            [commodity_name] => Bawang Merah
            [unit] => KG
            [image_path] => commodity_68dfbfc0a703b.png
            [latest_price] => 40000.00
            [created_at] => 2025-10-07 16:45:26
        )

    [2] => Array
        (
            [id] => 86
            [commodity_name] => Bawang Putih Honan
            [unit] => KG
            [image_path] => commodity_68dfbf941713e.png
            [latest_price] => 25000.00
            [created_at] => 2025-10-05 15:18:34
        )

    [3] => Array
        (
            [id] => 94
            [commodity_name] => Beras Premium - SJ
            [unit] => KG
            [image_path] => commodity_68dfc054a4de7.png
            [latest_price] => 12000.00
            [created_at] => 2025-10-04 11:06:44
        )

    [4] => Array
        (
            [id] => 84
            [commodity_name] => Cabai Rawit Lokal
            [unit] => KG
            [image_path] => commodity_68dfbf462d57c.png
            [latest_price] => 95000.00
            [created_at] => 2025-10-05 15:18:15
        )

    [5] => Array
        (
            [id] => 79
            [commodity_name] => Daging Ayam Kampung
            [unit] => KG
            [image_path] => commodity_68dfbee813246.png
            [latest_price] => 25500.00
            [created_at] => 2025-10-05 15:18:53
        )

    [6] => Array
        (
            [id] => 96
            [commodity_name] => Garam Halus
            [unit] => KG
            [image_path] => commodity_68dfc08a8320d.png
            [latest_price] => 9000.00
            [created_at] => 2025-10-07 08:57:47
        )

    [7] => Array
        (
            [id] => 112
            [commodity_name] => Timun (uk. Sedang)
            [unit] => KG
            [image_path] => commodity_68dfc2094a459.png
            [latest_price] => 15000.00
            [created_at] => 2025-10-07 08:57:21
        )

    [8] => Array
        (
            [id] => 111
            [commodity_name] => Tomat
            [unit] => KG
            [image_path] => commodity_68dfc1fee3486.png
            [latest_price] => 12000.00
            [created_at] => 2025-10-07 08:57:34
        )

)

[07-Oct-2025 20:56:43 UTC] Data komoditas ditemukan: 9 item
[07-Oct-2025 20:56:43 UTC] Sample data: Array
(
    [0] => Array
        (
            [id] => 87
            [commodity_name] => Bawang Bombay
            [unit] => KG
            [image_path] => commodity_68dfbfcbc270b.png
            [latest_price] => 50000.00
            [created_at] => 2025-10-07 16:45:05
        )

)

[07-Oct-2025 20:56:43 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[07-Oct-2025 20:56:43 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[07-Oct-2025 20:56:43 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:56:43 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:56:43 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[07-Oct-2025 20:56:43 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[07-Oct-2025 20:56:43 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:56:43 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:56:43 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[07-Oct-2025 20:56:43 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[07-Oct-2025 20:56:43 UTC] getStablePrices found 0 results
[07-Oct-2025 20:57:30 UTC] Koneksi database berhasil
[07-Oct-2025 20:57:30 UTC] Jumlah data di tabel prices: 17
[07-Oct-2025 20:57:30 UTC] Jumlah data di tabel commodities: 44
[07-Oct-2025 20:57:30 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[07-Oct-2025 20:57:30 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 2
)

[07-Oct-2025 20:57:30 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:57:30 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:57:30 UTC] Hasil getTopIncreasingPrices: Array
(
)

[07-Oct-2025 20:57:30 UTC] Latest commodity prices query results: Array
(
    [0] => Array
        (
            [id] => 87
            [commodity_name] => Bawang Bombay
            [unit] => KG
            [image_path] => commodity_68dfbfcbc270b.png
            [latest_price] => 50000.00
            [created_at] => 2025-10-07 16:45:05
        )

    [1] => Array
        (
            [id] => 89
            [commodity_name] => Bawang Merah
            [unit] => KG
            [image_path] => commodity_68dfbfc0a703b.png
            [latest_price] => 40000.00
            [created_at] => 2025-10-07 16:45:26
        )

    [2] => Array
        (
            [id] => 86
            [commodity_name] => Bawang Putih Honan
            [unit] => KG
            [image_path] => commodity_68dfbf941713e.png
            [latest_price] => 25000.00
            [created_at] => 2025-10-05 15:18:34
        )

    [3] => Array
        (
            [id] => 94
            [commodity_name] => Beras Premium - SJ
            [unit] => KG
            [image_path] => commodity_68dfc054a4de7.png
            [latest_price] => 12000.00
            [created_at] => 2025-10-04 11:06:44
        )

    [4] => Array
        (
            [id] => 84
            [commodity_name] => Cabai Rawit Lokal
            [unit] => KG
            [image_path] => commodity_68dfbf462d57c.png
            [latest_price] => 95000.00
            [created_at] => 2025-10-05 15:18:15
        )

    [5] => Array
        (
            [id] => 79
            [commodity_name] => Daging Ayam Kampung
            [unit] => KG
            [image_path] => commodity_68dfbee813246.png
            [latest_price] => 25500.00
            [created_at] => 2025-10-05 15:18:53
        )

    [6] => Array
        (
            [id] => 96
            [commodity_name] => Garam Halus
            [unit] => KG
            [image_path] => commodity_68dfc08a8320d.png
            [latest_price] => 9000.00
            [created_at] => 2025-10-07 08:57:47
        )

    [7] => Array
        (
            [id] => 112
            [commodity_name] => Timun (uk. Sedang)
            [unit] => KG
            [image_path] => commodity_68dfc2094a459.png
            [latest_price] => 15000.00
            [created_at] => 2025-10-07 08:57:21
        )

    [8] => Array
        (
            [id] => 111
            [commodity_name] => Tomat
            [unit] => KG
            [image_path] => commodity_68dfc1fee3486.png
            [latest_price] => 12000.00
            [created_at] => 2025-10-07 08:57:34
        )

)

[07-Oct-2025 20:57:30 UTC] Data komoditas ditemukan: 9 item
[07-Oct-2025 20:57:30 UTC] Sample data: Array
(
    [0] => Array
        (
            [id] => 87
            [commodity_name] => Bawang Bombay
            [unit] => KG
            [image_path] => commodity_68dfbfcbc270b.png
            [latest_price] => 50000.00
            [created_at] => 2025-10-07 16:45:05
        )

)

[07-Oct-2025 20:57:30 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[07-Oct-2025 20:57:30 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[07-Oct-2025 20:57:30 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:57:30 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:57:30 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[07-Oct-2025 20:57:30 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[07-Oct-2025 20:57:30 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:57:30 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:57:30 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[07-Oct-2025 20:57:30 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[07-Oct-2025 20:57:30 UTC] getStablePrices found 0 results
[07-Oct-2025 20:57:31 UTC] Koneksi database berhasil
[07-Oct-2025 20:57:31 UTC] Jumlah data di tabel prices: 17
[07-Oct-2025 20:57:31 UTC] Jumlah data di tabel commodities: 44
[07-Oct-2025 20:57:31 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[07-Oct-2025 20:57:31 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 2
)

[07-Oct-2025 20:57:31 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:57:31 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:57:31 UTC] Hasil getTopIncreasingPrices: Array
(
)

[07-Oct-2025 20:57:31 UTC] Latest commodity prices query results: Array
(
    [0] => Array
        (
            [id] => 87
            [commodity_name] => Bawang Bombay
            [unit] => KG
            [image_path] => commodity_68dfbfcbc270b.png
            [latest_price] => 50000.00
            [created_at] => 2025-10-07 16:45:05
        )

    [1] => Array
        (
            [id] => 89
            [commodity_name] => Bawang Merah
            [unit] => KG
            [image_path] => commodity_68dfbfc0a703b.png
            [latest_price] => 40000.00
            [created_at] => 2025-10-07 16:45:26
        )

    [2] => Array
        (
            [id] => 86
            [commodity_name] => Bawang Putih Honan
            [unit] => KG
            [image_path] => commodity_68dfbf941713e.png
            [latest_price] => 25000.00
            [created_at] => 2025-10-05 15:18:34
        )

    [3] => Array
        (
            [id] => 94
            [commodity_name] => Beras Premium - SJ
            [unit] => KG
            [image_path] => commodity_68dfc054a4de7.png
            [latest_price] => 12000.00
            [created_at] => 2025-10-04 11:06:44
        )

    [4] => Array
        (
            [id] => 84
            [commodity_name] => Cabai Rawit Lokal
            [unit] => KG
            [image_path] => commodity_68dfbf462d57c.png
            [latest_price] => 95000.00
            [created_at] => 2025-10-05 15:18:15
        )

    [5] => Array
        (
            [id] => 79
            [commodity_name] => Daging Ayam Kampung
            [unit] => KG
            [image_path] => commodity_68dfbee813246.png
            [latest_price] => 25500.00
            [created_at] => 2025-10-05 15:18:53
        )

    [6] => Array
        (
            [id] => 96
            [commodity_name] => Garam Halus
            [unit] => KG
            [image_path] => commodity_68dfc08a8320d.png
            [latest_price] => 9000.00
            [created_at] => 2025-10-07 08:57:47
        )

    [7] => Array
        (
            [id] => 112
            [commodity_name] => Timun (uk. Sedang)
            [unit] => KG
            [image_path] => commodity_68dfc2094a459.png
            [latest_price] => 15000.00
            [created_at] => 2025-10-07 08:57:21
        )

    [8] => Array
        (
            [id] => 111
            [commodity_name] => Tomat
            [unit] => KG
            [image_path] => commodity_68dfc1fee3486.png
            [latest_price] => 12000.00
            [created_at] => 2025-10-07 08:57:34
        )

)

[07-Oct-2025 20:57:31 UTC] Data komoditas ditemukan: 9 item
[07-Oct-2025 20:57:31 UTC] Sample data: Array
(
    [0] => Array
        (
            [id] => 87
            [commodity_name] => Bawang Bombay
            [unit] => KG
            [image_path] => commodity_68dfbfcbc270b.png
            [latest_price] => 50000.00
            [created_at] => 2025-10-07 16:45:05
        )

)

[07-Oct-2025 20:57:31 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[07-Oct-2025 20:57:31 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[07-Oct-2025 20:57:31 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:57:31 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:57:31 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[07-Oct-2025 20:57:31 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[07-Oct-2025 20:57:31 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:57:31 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:57:31 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[07-Oct-2025 20:57:31 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[07-Oct-2025 20:57:31 UTC] getStablePrices found 0 results
[07-Oct-2025 20:58:55 UTC] Koneksi database berhasil
[07-Oct-2025 20:58:55 UTC] Jumlah data di tabel prices: 17
[07-Oct-2025 20:58:55 UTC] Jumlah data di tabel commodities: 44
[07-Oct-2025 20:58:55 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[07-Oct-2025 20:58:55 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 2
)

[07-Oct-2025 20:58:55 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:58:55 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:58:55 UTC] Hasil getTopIncreasingPrices: Array
(
)

[07-Oct-2025 20:58:55 UTC] Latest commodity prices query results: Array
(
    [0] => Array
        (
            [id] => 87
            [commodity_name] => Bawang Bombay
            [unit] => KG
            [image_path] => commodity_68dfbfcbc270b.png
            [latest_price] => 50000.00
            [created_at] => 2025-10-07 16:45:05
        )

    [1] => Array
        (
            [id] => 89
            [commodity_name] => Bawang Merah
            [unit] => KG
            [image_path] => commodity_68dfbfc0a703b.png
            [latest_price] => 40000.00
            [created_at] => 2025-10-07 16:45:26
        )

    [2] => Array
        (
            [id] => 86
            [commodity_name] => Bawang Putih Honan
            [unit] => KG
            [image_path] => commodity_68dfbf941713e.png
            [latest_price] => 25000.00
            [created_at] => 2025-10-05 15:18:34
        )

    [3] => Array
        (
            [id] => 94
            [commodity_name] => Beras Premium - SJ
            [unit] => KG
            [image_path] => commodity_68dfc054a4de7.png
            [latest_price] => 12000.00
            [created_at] => 2025-10-04 11:06:44
        )

    [4] => Array
        (
            [id] => 84
            [commodity_name] => Cabai Rawit Lokal
            [unit] => KG
            [image_path] => commodity_68dfbf462d57c.png
            [latest_price] => 95000.00
            [created_at] => 2025-10-05 15:18:15
        )

    [5] => Array
        (
            [id] => 79
            [commodity_name] => Daging Ayam Kampung
            [unit] => KG
            [image_path] => commodity_68dfbee813246.png
            [latest_price] => 25500.00
            [created_at] => 2025-10-05 15:18:53
        )

    [6] => Array
        (
            [id] => 96
            [commodity_name] => Garam Halus
            [unit] => KG
            [image_path] => commodity_68dfc08a8320d.png
            [latest_price] => 9000.00
            [created_at] => 2025-10-07 08:57:47
        )

    [7] => Array
        (
            [id] => 112
            [commodity_name] => Timun (uk. Sedang)
            [unit] => KG
            [image_path] => commodity_68dfc2094a459.png
            [latest_price] => 15000.00
            [created_at] => 2025-10-07 08:57:21
        )

    [8] => Array
        (
            [id] => 111
            [commodity_name] => Tomat
            [unit] => KG
            [image_path] => commodity_68dfc1fee3486.png
            [latest_price] => 12000.00
            [created_at] => 2025-10-07 08:57:34
        )

)

[07-Oct-2025 20:58:55 UTC] Data komoditas ditemukan: 9 item
[07-Oct-2025 20:58:55 UTC] Sample data: Array
(
    [0] => Array
        (
            [id] => 87
            [commodity_name] => Bawang Bombay
            [unit] => KG
            [image_path] => commodity_68dfbfcbc270b.png
            [latest_price] => 50000.00
            [created_at] => 2025-10-07 16:45:05
        )

)

[07-Oct-2025 20:58:55 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[07-Oct-2025 20:58:55 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[07-Oct-2025 20:58:55 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:58:55 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:58:55 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[07-Oct-2025 20:58:55 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[07-Oct-2025 20:58:55 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:58:55 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:58:55 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[07-Oct-2025 20:58:55 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[07-Oct-2025 20:58:55 UTC] getStablePrices found 0 results
[07-Oct-2025 20:58:55 UTC] Koneksi database berhasil
[07-Oct-2025 20:58:55 UTC] Jumlah data di tabel prices: 17
[07-Oct-2025 20:58:55 UTC] Jumlah data di tabel commodities: 44
[07-Oct-2025 20:58:55 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[07-Oct-2025 20:58:55 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 2
)

[07-Oct-2025 20:58:55 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:58:55 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:58:55 UTC] Hasil getTopIncreasingPrices: Array
(
)

[07-Oct-2025 20:58:55 UTC] Latest commodity prices query results: Array
(
    [0] => Array
        (
            [id] => 87
            [commodity_name] => Bawang Bombay
            [unit] => KG
            [image_path] => commodity_68dfbfcbc270b.png
            [latest_price] => 50000.00
            [created_at] => 2025-10-07 16:45:05
        )

    [1] => Array
        (
            [id] => 89
            [commodity_name] => Bawang Merah
            [unit] => KG
            [image_path] => commodity_68dfbfc0a703b.png
            [latest_price] => 40000.00
            [created_at] => 2025-10-07 16:45:26
        )

    [2] => Array
        (
            [id] => 86
            [commodity_name] => Bawang Putih Honan
            [unit] => KG
            [image_path] => commodity_68dfbf941713e.png
            [latest_price] => 25000.00
            [created_at] => 2025-10-05 15:18:34
        )

    [3] => Array
        (
            [id] => 94
            [commodity_name] => Beras Premium - SJ
            [unit] => KG
            [image_path] => commodity_68dfc054a4de7.png
            [latest_price] => 12000.00
            [created_at] => 2025-10-04 11:06:44
        )

    [4] => Array
        (
            [id] => 84
            [commodity_name] => Cabai Rawit Lokal
            [unit] => KG
            [image_path] => commodity_68dfbf462d57c.png
            [latest_price] => 95000.00
            [created_at] => 2025-10-05 15:18:15
        )

    [5] => Array
        (
            [id] => 79
            [commodity_name] => Daging Ayam Kampung
            [unit] => KG
            [image_path] => commodity_68dfbee813246.png
            [latest_price] => 25500.00
            [created_at] => 2025-10-05 15:18:53
        )

    [6] => Array
        (
            [id] => 96
            [commodity_name] => Garam Halus
            [unit] => KG
            [image_path] => commodity_68dfc08a8320d.png
            [latest_price] => 9000.00
            [created_at] => 2025-10-07 08:57:47
        )

    [7] => Array
        (
            [id] => 112
            [commodity_name] => Timun (uk. Sedang)
            [unit] => KG
            [image_path] => commodity_68dfc2094a459.png
            [latest_price] => 15000.00
            [created_at] => 2025-10-07 08:57:21
        )

    [8] => Array
        (
            [id] => 111
            [commodity_name] => Tomat
            [unit] => KG
            [image_path] => commodity_68dfc1fee3486.png
            [latest_price] => 12000.00
            [created_at] => 2025-10-07 08:57:34
        )

)

[07-Oct-2025 20:58:55 UTC] Data komoditas ditemukan: 9 item
[07-Oct-2025 20:58:55 UTC] Sample data: Array
(
    [0] => Array
        (
            [id] => 87
            [commodity_name] => Bawang Bombay
            [unit] => KG
            [image_path] => commodity_68dfbfcbc270b.png
            [latest_price] => 50000.00
            [created_at] => 2025-10-07 16:45:05
        )

)

[07-Oct-2025 20:58:55 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[07-Oct-2025 20:58:55 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[07-Oct-2025 20:58:55 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:58:55 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:58:55 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[07-Oct-2025 20:58:55 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[07-Oct-2025 20:58:55 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:58:55 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 20:58:55 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[07-Oct-2025 20:58:55 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[07-Oct-2025 20:58:55 UTC] getStablePrices found 0 results
[07-Oct-2025 21:01:16 UTC] Koneksi database berhasil
[07-Oct-2025 21:01:16 UTC] Jumlah data di tabel prices: 17
[07-Oct-2025 21:01:16 UTC] Jumlah data di tabel commodities: 44
[07-Oct-2025 21:01:16 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[07-Oct-2025 21:01:16 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 2
)

[07-Oct-2025 21:01:16 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 21:01:16 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 21:01:16 UTC] Hasil getTopIncreasingPrices: Array
(
)

[07-Oct-2025 21:01:16 UTC] Latest commodity prices query results: Array
(
    [0] => Array
        (
            [id] => 87
            [commodity_name] => Bawang Bombay
            [unit] => KG
            [image_path] => commodity_68dfbfcbc270b.png
            [latest_price] => 50000.00
            [created_at] => 2025-10-07 16:45:05
        )

    [1] => Array
        (
            [id] => 89
            [commodity_name] => Bawang Merah
            [unit] => KG
            [image_path] => commodity_68dfbfc0a703b.png
            [latest_price] => 40000.00
            [created_at] => 2025-10-07 16:45:26
        )

    [2] => Array
        (
            [id] => 86
            [commodity_name] => Bawang Putih Honan
            [unit] => KG
            [image_path] => commodity_68dfbf941713e.png
            [latest_price] => 25000.00
            [created_at] => 2025-10-05 15:18:34
        )

    [3] => Array
        (
            [id] => 94
            [commodity_name] => Beras Premium - SJ
            [unit] => KG
            [image_path] => commodity_68dfc054a4de7.png
            [latest_price] => 12000.00
            [created_at] => 2025-10-04 11:06:44
        )

    [4] => Array
        (
            [id] => 84
            [commodity_name] => Cabai Rawit Lokal
            [unit] => KG
            [image_path] => commodity_68dfbf462d57c.png
            [latest_price] => 95000.00
            [created_at] => 2025-10-05 15:18:15
        )

    [5] => Array
        (
            [id] => 79
            [commodity_name] => Daging Ayam Kampung
            [unit] => KG
            [image_path] => commodity_68dfbee813246.png
            [latest_price] => 25500.00
            [created_at] => 2025-10-05 15:18:53
        )

    [6] => Array
        (
            [id] => 96
            [commodity_name] => Garam Halus
            [unit] => KG
            [image_path] => commodity_68dfc08a8320d.png
            [latest_price] => 9000.00
            [created_at] => 2025-10-07 08:57:47
        )

    [7] => Array
        (
            [id] => 112
            [commodity_name] => Timun (uk. Sedang)
            [unit] => KG
            [image_path] => commodity_68dfc2094a459.png
            [latest_price] => 15000.00
            [created_at] => 2025-10-07 08:57:21
        )

    [8] => Array
        (
            [id] => 111
            [commodity_name] => Tomat
            [unit] => KG
            [image_path] => commodity_68dfc1fee3486.png
            [latest_price] => 12000.00
            [created_at] => 2025-10-07 08:57:34
        )

)

[07-Oct-2025 21:01:16 UTC] Data komoditas ditemukan: 9 item
[07-Oct-2025 21:01:16 UTC] Sample data: Array
(
    [0] => Array
        (
            [id] => 87
            [commodity_name] => Bawang Bombay
            [unit] => KG
            [image_path] => commodity_68dfbfcbc270b.png
            [latest_price] => 50000.00
            [created_at] => 2025-10-07 16:45:05
        )

)

[07-Oct-2025 21:01:16 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[07-Oct-2025 21:01:16 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[07-Oct-2025 21:01:16 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 21:01:16 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 21:01:16 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[07-Oct-2025 21:01:16 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[07-Oct-2025 21:01:16 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 21:01:16 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 21:01:16 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[07-Oct-2025 21:01:16 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[07-Oct-2025 21:01:16 UTC] getStablePrices found 0 results
[07-Oct-2025 21:01:17 UTC] Koneksi database berhasil
[07-Oct-2025 21:01:17 UTC] Jumlah data di tabel prices: 17
[07-Oct-2025 21:01:17 UTC] Jumlah data di tabel commodities: 44
[07-Oct-2025 21:01:17 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[07-Oct-2025 21:01:17 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 2
)

[07-Oct-2025 21:01:17 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 21:01:17 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 21:01:17 UTC] Hasil getTopIncreasingPrices: Array
(
)

[07-Oct-2025 21:01:17 UTC] Latest commodity prices query results: Array
(
    [0] => Array
        (
            [id] => 87
            [commodity_name] => Bawang Bombay
            [unit] => KG
            [image_path] => commodity_68dfbfcbc270b.png
            [latest_price] => 50000.00
            [created_at] => 2025-10-07 16:45:05
        )

    [1] => Array
        (
            [id] => 89
            [commodity_name] => Bawang Merah
            [unit] => KG
            [image_path] => commodity_68dfbfc0a703b.png
            [latest_price] => 40000.00
            [created_at] => 2025-10-07 16:45:26
        )

    [2] => Array
        (
            [id] => 86
            [commodity_name] => Bawang Putih Honan
            [unit] => KG
            [image_path] => commodity_68dfbf941713e.png
            [latest_price] => 25000.00
            [created_at] => 2025-10-05 15:18:34
        )

    [3] => Array
        (
            [id] => 94
            [commodity_name] => Beras Premium - SJ
            [unit] => KG
            [image_path] => commodity_68dfc054a4de7.png
            [latest_price] => 12000.00
            [created_at] => 2025-10-04 11:06:44
        )

    [4] => Array
        (
            [id] => 84
            [commodity_name] => Cabai Rawit Lokal
            [unit] => KG
            [image_path] => commodity_68dfbf462d57c.png
            [latest_price] => 95000.00
            [created_at] => 2025-10-05 15:18:15
        )

    [5] => Array
        (
            [id] => 79
            [commodity_name] => Daging Ayam Kampung
            [unit] => KG
            [image_path] => commodity_68dfbee813246.png
            [latest_price] => 25500.00
            [created_at] => 2025-10-05 15:18:53
        )

    [6] => Array
        (
            [id] => 96
            [commodity_name] => Garam Halus
            [unit] => KG
            [image_path] => commodity_68dfc08a8320d.png
            [latest_price] => 9000.00
            [created_at] => 2025-10-07 08:57:47
        )

    [7] => Array
        (
            [id] => 112
            [commodity_name] => Timun (uk. Sedang)
            [unit] => KG
            [image_path] => commodity_68dfc2094a459.png
            [latest_price] => 15000.00
            [created_at] => 2025-10-07 08:57:21
        )

    [8] => Array
        (
            [id] => 111
            [commodity_name] => Tomat
            [unit] => KG
            [image_path] => commodity_68dfc1fee3486.png
            [latest_price] => 12000.00
            [created_at] => 2025-10-07 08:57:34
        )

)

[07-Oct-2025 21:01:17 UTC] Data komoditas ditemukan: 9 item
[07-Oct-2025 21:01:17 UTC] Sample data: Array
(
    [0] => Array
        (
            [id] => 87
            [commodity_name] => Bawang Bombay
            [unit] => KG
            [image_path] => commodity_68dfbfcbc270b.png
            [latest_price] => 50000.00
            [created_at] => 2025-10-07 16:45:05
        )

)

[07-Oct-2025 21:01:17 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[07-Oct-2025 21:01:17 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[07-Oct-2025 21:01:17 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 21:01:17 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 21:01:17 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[07-Oct-2025 21:01:17 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[07-Oct-2025 21:01:17 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 21:01:17 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 21:01:17 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[07-Oct-2025 21:01:17 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[07-Oct-2025 21:01:17 UTC] getStablePrices found 0 results
[07-Oct-2025 21:01:19 UTC] Koneksi database berhasil
[07-Oct-2025 21:01:19 UTC] Jumlah data di tabel prices: 17
[07-Oct-2025 21:01:19 UTC] Jumlah data di tabel commodities: 44
[07-Oct-2025 21:01:19 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[07-Oct-2025 21:01:19 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 2
)

[07-Oct-2025 21:01:19 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 21:01:19 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 21:01:19 UTC] Hasil getTopIncreasingPrices: Array
(
)

[07-Oct-2025 21:01:19 UTC] Latest commodity prices query results: Array
(
    [0] => Array
        (
            [id] => 87
            [commodity_name] => Bawang Bombay
            [unit] => KG
            [image_path] => commodity_68dfbfcbc270b.png
            [latest_price] => 50000.00
            [created_at] => 2025-10-07 16:45:05
        )

    [1] => Array
        (
            [id] => 89
            [commodity_name] => Bawang Merah
            [unit] => KG
            [image_path] => commodity_68dfbfc0a703b.png
            [latest_price] => 40000.00
            [created_at] => 2025-10-07 16:45:26
        )

    [2] => Array
        (
            [id] => 86
            [commodity_name] => Bawang Putih Honan
            [unit] => KG
            [image_path] => commodity_68dfbf941713e.png
            [latest_price] => 25000.00
            [created_at] => 2025-10-05 15:18:34
        )

    [3] => Array
        (
            [id] => 94
            [commodity_name] => Beras Premium - SJ
            [unit] => KG
            [image_path] => commodity_68dfc054a4de7.png
            [latest_price] => 12000.00
            [created_at] => 2025-10-04 11:06:44
        )

    [4] => Array
        (
            [id] => 84
            [commodity_name] => Cabai Rawit Lokal
            [unit] => KG
            [image_path] => commodity_68dfbf462d57c.png
            [latest_price] => 95000.00
            [created_at] => 2025-10-05 15:18:15
        )

    [5] => Array
        (
            [id] => 79
            [commodity_name] => Daging Ayam Kampung
            [unit] => KG
            [image_path] => commodity_68dfbee813246.png
            [latest_price] => 25500.00
            [created_at] => 2025-10-05 15:18:53
        )

    [6] => Array
        (
            [id] => 96
            [commodity_name] => Garam Halus
            [unit] => KG
            [image_path] => commodity_68dfc08a8320d.png
            [latest_price] => 9000.00
            [created_at] => 2025-10-07 08:57:47
        )

    [7] => Array
        (
            [id] => 112
            [commodity_name] => Timun (uk. Sedang)
            [unit] => KG
            [image_path] => commodity_68dfc2094a459.png
            [latest_price] => 15000.00
            [created_at] => 2025-10-07 08:57:21
        )

    [8] => Array
        (
            [id] => 111
            [commodity_name] => Tomat
            [unit] => KG
            [image_path] => commodity_68dfc1fee3486.png
            [latest_price] => 12000.00
            [created_at] => 2025-10-07 08:57:34
        )

)

[07-Oct-2025 21:01:19 UTC] Data komoditas ditemukan: 9 item
[07-Oct-2025 21:01:19 UTC] Sample data: Array
(
    [0] => Array
        (
            [id] => 87
            [commodity_name] => Bawang Bombay
            [unit] => KG
            [image_path] => commodity_68dfbfcbc270b.png
            [latest_price] => 50000.00
            [created_at] => 2025-10-07 16:45:05
        )

)

[07-Oct-2025 21:01:19 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[07-Oct-2025 21:01:19 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[07-Oct-2025 21:01:19 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 21:01:19 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 21:01:19 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[07-Oct-2025 21:01:19 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[07-Oct-2025 21:01:19 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 21:01:19 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 21:01:19 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[07-Oct-2025 21:01:19 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[07-Oct-2025 21:01:19 UTC] getStablePrices found 0 results
[07-Oct-2025 21:01:20 UTC] Koneksi database berhasil
[07-Oct-2025 21:01:20 UTC] Jumlah data di tabel prices: 17
[07-Oct-2025 21:01:20 UTC] Jumlah data di tabel commodities: 44
[07-Oct-2025 21:01:20 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[07-Oct-2025 21:01:20 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 2
)

[07-Oct-2025 21:01:20 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 21:01:20 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 21:01:20 UTC] Hasil getTopIncreasingPrices: Array
(
)

[07-Oct-2025 21:01:20 UTC] Latest commodity prices query results: Array
(
    [0] => Array
        (
            [id] => 87
            [commodity_name] => Bawang Bombay
            [unit] => KG
            [image_path] => commodity_68dfbfcbc270b.png
            [latest_price] => 50000.00
            [created_at] => 2025-10-07 16:45:05
        )

    [1] => Array
        (
            [id] => 89
            [commodity_name] => Bawang Merah
            [unit] => KG
            [image_path] => commodity_68dfbfc0a703b.png
            [latest_price] => 40000.00
            [created_at] => 2025-10-07 16:45:26
        )

    [2] => Array
        (
            [id] => 86
            [commodity_name] => Bawang Putih Honan
            [unit] => KG
            [image_path] => commodity_68dfbf941713e.png
            [latest_price] => 25000.00
            [created_at] => 2025-10-05 15:18:34
        )

    [3] => Array
        (
            [id] => 94
            [commodity_name] => Beras Premium - SJ
            [unit] => KG
            [image_path] => commodity_68dfc054a4de7.png
            [latest_price] => 12000.00
            [created_at] => 2025-10-04 11:06:44
        )

    [4] => Array
        (
            [id] => 84
            [commodity_name] => Cabai Rawit Lokal
            [unit] => KG
            [image_path] => commodity_68dfbf462d57c.png
            [latest_price] => 95000.00
            [created_at] => 2025-10-05 15:18:15
        )

    [5] => Array
        (
            [id] => 79
            [commodity_name] => Daging Ayam Kampung
            [unit] => KG
            [image_path] => commodity_68dfbee813246.png
            [latest_price] => 25500.00
            [created_at] => 2025-10-05 15:18:53
        )

    [6] => Array
        (
            [id] => 96
            [commodity_name] => Garam Halus
            [unit] => KG
            [image_path] => commodity_68dfc08a8320d.png
            [latest_price] => 9000.00
            [created_at] => 2025-10-07 08:57:47
        )

    [7] => Array
        (
            [id] => 112
            [commodity_name] => Timun (uk. Sedang)
            [unit] => KG
            [image_path] => commodity_68dfc2094a459.png
            [latest_price] => 15000.00
            [created_at] => 2025-10-07 08:57:21
        )

    [8] => Array
        (
            [id] => 111
            [commodity_name] => Tomat
            [unit] => KG
            [image_path] => commodity_68dfc1fee3486.png
            [latest_price] => 12000.00
            [created_at] => 2025-10-07 08:57:34
        )

)

[07-Oct-2025 21:01:20 UTC] Data komoditas ditemukan: 9 item
[07-Oct-2025 21:01:20 UTC] Sample data: Array
(
    [0] => Array
        (
            [id] => 87
            [commodity_name] => Bawang Bombay
            [unit] => KG
            [image_path] => commodity_68dfbfcbc270b.png
            [latest_price] => 50000.00
            [created_at] => 2025-10-07 16:45:05
        )

)

[07-Oct-2025 21:01:20 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[07-Oct-2025 21:01:20 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[07-Oct-2025 21:01:20 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 21:01:20 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 21:01:20 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[07-Oct-2025 21:01:20 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[07-Oct-2025 21:01:20 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 21:01:20 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 21:01:20 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[07-Oct-2025 21:01:20 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[07-Oct-2025 21:01:20 UTC] getStablePrices found 0 results
[07-Oct-2025 21:01:43 UTC] Koneksi database berhasil
[07-Oct-2025 21:01:43 UTC] Jumlah data di tabel prices: 17
[07-Oct-2025 21:01:43 UTC] Jumlah data di tabel commodities: 44
[07-Oct-2025 21:01:43 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[07-Oct-2025 21:01:43 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 2
)

[07-Oct-2025 21:01:43 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 21:01:43 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 21:01:43 UTC] Hasil getTopIncreasingPrices: Array
(
)

[07-Oct-2025 21:01:43 UTC] Latest commodity prices query results: Array
(
    [0] => Array
        (
            [id] => 87
            [commodity_name] => Bawang Bombay
            [unit] => KG
            [image_path] => commodity_68dfbfcbc270b.png
            [latest_price] => 50000.00
            [created_at] => 2025-10-07 16:45:05
        )

    [1] => Array
        (
            [id] => 89
            [commodity_name] => Bawang Merah
            [unit] => KG
            [image_path] => commodity_68dfbfc0a703b.png
            [latest_price] => 40000.00
            [created_at] => 2025-10-07 16:45:26
        )

    [2] => Array
        (
            [id] => 86
            [commodity_name] => Bawang Putih Honan
            [unit] => KG
            [image_path] => commodity_68dfbf941713e.png
            [latest_price] => 25000.00
            [created_at] => 2025-10-05 15:18:34
        )

    [3] => Array
        (
            [id] => 94
            [commodity_name] => Beras Premium - SJ
            [unit] => KG
            [image_path] => commodity_68dfc054a4de7.png
            [latest_price] => 12000.00
            [created_at] => 2025-10-04 11:06:44
        )

    [4] => Array
        (
            [id] => 84
            [commodity_name] => Cabai Rawit Lokal
            [unit] => KG
            [image_path] => commodity_68dfbf462d57c.png
            [latest_price] => 95000.00
            [created_at] => 2025-10-05 15:18:15
        )

    [5] => Array
        (
            [id] => 79
            [commodity_name] => Daging Ayam Kampung
            [unit] => KG
            [image_path] => commodity_68dfbee813246.png
            [latest_price] => 25500.00
            [created_at] => 2025-10-05 15:18:53
        )

    [6] => Array
        (
            [id] => 96
            [commodity_name] => Garam Halus
            [unit] => KG
            [image_path] => commodity_68dfc08a8320d.png
            [latest_price] => 9000.00
            [created_at] => 2025-10-07 08:57:47
        )

    [7] => Array
        (
            [id] => 112
            [commodity_name] => Timun (uk. Sedang)
            [unit] => KG
            [image_path] => commodity_68dfc2094a459.png
            [latest_price] => 15000.00
            [created_at] => 2025-10-07 08:57:21
        )

    [8] => Array
        (
            [id] => 111
            [commodity_name] => Tomat
            [unit] => KG
            [image_path] => commodity_68dfc1fee3486.png
            [latest_price] => 12000.00
            [created_at] => 2025-10-07 08:57:34
        )

)

[07-Oct-2025 21:01:43 UTC] Data komoditas ditemukan: 9 item
[07-Oct-2025 21:01:43 UTC] Sample data: Array
(
    [0] => Array
        (
            [id] => 87
            [commodity_name] => Bawang Bombay
            [unit] => KG
            [image_path] => commodity_68dfbfcbc270b.png
            [latest_price] => 50000.00
            [created_at] => 2025-10-07 16:45:05
        )

)

[07-Oct-2025 21:01:43 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[07-Oct-2025 21:01:43 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[07-Oct-2025 21:01:43 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 21:01:43 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 21:01:43 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[07-Oct-2025 21:01:43 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[07-Oct-2025 21:01:43 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 21:01:43 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 21:01:43 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[07-Oct-2025 21:01:43 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[07-Oct-2025 21:01:43 UTC] getStablePrices found 0 results
[07-Oct-2025 21:02:02 UTC] Koneksi database berhasil
[07-Oct-2025 21:02:02 UTC] Jumlah data di tabel prices: 17
[07-Oct-2025 21:02:02 UTC] Jumlah data di tabel commodities: 44
[07-Oct-2025 21:02:02 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[07-Oct-2025 21:02:02 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 2
)

[07-Oct-2025 21:02:02 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 21:02:02 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 21:02:02 UTC] Hasil getTopIncreasingPrices: Array
(
)

[07-Oct-2025 21:02:02 UTC] Latest commodity prices query results: Array
(
    [0] => Array
        (
            [id] => 87
            [commodity_name] => Bawang Bombay
            [unit] => KG
            [image_path] => commodity_68dfbfcbc270b.png
            [latest_price] => 50000.00
            [created_at] => 2025-10-07 16:45:05
        )

    [1] => Array
        (
            [id] => 89
            [commodity_name] => Bawang Merah
            [unit] => KG
            [image_path] => commodity_68dfbfc0a703b.png
            [latest_price] => 40000.00
            [created_at] => 2025-10-07 16:45:26
        )

    [2] => Array
        (
            [id] => 86
            [commodity_name] => Bawang Putih Honan
            [unit] => KG
            [image_path] => commodity_68dfbf941713e.png
            [latest_price] => 25000.00
            [created_at] => 2025-10-05 15:18:34
        )

    [3] => Array
        (
            [id] => 94
            [commodity_name] => Beras Premium - SJ
            [unit] => KG
            [image_path] => commodity_68dfc054a4de7.png
            [latest_price] => 12000.00
            [created_at] => 2025-10-04 11:06:44
        )

    [4] => Array
        (
            [id] => 84
            [commodity_name] => Cabai Rawit Lokal
            [unit] => KG
            [image_path] => commodity_68dfbf462d57c.png
            [latest_price] => 95000.00
            [created_at] => 2025-10-05 15:18:15
        )

    [5] => Array
        (
            [id] => 79
            [commodity_name] => Daging Ayam Kampung
            [unit] => KG
            [image_path] => commodity_68dfbee813246.png
            [latest_price] => 25500.00
            [created_at] => 2025-10-05 15:18:53
        )

    [6] => Array
        (
            [id] => 96
            [commodity_name] => Garam Halus
            [unit] => KG
            [image_path] => commodity_68dfc08a8320d.png
            [latest_price] => 9000.00
            [created_at] => 2025-10-07 08:57:47
        )

    [7] => Array
        (
            [id] => 112
            [commodity_name] => Timun (uk. Sedang)
            [unit] => KG
            [image_path] => commodity_68dfc2094a459.png
            [latest_price] => 15000.00
            [created_at] => 2025-10-07 08:57:21
        )

    [8] => Array
        (
            [id] => 111
            [commodity_name] => Tomat
            [unit] => KG
            [image_path] => commodity_68dfc1fee3486.png
            [latest_price] => 12000.00
            [created_at] => 2025-10-07 08:57:34
        )

)

[07-Oct-2025 21:02:02 UTC] Data komoditas ditemukan: 9 item
[07-Oct-2025 21:02:02 UTC] Sample data: Array
(
    [0] => Array
        (
            [id] => 87
            [commodity_name] => Bawang Bombay
            [unit] => KG
            [image_path] => commodity_68dfbfcbc270b.png
            [latest_price] => 50000.00
            [created_at] => 2025-10-07 16:45:05
        )

)

[07-Oct-2025 21:02:02 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[07-Oct-2025 21:02:02 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[07-Oct-2025 21:02:02 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 21:02:02 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 21:02:02 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[07-Oct-2025 21:02:02 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[07-Oct-2025 21:02:02 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 21:02:02 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 21:02:02 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[07-Oct-2025 21:02:02 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[07-Oct-2025 21:02:02 UTC] getStablePrices found 0 results
[07-Oct-2025 21:04:05 UTC] Koneksi database berhasil
[07-Oct-2025 21:04:05 UTC] Jumlah data di tabel prices: 17
[07-Oct-2025 21:04:05 UTC] Jumlah data di tabel commodities: 44
[07-Oct-2025 21:04:05 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[07-Oct-2025 21:04:05 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 2
)

[07-Oct-2025 21:04:05 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 21:04:05 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 21:04:05 UTC] Hasil getTopIncreasingPrices: Array
(
)

[07-Oct-2025 21:04:05 UTC] Latest commodity prices query results: Array
(
    [0] => Array
        (
            [id] => 87
            [commodity_name] => Bawang Bombay
            [unit] => KG
            [image_path] => commodity_68dfbfcbc270b.png
            [latest_price] => 50000.00
            [created_at] => 2025-10-07 16:45:05
        )

    [1] => Array
        (
            [id] => 89
            [commodity_name] => Bawang Merah
            [unit] => KG
            [image_path] => commodity_68dfbfc0a703b.png
            [latest_price] => 40000.00
            [created_at] => 2025-10-07 16:45:26
        )

    [2] => Array
        (
            [id] => 86
            [commodity_name] => Bawang Putih Honan
            [unit] => KG
            [image_path] => commodity_68dfbf941713e.png
            [latest_price] => 25000.00
            [created_at] => 2025-10-05 15:18:34
        )

    [3] => Array
        (
            [id] => 94
            [commodity_name] => Beras Premium - SJ
            [unit] => KG
            [image_path] => commodity_68dfc054a4de7.png
            [latest_price] => 12000.00
            [created_at] => 2025-10-04 11:06:44
        )

    [4] => Array
        (
            [id] => 84
            [commodity_name] => Cabai Rawit Lokal
            [unit] => KG
            [image_path] => commodity_68dfbf462d57c.png
            [latest_price] => 95000.00
            [created_at] => 2025-10-05 15:18:15
        )

    [5] => Array
        (
            [id] => 79
            [commodity_name] => Daging Ayam Kampung
            [unit] => KG
            [image_path] => commodity_68dfbee813246.png
            [latest_price] => 25500.00
            [created_at] => 2025-10-05 15:18:53
        )

    [6] => Array
        (
            [id] => 96
            [commodity_name] => Garam Halus
            [unit] => KG
            [image_path] => commodity_68dfc08a8320d.png
            [latest_price] => 9000.00
            [created_at] => 2025-10-07 08:57:47
        )

    [7] => Array
        (
            [id] => 112
            [commodity_name] => Timun (uk. Sedang)
            [unit] => KG
            [image_path] => commodity_68dfc2094a459.png
            [latest_price] => 15000.00
            [created_at] => 2025-10-07 08:57:21
        )

    [8] => Array
        (
            [id] => 111
            [commodity_name] => Tomat
            [unit] => KG
            [image_path] => commodity_68dfc1fee3486.png
            [latest_price] => 12000.00
            [created_at] => 2025-10-07 08:57:34
        )

)

[07-Oct-2025 21:04:05 UTC] Data komoditas ditemukan: 9 item
[07-Oct-2025 21:04:05 UTC] Sample data: Array
(
    [0] => Array
        (
            [id] => 87
            [commodity_name] => Bawang Bombay
            [unit] => KG
            [image_path] => commodity_68dfbfcbc270b.png
            [latest_price] => 50000.00
            [created_at] => 2025-10-07 16:45:05
        )

)

[07-Oct-2025 21:04:05 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[07-Oct-2025 21:04:05 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[07-Oct-2025 21:04:05 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 21:04:05 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 21:04:05 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[07-Oct-2025 21:04:05 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[07-Oct-2025 21:04:05 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 21:04:05 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[07-Oct-2025 21:04:05 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[07-Oct-2025 21:04:05 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[07-Oct-2025 21:04:05 UTC] getStablePrices found 0 results
[08-Oct-2025 04:29:11 UTC] Koneksi database berhasil
[08-Oct-2025 04:29:11 UTC] Jumlah data di tabel prices: 17
[08-Oct-2025 04:29:11 UTC] Jumlah data di tabel commodities: 44
[08-Oct-2025 04:29:11 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[08-Oct-2025 04:29:11 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 2
)

[08-Oct-2025 04:29:11 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 04:29:11 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 04:29:11 UTC] Hasil getTopIncreasingPrices: Array
(
)

[08-Oct-2025 04:29:11 UTC] Latest commodity prices query results: Array
(
    [0] => Array
        (
            [id] => 87
            [commodity_name] => Bawang Bombay
            [unit] => KG
            [image_path] => commodity_68dfbfcbc270b.png
            [latest_price] => 50000.00
            [created_at] => 2025-10-07 16:45:05
        )

    [1] => Array
        (
            [id] => 89
            [commodity_name] => Bawang Merah
            [unit] => KG
            [image_path] => commodity_68dfbfc0a703b.png
            [latest_price] => 40000.00
            [created_at] => 2025-10-07 16:45:26
        )

    [2] => Array
        (
            [id] => 86
            [commodity_name] => Bawang Putih Honan
            [unit] => KG
            [image_path] => commodity_68dfbf941713e.png
            [latest_price] => 25000.00
            [created_at] => 2025-10-05 15:18:34
        )

    [3] => Array
        (
            [id] => 94
            [commodity_name] => Beras Premium - SJ
            [unit] => KG
            [image_path] => commodity_68dfc054a4de7.png
            [latest_price] => 12000.00
            [created_at] => 2025-10-04 11:06:44
        )

    [4] => Array
        (
            [id] => 84
            [commodity_name] => Cabai Rawit Lokal
            [unit] => KG
            [image_path] => commodity_68dfbf462d57c.png
            [latest_price] => 95000.00
            [created_at] => 2025-10-05 15:18:15
        )

    [5] => Array
        (
            [id] => 79
            [commodity_name] => Daging Ayam Kampung
            [unit] => KG
            [image_path] => commodity_68dfbee813246.png
            [latest_price] => 25500.00
            [created_at] => 2025-10-05 15:18:53
        )

    [6] => Array
        (
            [id] => 96
            [commodity_name] => Garam Halus
            [unit] => KG
            [image_path] => commodity_68dfc08a8320d.png
            [latest_price] => 9000.00
            [created_at] => 2025-10-07 08:57:47
        )

    [7] => Array
        (
            [id] => 112
            [commodity_name] => Timun (uk. Sedang)
            [unit] => KG
            [image_path] => commodity_68dfc2094a459.png
            [latest_price] => 15000.00
            [created_at] => 2025-10-07 08:57:21
        )

    [8] => Array
        (
            [id] => 111
            [commodity_name] => Tomat
            [unit] => KG
            [image_path] => commodity_68dfc1fee3486.png
            [latest_price] => 12000.00
            [created_at] => 2025-10-07 08:57:34
        )

)

[08-Oct-2025 04:29:11 UTC] Data komoditas ditemukan: 9 item
[08-Oct-2025 04:29:11 UTC] Sample data: Array
(
    [0] => Array
        (
            [id] => 87
            [commodity_name] => Bawang Bombay
            [unit] => KG
            [image_path] => commodity_68dfbfcbc270b.png
            [latest_price] => 50000.00
            [created_at] => 2025-10-07 16:45:05
        )

)

[08-Oct-2025 04:29:11 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[08-Oct-2025 04:29:11 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 04:29:11 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 04:29:11 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 04:29:11 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[08-Oct-2025 04:29:11 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 04:29:11 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 04:29:11 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 04:29:11 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[08-Oct-2025 04:29:11 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 04:29:11 UTC] getStablePrices found 0 results
[08-Oct-2025 04:29:34 UTC] Koneksi database berhasil
[08-Oct-2025 04:29:34 UTC] Jumlah data di tabel prices: 17
[08-Oct-2025 04:29:34 UTC] Jumlah data di tabel commodities: 44
[08-Oct-2025 04:29:34 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[08-Oct-2025 04:29:34 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 2
)

[08-Oct-2025 04:29:34 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 04:29:34 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 04:29:34 UTC] Hasil getTopIncreasingPrices: Array
(
)

[08-Oct-2025 04:29:34 UTC] Latest commodity prices query results: Array
(
    [0] => Array
        (
            [id] => 87
            [commodity_name] => Bawang Bombay
            [unit] => KG
            [image_path] => commodity_68dfbfcbc270b.png
            [latest_price] => 50000.00
            [created_at] => 2025-10-07 16:45:05
        )

    [1] => Array
        (
            [id] => 89
            [commodity_name] => Bawang Merah
            [unit] => KG
            [image_path] => commodity_68dfbfc0a703b.png
            [latest_price] => 40000.00
            [created_at] => 2025-10-07 16:45:26
        )

    [2] => Array
        (
            [id] => 86
            [commodity_name] => Bawang Putih Honan
            [unit] => KG
            [image_path] => commodity_68dfbf941713e.png
            [latest_price] => 25000.00
            [created_at] => 2025-10-05 15:18:34
        )

    [3] => Array
        (
            [id] => 94
            [commodity_name] => Beras Premium - SJ
            [unit] => KG
            [image_path] => commodity_68dfc054a4de7.png
            [latest_price] => 12000.00
            [created_at] => 2025-10-04 11:06:44
        )

    [4] => Array
        (
            [id] => 84
            [commodity_name] => Cabai Rawit Lokal
            [unit] => KG
            [image_path] => commodity_68dfbf462d57c.png
            [latest_price] => 95000.00
            [created_at] => 2025-10-05 15:18:15
        )

    [5] => Array
        (
            [id] => 79
            [commodity_name] => Daging Ayam Kampung
            [unit] => KG
            [image_path] => commodity_68dfbee813246.png
            [latest_price] => 25500.00
            [created_at] => 2025-10-05 15:18:53
        )

    [6] => Array
        (
            [id] => 96
            [commodity_name] => Garam Halus
            [unit] => KG
            [image_path] => commodity_68dfc08a8320d.png
            [latest_price] => 9000.00
            [created_at] => 2025-10-07 08:57:47
        )

    [7] => Array
        (
            [id] => 112
            [commodity_name] => Timun (uk. Sedang)
            [unit] => KG
            [image_path] => commodity_68dfc2094a459.png
            [latest_price] => 15000.00
            [created_at] => 2025-10-07 08:57:21
        )

    [8] => Array
        (
            [id] => 111
            [commodity_name] => Tomat
            [unit] => KG
            [image_path] => commodity_68dfc1fee3486.png
            [latest_price] => 12000.00
            [created_at] => 2025-10-07 08:57:34
        )

)

[08-Oct-2025 04:29:34 UTC] Data komoditas ditemukan: 9 item
[08-Oct-2025 04:29:34 UTC] Sample data: Array
(
    [0] => Array
        (
            [id] => 87
            [commodity_name] => Bawang Bombay
            [unit] => KG
            [image_path] => commodity_68dfbfcbc270b.png
            [latest_price] => 50000.00
            [created_at] => 2025-10-07 16:45:05
        )

)

[08-Oct-2025 04:29:34 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[08-Oct-2025 04:29:34 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 04:29:34 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 04:29:34 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 04:29:34 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[08-Oct-2025 04:29:34 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 04:29:34 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 04:29:34 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 04:29:34 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[08-Oct-2025 04:29:34 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 04:29:34 UTC] getStablePrices found 0 results
[08-Oct-2025 04:31:02 UTC] Koneksi database berhasil
[08-Oct-2025 04:31:02 UTC] Jumlah data di tabel prices: 17
[08-Oct-2025 04:31:02 UTC] Jumlah data di tabel commodities: 44
[08-Oct-2025 04:31:02 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[08-Oct-2025 04:31:02 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 2
)

[08-Oct-2025 04:31:02 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 04:31:02 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 04:31:02 UTC] Hasil getTopIncreasingPrices: Array
(
)

[08-Oct-2025 04:31:02 UTC] Latest commodity prices query results: Array
(
    [0] => Array
        (
            [id] => 87
            [commodity_name] => Bawang Bombay
            [unit] => KG
            [image_path] => commodity_68dfbfcbc270b.png
            [latest_price] => 50000.00
            [created_at] => 2025-10-07 16:45:05
        )

    [1] => Array
        (
            [id] => 89
            [commodity_name] => Bawang Merah
            [unit] => KG
            [image_path] => commodity_68dfbfc0a703b.png
            [latest_price] => 40000.00
            [created_at] => 2025-10-07 16:45:26
        )

    [2] => Array
        (
            [id] => 86
            [commodity_name] => Bawang Putih Honan
            [unit] => KG
            [image_path] => commodity_68dfbf941713e.png
            [latest_price] => 25000.00
            [created_at] => 2025-10-05 15:18:34
        )

    [3] => Array
        (
            [id] => 94
            [commodity_name] => Beras Premium - SJ
            [unit] => KG
            [image_path] => commodity_68dfc054a4de7.png
            [latest_price] => 12000.00
            [created_at] => 2025-10-04 11:06:44
        )

    [4] => Array
        (
            [id] => 84
            [commodity_name] => Cabai Rawit Lokal
            [unit] => KG
            [image_path] => commodity_68dfbf462d57c.png
            [latest_price] => 95000.00
            [created_at] => 2025-10-05 15:18:15
        )

    [5] => Array
        (
            [id] => 79
            [commodity_name] => Daging Ayam Kampung
            [unit] => KG
            [image_path] => commodity_68dfbee813246.png
            [latest_price] => 25500.00
            [created_at] => 2025-10-05 15:18:53
        )

    [6] => Array
        (
            [id] => 96
            [commodity_name] => Garam Halus
            [unit] => KG
            [image_path] => commodity_68dfc08a8320d.png
            [latest_price] => 9000.00
            [created_at] => 2025-10-07 08:57:47
        )

    [7] => Array
        (
            [id] => 112
            [commodity_name] => Timun (uk. Sedang)
            [unit] => KG
            [image_path] => commodity_68dfc2094a459.png
            [latest_price] => 15000.00
            [created_at] => 2025-10-07 08:57:21
        )

    [8] => Array
        (
            [id] => 111
            [commodity_name] => Tomat
            [unit] => KG
            [image_path] => commodity_68dfc1fee3486.png
            [latest_price] => 12000.00
            [created_at] => 2025-10-07 08:57:34
        )

)

[08-Oct-2025 04:31:02 UTC] Data komoditas ditemukan: 9 item
[08-Oct-2025 04:31:02 UTC] Sample data: Array
(
    [0] => Array
        (
            [id] => 87
            [commodity_name] => Bawang Bombay
            [unit] => KG
            [image_path] => commodity_68dfbfcbc270b.png
            [latest_price] => 50000.00
            [created_at] => 2025-10-07 16:45:05
        )

)

[08-Oct-2025 04:31:02 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[08-Oct-2025 04:31:02 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 04:31:02 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 04:31:02 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 04:31:02 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[08-Oct-2025 04:31:02 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 04:31:02 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 04:31:02 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 04:31:02 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[08-Oct-2025 04:31:02 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 04:31:02 UTC] getStablePrices found 0 results
[08-Oct-2025 04:33:33 UTC] Koneksi database berhasil
[08-Oct-2025 04:33:33 UTC] Jumlah data di tabel prices: 17
[08-Oct-2025 04:33:33 UTC] Jumlah data di tabel commodities: 44
[08-Oct-2025 04:33:33 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[08-Oct-2025 04:33:33 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 2
)

[08-Oct-2025 04:33:33 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 04:33:33 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 04:33:33 UTC] Hasil getTopIncreasingPrices: Array
(
)

[08-Oct-2025 04:33:33 UTC] Latest commodity prices query results: Array
(
    [0] => Array
        (
            [id] => 87
            [commodity_name] => Bawang Bombay
            [unit] => KG
            [image_path] => commodity_68dfbfcbc270b.png
            [latest_price] => 50000.00
            [created_at] => 2025-10-07 16:45:05
        )

    [1] => Array
        (
            [id] => 89
            [commodity_name] => Bawang Merah
            [unit] => KG
            [image_path] => commodity_68dfbfc0a703b.png
            [latest_price] => 40000.00
            [created_at] => 2025-10-07 16:45:26
        )

    [2] => Array
        (
            [id] => 86
            [commodity_name] => Bawang Putih Honan
            [unit] => KG
            [image_path] => commodity_68dfbf941713e.png
            [latest_price] => 25000.00
            [created_at] => 2025-10-05 15:18:34
        )

    [3] => Array
        (
            [id] => 94
            [commodity_name] => Beras Premium - SJ
            [unit] => KG
            [image_path] => commodity_68dfc054a4de7.png
            [latest_price] => 12000.00
            [created_at] => 2025-10-04 11:06:44
        )

    [4] => Array
        (
            [id] => 84
            [commodity_name] => Cabai Rawit Lokal
            [unit] => KG
            [image_path] => commodity_68dfbf462d57c.png
            [latest_price] => 95000.00
            [created_at] => 2025-10-05 15:18:15
        )

    [5] => Array
        (
            [id] => 79
            [commodity_name] => Daging Ayam Kampung
            [unit] => KG
            [image_path] => commodity_68dfbee813246.png
            [latest_price] => 25500.00
            [created_at] => 2025-10-05 15:18:53
        )

    [6] => Array
        (
            [id] => 96
            [commodity_name] => Garam Halus
            [unit] => KG
            [image_path] => commodity_68dfc08a8320d.png
            [latest_price] => 9000.00
            [created_at] => 2025-10-07 08:57:47
        )

    [7] => Array
        (
            [id] => 112
            [commodity_name] => Timun (uk. Sedang)
            [unit] => KG
            [image_path] => commodity_68dfc2094a459.png
            [latest_price] => 15000.00
            [created_at] => 2025-10-07 08:57:21
        )

    [8] => Array
        (
            [id] => 111
            [commodity_name] => Tomat
            [unit] => KG
            [image_path] => commodity_68dfc1fee3486.png
            [latest_price] => 12000.00
            [created_at] => 2025-10-07 08:57:34
        )

)

[08-Oct-2025 04:33:33 UTC] Data komoditas ditemukan: 9 item
[08-Oct-2025 04:33:33 UTC] Sample data: Array
(
    [0] => Array
        (
            [id] => 87
            [commodity_name] => Bawang Bombay
            [unit] => KG
            [image_path] => commodity_68dfbfcbc270b.png
            [latest_price] => 50000.00
            [created_at] => 2025-10-07 16:45:05
        )

)

[08-Oct-2025 04:33:33 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[08-Oct-2025 04:33:33 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 04:33:33 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 04:33:33 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 04:33:33 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[08-Oct-2025 04:33:33 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 04:33:33 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 04:33:33 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 04:33:33 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[08-Oct-2025 04:33:33 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 04:33:33 UTC] getStablePrices found 0 results
[08-Oct-2025 04:33:39 UTC] Koneksi database berhasil
[08-Oct-2025 04:33:39 UTC] Jumlah data di tabel prices: 17
[08-Oct-2025 04:33:39 UTC] Jumlah data di tabel commodities: 44
[08-Oct-2025 04:33:39 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[08-Oct-2025 04:33:39 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 2
)

[08-Oct-2025 04:33:39 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 04:33:39 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 04:33:39 UTC] Hasil getTopIncreasingPrices: Array
(
)

[08-Oct-2025 04:33:39 UTC] Latest commodity prices query results: Array
(
    [0] => Array
        (
            [id] => 87
            [commodity_name] => Bawang Bombay
            [unit] => KG
            [image_path] => commodity_68dfbfcbc270b.png
            [latest_price] => 50000.00
            [created_at] => 2025-10-07 16:45:05
        )

    [1] => Array
        (
            [id] => 89
            [commodity_name] => Bawang Merah
            [unit] => KG
            [image_path] => commodity_68dfbfc0a703b.png
            [latest_price] => 40000.00
            [created_at] => 2025-10-07 16:45:26
        )

    [2] => Array
        (
            [id] => 86
            [commodity_name] => Bawang Putih Honan
            [unit] => KG
            [image_path] => commodity_68dfbf941713e.png
            [latest_price] => 25000.00
            [created_at] => 2025-10-05 15:18:34
        )

    [3] => Array
        (
            [id] => 94
            [commodity_name] => Beras Premium - SJ
            [unit] => KG
            [image_path] => commodity_68dfc054a4de7.png
            [latest_price] => 12000.00
            [created_at] => 2025-10-04 11:06:44
        )

    [4] => Array
        (
            [id] => 84
            [commodity_name] => Cabai Rawit Lokal
            [unit] => KG
            [image_path] => commodity_68dfbf462d57c.png
            [latest_price] => 95000.00
            [created_at] => 2025-10-05 15:18:15
        )

    [5] => Array
        (
            [id] => 79
            [commodity_name] => Daging Ayam Kampung
            [unit] => KG
            [image_path] => commodity_68dfbee813246.png
            [latest_price] => 25500.00
            [created_at] => 2025-10-05 15:18:53
        )

    [6] => Array
        (
            [id] => 96
            [commodity_name] => Garam Halus
            [unit] => KG
            [image_path] => commodity_68dfc08a8320d.png
            [latest_price] => 9000.00
            [created_at] => 2025-10-07 08:57:47
        )

    [7] => Array
        (
            [id] => 112
            [commodity_name] => Timun (uk. Sedang)
            [unit] => KG
            [image_path] => commodity_68dfc2094a459.png
            [latest_price] => 15000.00
            [created_at] => 2025-10-07 08:57:21
        )

    [8] => Array
        (
            [id] => 111
            [commodity_name] => Tomat
            [unit] => KG
            [image_path] => commodity_68dfc1fee3486.png
            [latest_price] => 12000.00
            [created_at] => 2025-10-07 08:57:34
        )

)

[08-Oct-2025 04:33:39 UTC] Data komoditas ditemukan: 9 item
[08-Oct-2025 04:33:39 UTC] Sample data: Array
(
    [0] => Array
        (
            [id] => 87
            [commodity_name] => Bawang Bombay
            [unit] => KG
            [image_path] => commodity_68dfbfcbc270b.png
            [latest_price] => 50000.00
            [created_at] => 2025-10-07 16:45:05
        )

)

[08-Oct-2025 04:33:39 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[08-Oct-2025 04:33:39 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 04:33:39 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 04:33:39 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 04:33:39 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[08-Oct-2025 04:33:39 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 04:33:39 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 04:33:39 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 04:33:39 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[08-Oct-2025 04:33:39 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 04:33:39 UTC] getStablePrices found 0 results
[08-Oct-2025 04:36:48 UTC] Koneksi database berhasil
[08-Oct-2025 04:36:48 UTC] Jumlah data di tabel prices: 17
[08-Oct-2025 04:36:48 UTC] Jumlah data di tabel commodities: 44
[08-Oct-2025 04:36:48 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[08-Oct-2025 04:36:48 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 2
)

[08-Oct-2025 04:36:48 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 04:36:48 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 04:36:48 UTC] Hasil getTopIncreasingPrices: Array
(
)

[08-Oct-2025 04:36:48 UTC] Latest commodity prices query results: Array
(
    [0] => Array
        (
            [id] => 87
            [commodity_name] => Bawang Bombay
            [unit] => KG
            [image_path] => commodity_68dfbfcbc270b.png
            [latest_price] => 50000.00
            [created_at] => 2025-10-07 16:45:05
        )

    [1] => Array
        (
            [id] => 89
            [commodity_name] => Bawang Merah
            [unit] => KG
            [image_path] => commodity_68dfbfc0a703b.png
            [latest_price] => 40000.00
            [created_at] => 2025-10-07 16:45:26
        )

    [2] => Array
        (
            [id] => 86
            [commodity_name] => Bawang Putih Honan
            [unit] => KG
            [image_path] => commodity_68dfbf941713e.png
            [latest_price] => 25000.00
            [created_at] => 2025-10-05 15:18:34
        )

    [3] => Array
        (
            [id] => 94
            [commodity_name] => Beras Premium - SJ
            [unit] => KG
            [image_path] => commodity_68dfc054a4de7.png
            [latest_price] => 12000.00
            [created_at] => 2025-10-04 11:06:44
        )

    [4] => Array
        (
            [id] => 84
            [commodity_name] => Cabai Rawit Lokal
            [unit] => KG
            [image_path] => commodity_68dfbf462d57c.png
            [latest_price] => 95000.00
            [created_at] => 2025-10-05 15:18:15
        )

    [5] => Array
        (
            [id] => 79
            [commodity_name] => Daging Ayam Kampung
            [unit] => KG
            [image_path] => commodity_68dfbee813246.png
            [latest_price] => 25500.00
            [created_at] => 2025-10-05 15:18:53
        )

    [6] => Array
        (
            [id] => 96
            [commodity_name] => Garam Halus
            [unit] => KG
            [image_path] => commodity_68dfc08a8320d.png
            [latest_price] => 9000.00
            [created_at] => 2025-10-07 08:57:47
        )

    [7] => Array
        (
            [id] => 112
            [commodity_name] => Timun (uk. Sedang)
            [unit] => KG
            [image_path] => commodity_68dfc2094a459.png
            [latest_price] => 15000.00
            [created_at] => 2025-10-07 08:57:21
        )

    [8] => Array
        (
            [id] => 111
            [commodity_name] => Tomat
            [unit] => KG
            [image_path] => commodity_68dfc1fee3486.png
            [latest_price] => 12000.00
            [created_at] => 2025-10-07 08:57:34
        )

)

[08-Oct-2025 04:36:48 UTC] Data komoditas ditemukan: 9 item
[08-Oct-2025 04:36:48 UTC] Sample data: Array
(
    [0] => Array
        (
            [id] => 87
            [commodity_name] => Bawang Bombay
            [unit] => KG
            [image_path] => commodity_68dfbfcbc270b.png
            [latest_price] => 50000.00
            [created_at] => 2025-10-07 16:45:05
        )

)

[08-Oct-2025 04:36:48 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[08-Oct-2025 04:36:48 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 04:36:48 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 04:36:48 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 04:36:48 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[08-Oct-2025 04:36:48 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 04:36:48 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 04:36:48 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 04:36:48 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[08-Oct-2025 04:36:48 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 04:36:48 UTC] getStablePrices found 0 results
[08-Oct-2025 04:37:17 UTC] Koneksi database berhasil
[08-Oct-2025 04:37:17 UTC] Jumlah data di tabel prices: 17
[08-Oct-2025 04:37:17 UTC] Jumlah data di tabel commodities: 44
[08-Oct-2025 04:37:17 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[08-Oct-2025 04:37:17 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 2
)

[08-Oct-2025 04:37:17 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 04:37:17 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 04:37:17 UTC] Hasil getTopIncreasingPrices: Array
(
)

[08-Oct-2025 04:37:17 UTC] Latest commodity prices query results: Array
(
    [0] => Array
        (
            [id] => 87
            [commodity_name] => Bawang Bombay
            [unit] => KG
            [image_path] => commodity_68dfbfcbc270b.png
            [latest_price] => 50000.00
            [created_at] => 2025-10-07 16:45:05
        )

    [1] => Array
        (
            [id] => 89
            [commodity_name] => Bawang Merah
            [unit] => KG
            [image_path] => commodity_68dfbfc0a703b.png
            [latest_price] => 40000.00
            [created_at] => 2025-10-07 16:45:26
        )

    [2] => Array
        (
            [id] => 86
            [commodity_name] => Bawang Putih Honan
            [unit] => KG
            [image_path] => commodity_68dfbf941713e.png
            [latest_price] => 25000.00
            [created_at] => 2025-10-05 15:18:34
        )

    [3] => Array
        (
            [id] => 94
            [commodity_name] => Beras Premium - SJ
            [unit] => KG
            [image_path] => commodity_68dfc054a4de7.png
            [latest_price] => 12000.00
            [created_at] => 2025-10-04 11:06:44
        )

    [4] => Array
        (
            [id] => 84
            [commodity_name] => Cabai Rawit Lokal
            [unit] => KG
            [image_path] => commodity_68dfbf462d57c.png
            [latest_price] => 95000.00
            [created_at] => 2025-10-05 15:18:15
        )

    [5] => Array
        (
            [id] => 79
            [commodity_name] => Daging Ayam Kampung
            [unit] => KG
            [image_path] => commodity_68dfbee813246.png
            [latest_price] => 25500.00
            [created_at] => 2025-10-05 15:18:53
        )

    [6] => Array
        (
            [id] => 96
            [commodity_name] => Garam Halus
            [unit] => KG
            [image_path] => commodity_68dfc08a8320d.png
            [latest_price] => 9000.00
            [created_at] => 2025-10-07 08:57:47
        )

    [7] => Array
        (
            [id] => 112
            [commodity_name] => Timun (uk. Sedang)
            [unit] => KG
            [image_path] => commodity_68dfc2094a459.png
            [latest_price] => 15000.00
            [created_at] => 2025-10-07 08:57:21
        )

    [8] => Array
        (
            [id] => 111
            [commodity_name] => Tomat
            [unit] => KG
            [image_path] => commodity_68dfc1fee3486.png
            [latest_price] => 12000.00
            [created_at] => 2025-10-07 08:57:34
        )

)

[08-Oct-2025 04:37:17 UTC] Data komoditas ditemukan: 9 item
[08-Oct-2025 04:37:17 UTC] Sample data: Array
(
    [0] => Array
        (
            [id] => 87
            [commodity_name] => Bawang Bombay
            [unit] => KG
            [image_path] => commodity_68dfbfcbc270b.png
            [latest_price] => 50000.00
            [created_at] => 2025-10-07 16:45:05
        )

)

[08-Oct-2025 04:37:17 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[08-Oct-2025 04:37:17 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 04:37:17 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 04:37:17 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 04:37:17 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[08-Oct-2025 04:37:17 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 04:37:17 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 04:37:17 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 04:37:17 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[08-Oct-2025 04:37:17 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 04:37:17 UTC] getStablePrices found 0 results
[08-Oct-2025 06:00:23 UTC] Koneksi database berhasil
[08-Oct-2025 06:00:23 UTC] Jumlah data di tabel prices: 17
[08-Oct-2025 06:00:23 UTC] Jumlah data di tabel commodities: 44
[08-Oct-2025 06:00:23 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[08-Oct-2025 06:00:23 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 2
)

[08-Oct-2025 06:00:23 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 06:00:23 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 06:00:23 UTC] Hasil getTopIncreasingPrices: Array
(
)

[08-Oct-2025 06:00:24 UTC] Latest commodity prices query results: Array
(
    [0] => Array
        (
            [id] => 87
            [commodity_name] => Bawang Bombay
            [unit] => KG
            [image_path] => commodity_68dfbfcbc270b.png
            [latest_price] => 50000.00
            [created_at] => 2025-10-07 16:45:05
        )

    [1] => Array
        (
            [id] => 89
            [commodity_name] => Bawang Merah
            [unit] => KG
            [image_path] => commodity_68dfbfc0a703b.png
            [latest_price] => 40000.00
            [created_at] => 2025-10-07 16:45:26
        )

    [2] => Array
        (
            [id] => 86
            [commodity_name] => Bawang Putih Honan
            [unit] => KG
            [image_path] => commodity_68dfbf941713e.png
            [latest_price] => 25000.00
            [created_at] => 2025-10-05 15:18:34
        )

    [3] => Array
        (
            [id] => 94
            [commodity_name] => Beras Premium - SJ
            [unit] => KG
            [image_path] => commodity_68dfc054a4de7.png
            [latest_price] => 12000.00
            [created_at] => 2025-10-04 11:06:44
        )

    [4] => Array
        (
            [id] => 84
            [commodity_name] => Cabai Rawit Lokal
            [unit] => KG
            [image_path] => commodity_68dfbf462d57c.png
            [latest_price] => 95000.00
            [created_at] => 2025-10-05 15:18:15
        )

    [5] => Array
        (
            [id] => 79
            [commodity_name] => Daging Ayam Kampung
            [unit] => KG
            [image_path] => commodity_68dfbee813246.png
            [latest_price] => 25500.00
            [created_at] => 2025-10-05 15:18:53
        )

    [6] => Array
        (
            [id] => 96
            [commodity_name] => Garam Halus
            [unit] => KG
            [image_path] => commodity_68dfc08a8320d.png
            [latest_price] => 9000.00
            [created_at] => 2025-10-07 08:57:47
        )

    [7] => Array
        (
            [id] => 112
            [commodity_name] => Timun (uk. Sedang)
            [unit] => KG
            [image_path] => commodity_68dfc2094a459.png
            [latest_price] => 15000.00
            [created_at] => 2025-10-07 08:57:21
        )

    [8] => Array
        (
            [id] => 111
            [commodity_name] => Tomat
            [unit] => KG
            [image_path] => commodity_68dfc1fee3486.png
            [latest_price] => 12000.00
            [created_at] => 2025-10-07 08:57:34
        )

)

[08-Oct-2025 06:00:24 UTC] Data komoditas ditemukan: 9 item
[08-Oct-2025 06:00:24 UTC] Sample data: Array
(
    [0] => Array
        (
            [id] => 87
            [commodity_name] => Bawang Bombay
            [unit] => KG
            [image_path] => commodity_68dfbfcbc270b.png
            [latest_price] => 50000.00
            [created_at] => 2025-10-07 16:45:05
        )

)

[08-Oct-2025 06:00:24 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[08-Oct-2025 06:00:24 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 06:00:24 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 06:00:24 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 06:00:24 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[08-Oct-2025 06:00:24 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 06:00:24 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 06:00:24 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 06:00:24 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[08-Oct-2025 06:00:24 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 06:00:24 UTC] getStablePrices found 0 results
[08-Oct-2025 06:00:25 UTC] Koneksi database berhasil
[08-Oct-2025 06:00:25 UTC] Jumlah data di tabel prices: 17
[08-Oct-2025 06:00:25 UTC] Jumlah data di tabel commodities: 44
[08-Oct-2025 06:00:25 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[08-Oct-2025 06:00:25 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 2
)

[08-Oct-2025 06:00:25 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 06:00:25 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 06:00:25 UTC] Hasil getTopIncreasingPrices: Array
(
)

[08-Oct-2025 06:00:25 UTC] Latest commodity prices query results: Array
(
    [0] => Array
        (
            [id] => 87
            [commodity_name] => Bawang Bombay
            [unit] => KG
            [image_path] => commodity_68dfbfcbc270b.png
            [latest_price] => 50000.00
            [created_at] => 2025-10-07 16:45:05
        )

    [1] => Array
        (
            [id] => 89
            [commodity_name] => Bawang Merah
            [unit] => KG
            [image_path] => commodity_68dfbfc0a703b.png
            [latest_price] => 40000.00
            [created_at] => 2025-10-07 16:45:26
        )

    [2] => Array
        (
            [id] => 86
            [commodity_name] => Bawang Putih Honan
            [unit] => KG
            [image_path] => commodity_68dfbf941713e.png
            [latest_price] => 25000.00
            [created_at] => 2025-10-05 15:18:34
        )

    [3] => Array
        (
            [id] => 94
            [commodity_name] => Beras Premium - SJ
            [unit] => KG
            [image_path] => commodity_68dfc054a4de7.png
            [latest_price] => 12000.00
            [created_at] => 2025-10-04 11:06:44
        )

    [4] => Array
        (
            [id] => 84
            [commodity_name] => Cabai Rawit Lokal
            [unit] => KG
            [image_path] => commodity_68dfbf462d57c.png
            [latest_price] => 95000.00
            [created_at] => 2025-10-05 15:18:15
        )

    [5] => Array
        (
            [id] => 79
            [commodity_name] => Daging Ayam Kampung
            [unit] => KG
            [image_path] => commodity_68dfbee813246.png
            [latest_price] => 25500.00
            [created_at] => 2025-10-05 15:18:53
        )

    [6] => Array
        (
            [id] => 96
            [commodity_name] => Garam Halus
            [unit] => KG
            [image_path] => commodity_68dfc08a8320d.png
            [latest_price] => 9000.00
            [created_at] => 2025-10-07 08:57:47
        )

    [7] => Array
        (
            [id] => 112
            [commodity_name] => Timun (uk. Sedang)
            [unit] => KG
            [image_path] => commodity_68dfc2094a459.png
            [latest_price] => 15000.00
            [created_at] => 2025-10-07 08:57:21
        )

    [8] => Array
        (
            [id] => 111
            [commodity_name] => Tomat
            [unit] => KG
            [image_path] => commodity_68dfc1fee3486.png
            [latest_price] => 12000.00
            [created_at] => 2025-10-07 08:57:34
        )

)

[08-Oct-2025 06:00:25 UTC] Data komoditas ditemukan: 9 item
[08-Oct-2025 06:00:25 UTC] Sample data: Array
(
    [0] => Array
        (
            [id] => 87
            [commodity_name] => Bawang Bombay
            [unit] => KG
            [image_path] => commodity_68dfbfcbc270b.png
            [latest_price] => 50000.00
            [created_at] => 2025-10-07 16:45:05
        )

)

[08-Oct-2025 06:00:25 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[08-Oct-2025 06:00:25 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 06:00:25 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 06:00:25 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 06:00:25 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[08-Oct-2025 06:00:25 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 06:00:25 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 06:00:25 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 06:00:25 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[08-Oct-2025 06:00:25 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 06:00:25 UTC] getStablePrices found 0 results
[08-Oct-2025 06:02:04 UTC] Koneksi database berhasil
[08-Oct-2025 06:02:05 UTC] Jumlah data di tabel prices: 17
[08-Oct-2025 06:02:05 UTC] Jumlah data di tabel commodities: 44
[08-Oct-2025 06:02:05 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[08-Oct-2025 06:02:05 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 2
)

[08-Oct-2025 06:02:05 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 06:02:05 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 06:02:05 UTC] Hasil getTopIncreasingPrices: Array
(
)

[08-Oct-2025 06:02:05 UTC] Latest commodity prices query results: Array
(
    [0] => Array
        (
            [id] => 87
            [commodity_name] => Bawang Bombay
            [unit] => KG
            [image_path] => commodity_68dfbfcbc270b.png
            [latest_price] => 50000.00
            [created_at] => 2025-10-07 16:45:05
        )

    [1] => Array
        (
            [id] => 89
            [commodity_name] => Bawang Merah
            [unit] => KG
            [image_path] => commodity_68dfbfc0a703b.png
            [latest_price] => 40000.00
            [created_at] => 2025-10-07 16:45:26
        )

    [2] => Array
        (
            [id] => 86
            [commodity_name] => Bawang Putih Honan
            [unit] => KG
            [image_path] => commodity_68dfbf941713e.png
            [latest_price] => 25000.00
            [created_at] => 2025-10-05 15:18:34
        )

    [3] => Array
        (
            [id] => 94
            [commodity_name] => Beras Premium - SJ
            [unit] => KG
            [image_path] => commodity_68dfc054a4de7.png
            [latest_price] => 12000.00
            [created_at] => 2025-10-04 11:06:44
        )

    [4] => Array
        (
            [id] => 84
            [commodity_name] => Cabai Rawit Lokal
            [unit] => KG
            [image_path] => commodity_68dfbf462d57c.png
            [latest_price] => 95000.00
            [created_at] => 2025-10-05 15:18:15
        )

    [5] => Array
        (
            [id] => 79
            [commodity_name] => Daging Ayam Kampung
            [unit] => KG
            [image_path] => commodity_68dfbee813246.png
            [latest_price] => 25500.00
            [created_at] => 2025-10-05 15:18:53
        )

    [6] => Array
        (
            [id] => 96
            [commodity_name] => Garam Halus
            [unit] => KG
            [image_path] => commodity_68dfc08a8320d.png
            [latest_price] => 9000.00
            [created_at] => 2025-10-07 08:57:47
        )

    [7] => Array
        (
            [id] => 112
            [commodity_name] => Timun (uk. Sedang)
            [unit] => KG
            [image_path] => commodity_68dfc2094a459.png
            [latest_price] => 15000.00
            [created_at] => 2025-10-07 08:57:21
        )

    [8] => Array
        (
            [id] => 111
            [commodity_name] => Tomat
            [unit] => KG
            [image_path] => commodity_68dfc1fee3486.png
            [latest_price] => 12000.00
            [created_at] => 2025-10-07 08:57:34
        )

)

[08-Oct-2025 06:02:05 UTC] Data komoditas ditemukan: 9 item
[08-Oct-2025 06:02:05 UTC] Sample data: Array
(
    [0] => Array
        (
            [id] => 87
            [commodity_name] => Bawang Bombay
            [unit] => KG
            [image_path] => commodity_68dfbfcbc270b.png
            [latest_price] => 50000.00
            [created_at] => 2025-10-07 16:45:05
        )

)

[08-Oct-2025 06:02:05 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[08-Oct-2025 06:02:05 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 06:02:05 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 06:02:05 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 06:02:05 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[08-Oct-2025 06:02:05 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 06:02:05 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 06:02:05 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 06:02:05 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[08-Oct-2025 06:02:05 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 06:02:05 UTC] getStablePrices found 0 results
[08-Oct-2025 06:02:21 UTC] Koneksi database berhasil
[08-Oct-2025 06:02:21 UTC] Jumlah data di tabel prices: 17
[08-Oct-2025 06:02:21 UTC] Jumlah data di tabel commodities: 44
[08-Oct-2025 06:02:21 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[08-Oct-2025 06:02:21 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 2
)

[08-Oct-2025 06:02:21 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 06:02:21 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 06:02:21 UTC] Hasil getTopIncreasingPrices: Array
(
)

[08-Oct-2025 06:02:21 UTC] Latest commodity prices query results: Array
(
    [0] => Array
        (
            [id] => 87
            [commodity_name] => Bawang Bombay
            [unit] => KG
            [image_path] => commodity_68dfbfcbc270b.png
            [latest_price] => 50000.00
            [created_at] => 2025-10-07 16:45:05
        )

    [1] => Array
        (
            [id] => 89
            [commodity_name] => Bawang Merah
            [unit] => KG
            [image_path] => commodity_68dfbfc0a703b.png
            [latest_price] => 40000.00
            [created_at] => 2025-10-07 16:45:26
        )

    [2] => Array
        (
            [id] => 86
            [commodity_name] => Bawang Putih Honan
            [unit] => KG
            [image_path] => commodity_68dfbf941713e.png
            [latest_price] => 25000.00
            [created_at] => 2025-10-05 15:18:34
        )

    [3] => Array
        (
            [id] => 94
            [commodity_name] => Beras Premium - SJ
            [unit] => KG
            [image_path] => commodity_68dfc054a4de7.png
            [latest_price] => 12000.00
            [created_at] => 2025-10-04 11:06:44
        )

    [4] => Array
        (
            [id] => 84
            [commodity_name] => Cabai Rawit Lokal
            [unit] => KG
            [image_path] => commodity_68dfbf462d57c.png
            [latest_price] => 95000.00
            [created_at] => 2025-10-05 15:18:15
        )

    [5] => Array
        (
            [id] => 79
            [commodity_name] => Daging Ayam Kampung
            [unit] => KG
            [image_path] => commodity_68dfbee813246.png
            [latest_price] => 25500.00
            [created_at] => 2025-10-05 15:18:53
        )

    [6] => Array
        (
            [id] => 96
            [commodity_name] => Garam Halus
            [unit] => KG
            [image_path] => commodity_68dfc08a8320d.png
            [latest_price] => 9000.00
            [created_at] => 2025-10-07 08:57:47
        )

    [7] => Array
        (
            [id] => 112
            [commodity_name] => Timun (uk. Sedang)
            [unit] => KG
            [image_path] => commodity_68dfc2094a459.png
            [latest_price] => 15000.00
            [created_at] => 2025-10-07 08:57:21
        )

    [8] => Array
        (
            [id] => 111
            [commodity_name] => Tomat
            [unit] => KG
            [image_path] => commodity_68dfc1fee3486.png
            [latest_price] => 12000.00
            [created_at] => 2025-10-07 08:57:34
        )

)

[08-Oct-2025 06:02:21 UTC] Data komoditas ditemukan: 9 item
[08-Oct-2025 06:02:21 UTC] Sample data: Array
(
    [0] => Array
        (
            [id] => 87
            [commodity_name] => Bawang Bombay
            [unit] => KG
            [image_path] => commodity_68dfbfcbc270b.png
            [latest_price] => 50000.00
            [created_at] => 2025-10-07 16:45:05
        )

)

[08-Oct-2025 06:02:21 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[08-Oct-2025 06:02:21 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 06:02:21 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 06:02:21 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 06:02:21 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[08-Oct-2025 06:02:21 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 06:02:21 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 06:02:21 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 06:02:21 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[08-Oct-2025 06:02:21 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 06:02:21 UTC] getStablePrices found 0 results
[08-Oct-2025 06:02:41 UTC] Koneksi database berhasil
[08-Oct-2025 06:02:41 UTC] Jumlah data di tabel prices: 17
[08-Oct-2025 06:02:41 UTC] Jumlah data di tabel commodities: 44
[08-Oct-2025 06:02:41 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[08-Oct-2025 06:02:41 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 2
)

[08-Oct-2025 06:02:41 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 06:02:41 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 06:02:41 UTC] Hasil getTopIncreasingPrices: Array
(
)

[08-Oct-2025 06:02:41 UTC] Latest commodity prices query results: Array
(
    [0] => Array
        (
            [id] => 87
            [commodity_name] => Bawang Bombay
            [unit] => KG
            [image_path] => commodity_68dfbfcbc270b.png
            [latest_price] => 50000.00
            [created_at] => 2025-10-07 16:45:05
        )

    [1] => Array
        (
            [id] => 89
            [commodity_name] => Bawang Merah
            [unit] => KG
            [image_path] => commodity_68dfbfc0a703b.png
            [latest_price] => 40000.00
            [created_at] => 2025-10-07 16:45:26
        )

    [2] => Array
        (
            [id] => 86
            [commodity_name] => Bawang Putih Honan
            [unit] => KG
            [image_path] => commodity_68dfbf941713e.png
            [latest_price] => 25000.00
            [created_at] => 2025-10-05 15:18:34
        )

    [3] => Array
        (
            [id] => 94
            [commodity_name] => Beras Premium - SJ
            [unit] => KG
            [image_path] => commodity_68dfc054a4de7.png
            [latest_price] => 12000.00
            [created_at] => 2025-10-04 11:06:44
        )

    [4] => Array
        (
            [id] => 84
            [commodity_name] => Cabai Rawit Lokal
            [unit] => KG
            [image_path] => commodity_68dfbf462d57c.png
            [latest_price] => 95000.00
            [created_at] => 2025-10-05 15:18:15
        )

    [5] => Array
        (
            [id] => 79
            [commodity_name] => Daging Ayam Kampung
            [unit] => KG
            [image_path] => commodity_68dfbee813246.png
            [latest_price] => 25500.00
            [created_at] => 2025-10-05 15:18:53
        )

    [6] => Array
        (
            [id] => 96
            [commodity_name] => Garam Halus
            [unit] => KG
            [image_path] => commodity_68dfc08a8320d.png
            [latest_price] => 9000.00
            [created_at] => 2025-10-07 08:57:47
        )

    [7] => Array
        (
            [id] => 112
            [commodity_name] => Timun (uk. Sedang)
            [unit] => KG
            [image_path] => commodity_68dfc2094a459.png
            [latest_price] => 15000.00
            [created_at] => 2025-10-07 08:57:21
        )

    [8] => Array
        (
            [id] => 111
            [commodity_name] => Tomat
            [unit] => KG
            [image_path] => commodity_68dfc1fee3486.png
            [latest_price] => 12000.00
            [created_at] => 2025-10-07 08:57:34
        )

)

[08-Oct-2025 06:02:41 UTC] Data komoditas ditemukan: 9 item
[08-Oct-2025 06:02:41 UTC] Sample data: Array
(
    [0] => Array
        (
            [id] => 87
            [commodity_name] => Bawang Bombay
            [unit] => KG
            [image_path] => commodity_68dfbfcbc270b.png
            [latest_price] => 50000.00
            [created_at] => 2025-10-07 16:45:05
        )

)

[08-Oct-2025 06:02:41 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[08-Oct-2025 06:02:41 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 06:02:41 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 06:02:41 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 06:02:41 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[08-Oct-2025 06:02:41 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 06:02:41 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 06:02:41 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 06:02:41 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[08-Oct-2025 06:02:41 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 06:02:41 UTC] getStablePrices found 0 results
[08-Oct-2025 06:03:33 UTC] Koneksi database berhasil
[08-Oct-2025 06:03:33 UTC] Jumlah data di tabel prices: 17
[08-Oct-2025 06:03:33 UTC] Jumlah data di tabel commodities: 44
[08-Oct-2025 06:03:33 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[08-Oct-2025 06:03:33 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 2
)

[08-Oct-2025 06:03:33 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 06:03:33 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 06:03:33 UTC] Hasil getTopIncreasingPrices: Array
(
)

[08-Oct-2025 06:03:33 UTC] Latest commodity prices query results: Array
(
    [0] => Array
        (
            [id] => 87
            [commodity_name] => Bawang Bombay
            [unit] => KG
            [image_path] => commodity_68dfbfcbc270b.png
            [latest_price] => 50000.00
            [created_at] => 2025-10-07 16:45:05
        )

    [1] => Array
        (
            [id] => 89
            [commodity_name] => Bawang Merah
            [unit] => KG
            [image_path] => commodity_68dfbfc0a703b.png
            [latest_price] => 40000.00
            [created_at] => 2025-10-07 16:45:26
        )

    [2] => Array
        (
            [id] => 86
            [commodity_name] => Bawang Putih Honan
            [unit] => KG
            [image_path] => commodity_68dfbf941713e.png
            [latest_price] => 25000.00
            [created_at] => 2025-10-05 15:18:34
        )

    [3] => Array
        (
            [id] => 94
            [commodity_name] => Beras Premium - SJ
            [unit] => KG
            [image_path] => commodity_68dfc054a4de7.png
            [latest_price] => 12000.00
            [created_at] => 2025-10-04 11:06:44
        )

    [4] => Array
        (
            [id] => 84
            [commodity_name] => Cabai Rawit Lokal
            [unit] => KG
            [image_path] => commodity_68dfbf462d57c.png
            [latest_price] => 95000.00
            [created_at] => 2025-10-05 15:18:15
        )

    [5] => Array
        (
            [id] => 79
            [commodity_name] => Daging Ayam Kampung
            [unit] => KG
            [image_path] => commodity_68dfbee813246.png
            [latest_price] => 25500.00
            [created_at] => 2025-10-05 15:18:53
        )

    [6] => Array
        (
            [id] => 96
            [commodity_name] => Garam Halus
            [unit] => KG
            [image_path] => commodity_68dfc08a8320d.png
            [latest_price] => 9000.00
            [created_at] => 2025-10-07 08:57:47
        )

    [7] => Array
        (
            [id] => 112
            [commodity_name] => Timun (uk. Sedang)
            [unit] => KG
            [image_path] => commodity_68dfc2094a459.png
            [latest_price] => 15000.00
            [created_at] => 2025-10-07 08:57:21
        )

    [8] => Array
        (
            [id] => 111
            [commodity_name] => Tomat
            [unit] => KG
            [image_path] => commodity_68dfc1fee3486.png
            [latest_price] => 12000.00
            [created_at] => 2025-10-07 08:57:34
        )

)

[08-Oct-2025 06:03:33 UTC] Data komoditas ditemukan: 9 item
[08-Oct-2025 06:03:33 UTC] Sample data: Array
(
    [0] => Array
        (
            [id] => 87
            [commodity_name] => Bawang Bombay
            [unit] => KG
            [image_path] => commodity_68dfbfcbc270b.png
            [latest_price] => 50000.00
            [created_at] => 2025-10-07 16:45:05
        )

)

[08-Oct-2025 06:03:33 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[08-Oct-2025 06:03:33 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 06:03:33 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 06:03:33 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 06:03:33 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[08-Oct-2025 06:03:33 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 06:03:33 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 06:03:33 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 06:03:33 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[08-Oct-2025 06:03:33 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 06:03:33 UTC] getStablePrices found 0 results
[08-Oct-2025 06:04:13 UTC] Koneksi database berhasil
[08-Oct-2025 06:04:13 UTC] Jumlah data di tabel prices: 17
[08-Oct-2025 06:04:13 UTC] Jumlah data di tabel commodities: 44
[08-Oct-2025 06:04:13 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[08-Oct-2025 06:04:13 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 2
)

[08-Oct-2025 06:04:13 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 06:04:13 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 06:04:13 UTC] Hasil getTopIncreasingPrices: Array
(
)

[08-Oct-2025 06:04:13 UTC] Latest commodity prices query results: Array
(
    [0] => Array
        (
            [id] => 87
            [commodity_name] => Bawang Bombay
            [unit] => KG
            [image_path] => commodity_68dfbfcbc270b.png
            [latest_price] => 50000.00
            [created_at] => 2025-10-07 16:45:05
        )

    [1] => Array
        (
            [id] => 89
            [commodity_name] => Bawang Merah
            [unit] => KG
            [image_path] => commodity_68dfbfc0a703b.png
            [latest_price] => 40000.00
            [created_at] => 2025-10-07 16:45:26
        )

    [2] => Array
        (
            [id] => 86
            [commodity_name] => Bawang Putih Honan
            [unit] => KG
            [image_path] => commodity_68dfbf941713e.png
            [latest_price] => 25000.00
            [created_at] => 2025-10-05 15:18:34
        )

    [3] => Array
        (
            [id] => 94
            [commodity_name] => Beras Premium - SJ
            [unit] => KG
            [image_path] => commodity_68dfc054a4de7.png
            [latest_price] => 12000.00
            [created_at] => 2025-10-04 11:06:44
        )

    [4] => Array
        (
            [id] => 84
            [commodity_name] => Cabai Rawit Lokal
            [unit] => KG
            [image_path] => commodity_68dfbf462d57c.png
            [latest_price] => 95000.00
            [created_at] => 2025-10-05 15:18:15
        )

    [5] => Array
        (
            [id] => 79
            [commodity_name] => Daging Ayam Kampung
            [unit] => KG
            [image_path] => commodity_68dfbee813246.png
            [latest_price] => 25500.00
            [created_at] => 2025-10-05 15:18:53
        )

    [6] => Array
        (
            [id] => 96
            [commodity_name] => Garam Halus
            [unit] => KG
            [image_path] => commodity_68dfc08a8320d.png
            [latest_price] => 9000.00
            [created_at] => 2025-10-07 08:57:47
        )

    [7] => Array
        (
            [id] => 112
            [commodity_name] => Timun (uk. Sedang)
            [unit] => KG
            [image_path] => commodity_68dfc2094a459.png
            [latest_price] => 15000.00
            [created_at] => 2025-10-07 08:57:21
        )

    [8] => Array
        (
            [id] => 111
            [commodity_name] => Tomat
            [unit] => KG
            [image_path] => commodity_68dfc1fee3486.png
            [latest_price] => 12000.00
            [created_at] => 2025-10-07 08:57:34
        )

)

[08-Oct-2025 06:04:13 UTC] Data komoditas ditemukan: 9 item
[08-Oct-2025 06:04:13 UTC] Sample data: Array
(
    [0] => Array
        (
            [id] => 87
            [commodity_name] => Bawang Bombay
            [unit] => KG
            [image_path] => commodity_68dfbfcbc270b.png
            [latest_price] => 50000.00
            [created_at] => 2025-10-07 16:45:05
        )

)

[08-Oct-2025 06:04:13 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[08-Oct-2025 06:04:13 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 06:04:13 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 06:04:13 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 06:04:13 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[08-Oct-2025 06:04:13 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 06:04:13 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 06:04:13 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 06:04:13 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[08-Oct-2025 06:04:13 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 06:04:13 UTC] getStablePrices found 0 results
[08-Oct-2025 06:05:04 UTC] Koneksi database berhasil
[08-Oct-2025 06:05:04 UTC] Jumlah data di tabel prices: 17
[08-Oct-2025 06:05:04 UTC] Jumlah data di tabel commodities: 44
[08-Oct-2025 06:05:04 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[08-Oct-2025 06:05:04 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 2
)

[08-Oct-2025 06:05:04 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 06:05:04 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 06:05:04 UTC] Hasil getTopIncreasingPrices: Array
(
)

[08-Oct-2025 06:05:04 UTC] Latest commodity prices query results: Array
(
    [0] => Array
        (
            [id] => 87
            [commodity_name] => Bawang Bombay
            [unit] => KG
            [image_path] => commodity_68dfbfcbc270b.png
            [latest_price] => 50000.00
            [created_at] => 2025-10-07 16:45:05
        )

    [1] => Array
        (
            [id] => 89
            [commodity_name] => Bawang Merah
            [unit] => KG
            [image_path] => commodity_68dfbfc0a703b.png
            [latest_price] => 40000.00
            [created_at] => 2025-10-07 16:45:26
        )

    [2] => Array
        (
            [id] => 86
            [commodity_name] => Bawang Putih Honan
            [unit] => KG
            [image_path] => commodity_68dfbf941713e.png
            [latest_price] => 25000.00
            [created_at] => 2025-10-05 15:18:34
        )

    [3] => Array
        (
            [id] => 94
            [commodity_name] => Beras Premium - SJ
            [unit] => KG
            [image_path] => commodity_68dfc054a4de7.png
            [latest_price] => 12000.00
            [created_at] => 2025-10-04 11:06:44
        )

    [4] => Array
        (
            [id] => 84
            [commodity_name] => Cabai Rawit Lokal
            [unit] => KG
            [image_path] => commodity_68dfbf462d57c.png
            [latest_price] => 95000.00
            [created_at] => 2025-10-05 15:18:15
        )

    [5] => Array
        (
            [id] => 79
            [commodity_name] => Daging Ayam Kampung
            [unit] => KG
            [image_path] => commodity_68dfbee813246.png
            [latest_price] => 25500.00
            [created_at] => 2025-10-05 15:18:53
        )

    [6] => Array
        (
            [id] => 96
            [commodity_name] => Garam Halus
            [unit] => KG
            [image_path] => commodity_68dfc08a8320d.png
            [latest_price] => 9000.00
            [created_at] => 2025-10-07 08:57:47
        )

    [7] => Array
        (
            [id] => 112
            [commodity_name] => Timun (uk. Sedang)
            [unit] => KG
            [image_path] => commodity_68dfc2094a459.png
            [latest_price] => 15000.00
            [created_at] => 2025-10-07 08:57:21
        )

    [8] => Array
        (
            [id] => 111
            [commodity_name] => Tomat
            [unit] => KG
            [image_path] => commodity_68dfc1fee3486.png
            [latest_price] => 12000.00
            [created_at] => 2025-10-07 08:57:34
        )

)

[08-Oct-2025 06:05:04 UTC] Data komoditas ditemukan: 9 item
[08-Oct-2025 06:05:04 UTC] Sample data: Array
(
    [0] => Array
        (
            [id] => 87
            [commodity_name] => Bawang Bombay
            [unit] => KG
            [image_path] => commodity_68dfbfcbc270b.png
            [latest_price] => 50000.00
            [created_at] => 2025-10-07 16:45:05
        )

)

[08-Oct-2025 06:05:04 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[08-Oct-2025 06:05:04 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 06:05:04 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 06:05:04 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 06:05:04 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[08-Oct-2025 06:05:04 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 06:05:04 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 06:05:04 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 06:05:04 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[08-Oct-2025 06:05:04 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 06:05:04 UTC] getStablePrices found 0 results
[08-Oct-2025 06:05:56 UTC] Koneksi database berhasil
[08-Oct-2025 06:05:56 UTC] Jumlah data di tabel prices: 17
[08-Oct-2025 06:05:56 UTC] Jumlah data di tabel commodities: 44
[08-Oct-2025 06:05:56 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[08-Oct-2025 06:05:56 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 2
)

[08-Oct-2025 06:05:56 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 06:05:56 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 06:05:56 UTC] Hasil getTopIncreasingPrices: Array
(
)

[08-Oct-2025 06:05:56 UTC] Latest commodity prices query results: Array
(
    [0] => Array
        (
            [id] => 87
            [commodity_name] => Bawang Bombay
            [unit] => KG
            [image_path] => commodity_68dfbfcbc270b.png
            [latest_price] => 50000.00
            [created_at] => 2025-10-07 16:45:05
        )

    [1] => Array
        (
            [id] => 89
            [commodity_name] => Bawang Merah
            [unit] => KG
            [image_path] => commodity_68dfbfc0a703b.png
            [latest_price] => 40000.00
            [created_at] => 2025-10-07 16:45:26
        )

    [2] => Array
        (
            [id] => 86
            [commodity_name] => Bawang Putih Honan
            [unit] => KG
            [image_path] => commodity_68dfbf941713e.png
            [latest_price] => 25000.00
            [created_at] => 2025-10-05 15:18:34
        )

    [3] => Array
        (
            [id] => 94
            [commodity_name] => Beras Premium - SJ
            [unit] => KG
            [image_path] => commodity_68dfc054a4de7.png
            [latest_price] => 12000.00
            [created_at] => 2025-10-04 11:06:44
        )

    [4] => Array
        (
            [id] => 84
            [commodity_name] => Cabai Rawit Lokal
            [unit] => KG
            [image_path] => commodity_68dfbf462d57c.png
            [latest_price] => 95000.00
            [created_at] => 2025-10-05 15:18:15
        )

    [5] => Array
        (
            [id] => 79
            [commodity_name] => Daging Ayam Kampung
            [unit] => KG
            [image_path] => commodity_68dfbee813246.png
            [latest_price] => 25500.00
            [created_at] => 2025-10-05 15:18:53
        )

    [6] => Array
        (
            [id] => 96
            [commodity_name] => Garam Halus
            [unit] => KG
            [image_path] => commodity_68dfc08a8320d.png
            [latest_price] => 9000.00
            [created_at] => 2025-10-07 08:57:47
        )

    [7] => Array
        (
            [id] => 112
            [commodity_name] => Timun (uk. Sedang)
            [unit] => KG
            [image_path] => commodity_68dfc2094a459.png
            [latest_price] => 15000.00
            [created_at] => 2025-10-07 08:57:21
        )

    [8] => Array
        (
            [id] => 111
            [commodity_name] => Tomat
            [unit] => KG
            [image_path] => commodity_68dfc1fee3486.png
            [latest_price] => 12000.00
            [created_at] => 2025-10-07 08:57:34
        )

)

[08-Oct-2025 06:05:56 UTC] Data komoditas ditemukan: 9 item
[08-Oct-2025 06:05:56 UTC] Sample data: Array
(
    [0] => Array
        (
            [id] => 87
            [commodity_name] => Bawang Bombay
            [unit] => KG
            [image_path] => commodity_68dfbfcbc270b.png
            [latest_price] => 50000.00
            [created_at] => 2025-10-07 16:45:05
        )

)

[08-Oct-2025 06:05:56 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[08-Oct-2025 06:05:56 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 06:05:56 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 06:05:56 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 06:05:56 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[08-Oct-2025 06:05:56 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 06:05:56 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 06:05:56 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 06:05:56 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[08-Oct-2025 06:05:56 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 06:05:56 UTC] getStablePrices found 0 results
[08-Oct-2025 06:05:58 UTC] Koneksi database berhasil
[08-Oct-2025 06:05:58 UTC] Jumlah data di tabel prices: 17
[08-Oct-2025 06:05:58 UTC] Jumlah data di tabel commodities: 44
[08-Oct-2025 06:05:58 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[08-Oct-2025 06:05:58 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 2
)

[08-Oct-2025 06:05:58 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 06:05:58 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 06:05:58 UTC] Hasil getTopIncreasingPrices: Array
(
)

[08-Oct-2025 06:05:58 UTC] Latest commodity prices query results: Array
(
    [0] => Array
        (
            [id] => 87
            [commodity_name] => Bawang Bombay
            [unit] => KG
            [image_path] => commodity_68dfbfcbc270b.png
            [latest_price] => 50000.00
            [created_at] => 2025-10-07 16:45:05
        )

    [1] => Array
        (
            [id] => 89
            [commodity_name] => Bawang Merah
            [unit] => KG
            [image_path] => commodity_68dfbfc0a703b.png
            [latest_price] => 40000.00
            [created_at] => 2025-10-07 16:45:26
        )

    [2] => Array
        (
            [id] => 86
            [commodity_name] => Bawang Putih Honan
            [unit] => KG
            [image_path] => commodity_68dfbf941713e.png
            [latest_price] => 25000.00
            [created_at] => 2025-10-05 15:18:34
        )

    [3] => Array
        (
            [id] => 94
            [commodity_name] => Beras Premium - SJ
            [unit] => KG
            [image_path] => commodity_68dfc054a4de7.png
            [latest_price] => 12000.00
            [created_at] => 2025-10-04 11:06:44
        )

    [4] => Array
        (
            [id] => 84
            [commodity_name] => Cabai Rawit Lokal
            [unit] => KG
            [image_path] => commodity_68dfbf462d57c.png
            [latest_price] => 95000.00
            [created_at] => 2025-10-05 15:18:15
        )

    [5] => Array
        (
            [id] => 79
            [commodity_name] => Daging Ayam Kampung
            [unit] => KG
            [image_path] => commodity_68dfbee813246.png
            [latest_price] => 25500.00
            [created_at] => 2025-10-05 15:18:53
        )

    [6] => Array
        (
            [id] => 96
            [commodity_name] => Garam Halus
            [unit] => KG
            [image_path] => commodity_68dfc08a8320d.png
            [latest_price] => 9000.00
            [created_at] => 2025-10-07 08:57:47
        )

    [7] => Array
        (
            [id] => 112
            [commodity_name] => Timun (uk. Sedang)
            [unit] => KG
            [image_path] => commodity_68dfc2094a459.png
            [latest_price] => 15000.00
            [created_at] => 2025-10-07 08:57:21
        )

    [8] => Array
        (
            [id] => 111
            [commodity_name] => Tomat
            [unit] => KG
            [image_path] => commodity_68dfc1fee3486.png
            [latest_price] => 12000.00
            [created_at] => 2025-10-07 08:57:34
        )

)

[08-Oct-2025 06:05:58 UTC] Data komoditas ditemukan: 9 item
[08-Oct-2025 06:05:58 UTC] Sample data: Array
(
    [0] => Array
        (
            [id] => 87
            [commodity_name] => Bawang Bombay
            [unit] => KG
            [image_path] => commodity_68dfbfcbc270b.png
            [latest_price] => 50000.00
            [created_at] => 2025-10-07 16:45:05
        )

)

[08-Oct-2025 06:05:58 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[08-Oct-2025 06:05:58 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 06:05:58 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 06:05:58 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 06:05:58 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[08-Oct-2025 06:05:58 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 06:05:58 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 06:05:58 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 06:05:58 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[08-Oct-2025 06:05:58 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 06:05:58 UTC] getStablePrices found 0 results
[08-Oct-2025 06:06:18 UTC] Koneksi database berhasil
[08-Oct-2025 06:06:18 UTC] Jumlah data di tabel prices: 17
[08-Oct-2025 06:06:18 UTC] Jumlah data di tabel commodities: 44
[08-Oct-2025 06:06:18 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[08-Oct-2025 06:06:18 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 2
)

[08-Oct-2025 06:06:18 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 06:06:18 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 06:06:18 UTC] Hasil getTopIncreasingPrices: Array
(
)

[08-Oct-2025 06:06:18 UTC] Latest commodity prices query results: Array
(
    [0] => Array
        (
            [id] => 87
            [commodity_name] => Bawang Bombay
            [unit] => KG
            [image_path] => commodity_68dfbfcbc270b.png
            [latest_price] => 50000.00
            [created_at] => 2025-10-07 16:45:05
        )

    [1] => Array
        (
            [id] => 89
            [commodity_name] => Bawang Merah
            [unit] => KG
            [image_path] => commodity_68dfbfc0a703b.png
            [latest_price] => 40000.00
            [created_at] => 2025-10-07 16:45:26
        )

    [2] => Array
        (
            [id] => 86
            [commodity_name] => Bawang Putih Honan
            [unit] => KG
            [image_path] => commodity_68dfbf941713e.png
            [latest_price] => 25000.00
            [created_at] => 2025-10-05 15:18:34
        )

    [3] => Array
        (
            [id] => 94
            [commodity_name] => Beras Premium - SJ
            [unit] => KG
            [image_path] => commodity_68dfc054a4de7.png
            [latest_price] => 12000.00
            [created_at] => 2025-10-04 11:06:44
        )

    [4] => Array
        (
            [id] => 84
            [commodity_name] => Cabai Rawit Lokal
            [unit] => KG
            [image_path] => commodity_68dfbf462d57c.png
            [latest_price] => 95000.00
            [created_at] => 2025-10-05 15:18:15
        )

    [5] => Array
        (
            [id] => 79
            [commodity_name] => Daging Ayam Kampung
            [unit] => KG
            [image_path] => commodity_68dfbee813246.png
            [latest_price] => 25500.00
            [created_at] => 2025-10-05 15:18:53
        )

    [6] => Array
        (
            [id] => 96
            [commodity_name] => Garam Halus
            [unit] => KG
            [image_path] => commodity_68dfc08a8320d.png
            [latest_price] => 9000.00
            [created_at] => 2025-10-07 08:57:47
        )

    [7] => Array
        (
            [id] => 112
            [commodity_name] => Timun (uk. Sedang)
            [unit] => KG
            [image_path] => commodity_68dfc2094a459.png
            [latest_price] => 15000.00
            [created_at] => 2025-10-07 08:57:21
        )

    [8] => Array
        (
            [id] => 111
            [commodity_name] => Tomat
            [unit] => KG
            [image_path] => commodity_68dfc1fee3486.png
            [latest_price] => 12000.00
            [created_at] => 2025-10-07 08:57:34
        )

)

[08-Oct-2025 06:06:18 UTC] Data komoditas ditemukan: 9 item
[08-Oct-2025 06:06:18 UTC] Sample data: Array
(
    [0] => Array
        (
            [id] => 87
            [commodity_name] => Bawang Bombay
            [unit] => KG
            [image_path] => commodity_68dfbfcbc270b.png
            [latest_price] => 50000.00
            [created_at] => 2025-10-07 16:45:05
        )

)

[08-Oct-2025 06:06:18 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[08-Oct-2025 06:06:18 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 06:06:18 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 06:06:18 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 06:06:18 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[08-Oct-2025 06:06:18 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 06:06:18 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 06:06:18 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 06:06:18 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[08-Oct-2025 06:06:18 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 06:06:18 UTC] getStablePrices found 0 results
[08-Oct-2025 06:06:57 UTC] Koneksi database berhasil
[08-Oct-2025 06:06:57 UTC] Jumlah data di tabel prices: 17
[08-Oct-2025 06:06:57 UTC] Jumlah data di tabel commodities: 44
[08-Oct-2025 06:06:57 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[08-Oct-2025 06:06:57 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 2
)

[08-Oct-2025 06:06:57 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 06:06:57 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 06:06:57 UTC] Hasil getTopIncreasingPrices: Array
(
)

[08-Oct-2025 06:06:57 UTC] Latest commodity prices query results: Array
(
    [0] => Array
        (
            [id] => 87
            [commodity_name] => Bawang Bombay
            [unit] => KG
            [image_path] => commodity_68dfbfcbc270b.png
            [latest_price] => 50000.00
            [created_at] => 2025-10-07 16:45:05
        )

    [1] => Array
        (
            [id] => 89
            [commodity_name] => Bawang Merah
            [unit] => KG
            [image_path] => commodity_68dfbfc0a703b.png
            [latest_price] => 40000.00
            [created_at] => 2025-10-07 16:45:26
        )

    [2] => Array
        (
            [id] => 86
            [commodity_name] => Bawang Putih Honan
            [unit] => KG
            [image_path] => commodity_68dfbf941713e.png
            [latest_price] => 25000.00
            [created_at] => 2025-10-05 15:18:34
        )

    [3] => Array
        (
            [id] => 94
            [commodity_name] => Beras Premium - SJ
            [unit] => KG
            [image_path] => commodity_68dfc054a4de7.png
            [latest_price] => 12000.00
            [created_at] => 2025-10-04 11:06:44
        )

    [4] => Array
        (
            [id] => 84
            [commodity_name] => Cabai Rawit Lokal
            [unit] => KG
            [image_path] => commodity_68dfbf462d57c.png
            [latest_price] => 95000.00
            [created_at] => 2025-10-05 15:18:15
        )

    [5] => Array
        (
            [id] => 79
            [commodity_name] => Daging Ayam Kampung
            [unit] => KG
            [image_path] => commodity_68dfbee813246.png
            [latest_price] => 25500.00
            [created_at] => 2025-10-05 15:18:53
        )

    [6] => Array
        (
            [id] => 96
            [commodity_name] => Garam Halus
            [unit] => KG
            [image_path] => commodity_68dfc08a8320d.png
            [latest_price] => 9000.00
            [created_at] => 2025-10-07 08:57:47
        )

    [7] => Array
        (
            [id] => 112
            [commodity_name] => Timun (uk. Sedang)
            [unit] => KG
            [image_path] => commodity_68dfc2094a459.png
            [latest_price] => 15000.00
            [created_at] => 2025-10-07 08:57:21
        )

    [8] => Array
        (
            [id] => 111
            [commodity_name] => Tomat
            [unit] => KG
            [image_path] => commodity_68dfc1fee3486.png
            [latest_price] => 12000.00
            [created_at] => 2025-10-07 08:57:34
        )

)

[08-Oct-2025 06:06:57 UTC] Data komoditas ditemukan: 9 item
[08-Oct-2025 06:06:57 UTC] Sample data: Array
(
    [0] => Array
        (
            [id] => 87
            [commodity_name] => Bawang Bombay
            [unit] => KG
            [image_path] => commodity_68dfbfcbc270b.png
            [latest_price] => 50000.00
            [created_at] => 2025-10-07 16:45:05
        )

)

[08-Oct-2025 06:06:57 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[08-Oct-2025 06:06:57 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 06:06:57 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 06:06:57 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 06:06:57 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[08-Oct-2025 06:06:57 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 06:06:57 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 06:06:57 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 06:06:57 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[08-Oct-2025 06:06:57 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 06:06:57 UTC] getStablePrices found 0 results
[08-Oct-2025 06:07:06 UTC] Koneksi database berhasil
[08-Oct-2025 06:07:06 UTC] Jumlah data di tabel prices: 17
[08-Oct-2025 06:07:06 UTC] Jumlah data di tabel commodities: 44
[08-Oct-2025 06:07:06 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[08-Oct-2025 06:07:06 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 2
)

[08-Oct-2025 06:07:06 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 06:07:06 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 06:07:06 UTC] Hasil getTopIncreasingPrices: Array
(
)

[08-Oct-2025 06:07:07 UTC] Latest commodity prices query results: Array
(
    [0] => Array
        (
            [id] => 87
            [commodity_name] => Bawang Bombay
            [unit] => KG
            [image_path] => commodity_68dfbfcbc270b.png
            [latest_price] => 50000.00
            [created_at] => 2025-10-07 16:45:05
        )

    [1] => Array
        (
            [id] => 89
            [commodity_name] => Bawang Merah
            [unit] => KG
            [image_path] => commodity_68dfbfc0a703b.png
            [latest_price] => 40000.00
            [created_at] => 2025-10-07 16:45:26
        )

    [2] => Array
        (
            [id] => 86
            [commodity_name] => Bawang Putih Honan
            [unit] => KG
            [image_path] => commodity_68dfbf941713e.png
            [latest_price] => 25000.00
            [created_at] => 2025-10-05 15:18:34
        )

    [3] => Array
        (
            [id] => 94
            [commodity_name] => Beras Premium - SJ
            [unit] => KG
            [image_path] => commodity_68dfc054a4de7.png
            [latest_price] => 12000.00
            [created_at] => 2025-10-04 11:06:44
        )

    [4] => Array
        (
            [id] => 84
            [commodity_name] => Cabai Rawit Lokal
            [unit] => KG
            [image_path] => commodity_68dfbf462d57c.png
            [latest_price] => 95000.00
            [created_at] => 2025-10-05 15:18:15
        )

    [5] => Array
        (
            [id] => 79
            [commodity_name] => Daging Ayam Kampung
            [unit] => KG
            [image_path] => commodity_68dfbee813246.png
            [latest_price] => 25500.00
            [created_at] => 2025-10-05 15:18:53
        )

    [6] => Array
        (
            [id] => 96
            [commodity_name] => Garam Halus
            [unit] => KG
            [image_path] => commodity_68dfc08a8320d.png
            [latest_price] => 9000.00
            [created_at] => 2025-10-07 08:57:47
        )

    [7] => Array
        (
            [id] => 112
            [commodity_name] => Timun (uk. Sedang)
            [unit] => KG
            [image_path] => commodity_68dfc2094a459.png
            [latest_price] => 15000.00
            [created_at] => 2025-10-07 08:57:21
        )

    [8] => Array
        (
            [id] => 111
            [commodity_name] => Tomat
            [unit] => KG
            [image_path] => commodity_68dfc1fee3486.png
            [latest_price] => 12000.00
            [created_at] => 2025-10-07 08:57:34
        )

)

[08-Oct-2025 06:07:07 UTC] Data komoditas ditemukan: 9 item
[08-Oct-2025 06:07:07 UTC] Sample data: Array
(
    [0] => Array
        (
            [id] => 87
            [commodity_name] => Bawang Bombay
            [unit] => KG
            [image_path] => commodity_68dfbfcbc270b.png
            [latest_price] => 50000.00
            [created_at] => 2025-10-07 16:45:05
        )

)

[08-Oct-2025 06:07:07 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[08-Oct-2025 06:07:07 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 06:07:07 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 06:07:07 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 06:07:07 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[08-Oct-2025 06:07:07 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 06:07:07 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 06:07:07 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 06:07:07 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[08-Oct-2025 06:07:07 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 06:07:07 UTC] getStablePrices found 0 results
[08-Oct-2025 06:07:38 UTC] Koneksi database berhasil
[08-Oct-2025 06:07:38 UTC] Jumlah data di tabel prices: 17
[08-Oct-2025 06:07:38 UTC] Jumlah data di tabel commodities: 44
[08-Oct-2025 06:07:38 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[08-Oct-2025 06:07:38 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 2
)

[08-Oct-2025 06:07:38 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 06:07:38 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 06:07:38 UTC] Hasil getTopIncreasingPrices: Array
(
)

[08-Oct-2025 06:07:38 UTC] Latest commodity prices query results: Array
(
    [0] => Array
        (
            [id] => 87
            [commodity_name] => Bawang Bombay
            [unit] => KG
            [image_path] => commodity_68dfbfcbc270b.png
            [latest_price] => 50000.00
            [created_at] => 2025-10-07 16:45:05
        )

    [1] => Array
        (
            [id] => 89
            [commodity_name] => Bawang Merah
            [unit] => KG
            [image_path] => commodity_68dfbfc0a703b.png
            [latest_price] => 40000.00
            [created_at] => 2025-10-07 16:45:26
        )

    [2] => Array
        (
            [id] => 86
            [commodity_name] => Bawang Putih Honan
            [unit] => KG
            [image_path] => commodity_68dfbf941713e.png
            [latest_price] => 25000.00
            [created_at] => 2025-10-05 15:18:34
        )

    [3] => Array
        (
            [id] => 94
            [commodity_name] => Beras Premium - SJ
            [unit] => KG
            [image_path] => commodity_68dfc054a4de7.png
            [latest_price] => 12000.00
            [created_at] => 2025-10-04 11:06:44
        )

    [4] => Array
        (
            [id] => 84
            [commodity_name] => Cabai Rawit Lokal
            [unit] => KG
            [image_path] => commodity_68dfbf462d57c.png
            [latest_price] => 95000.00
            [created_at] => 2025-10-05 15:18:15
        )

    [5] => Array
        (
            [id] => 79
            [commodity_name] => Daging Ayam Kampung
            [unit] => KG
            [image_path] => commodity_68dfbee813246.png
            [latest_price] => 25500.00
            [created_at] => 2025-10-05 15:18:53
        )

    [6] => Array
        (
            [id] => 96
            [commodity_name] => Garam Halus
            [unit] => KG
            [image_path] => commodity_68dfc08a8320d.png
            [latest_price] => 9000.00
            [created_at] => 2025-10-07 08:57:47
        )

    [7] => Array
        (
            [id] => 112
            [commodity_name] => Timun (uk. Sedang)
            [unit] => KG
            [image_path] => commodity_68dfc2094a459.png
            [latest_price] => 15000.00
            [created_at] => 2025-10-07 08:57:21
        )

    [8] => Array
        (
            [id] => 111
            [commodity_name] => Tomat
            [unit] => KG
            [image_path] => commodity_68dfc1fee3486.png
            [latest_price] => 12000.00
            [created_at] => 2025-10-07 08:57:34
        )

)

[08-Oct-2025 06:07:38 UTC] Data komoditas ditemukan: 9 item
[08-Oct-2025 06:07:38 UTC] Sample data: Array
(
    [0] => Array
        (
            [id] => 87
            [commodity_name] => Bawang Bombay
            [unit] => KG
            [image_path] => commodity_68dfbfcbc270b.png
            [latest_price] => 50000.00
            [created_at] => 2025-10-07 16:45:05
        )

)

[08-Oct-2025 06:07:38 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[08-Oct-2025 06:07:38 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 06:07:38 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 06:07:38 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 06:07:38 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[08-Oct-2025 06:07:38 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 06:07:38 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 06:07:38 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 06:07:38 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[08-Oct-2025 06:07:38 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 06:07:38 UTC] getStablePrices found 0 results
[08-Oct-2025 06:07:39 UTC] Koneksi database berhasil
[08-Oct-2025 06:07:39 UTC] Jumlah data di tabel prices: 17
[08-Oct-2025 06:07:39 UTC] Jumlah data di tabel commodities: 44
[08-Oct-2025 06:07:39 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[08-Oct-2025 06:07:39 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 2
)

[08-Oct-2025 06:07:39 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 06:07:39 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 06:07:39 UTC] Hasil getTopIncreasingPrices: Array
(
)

[08-Oct-2025 06:07:39 UTC] Latest commodity prices query results: Array
(
    [0] => Array
        (
            [id] => 87
            [commodity_name] => Bawang Bombay
            [unit] => KG
            [image_path] => commodity_68dfbfcbc270b.png
            [latest_price] => 50000.00
            [created_at] => 2025-10-07 16:45:05
        )

    [1] => Array
        (
            [id] => 89
            [commodity_name] => Bawang Merah
            [unit] => KG
            [image_path] => commodity_68dfbfc0a703b.png
            [latest_price] => 40000.00
            [created_at] => 2025-10-07 16:45:26
        )

    [2] => Array
        (
            [id] => 86
            [commodity_name] => Bawang Putih Honan
            [unit] => KG
            [image_path] => commodity_68dfbf941713e.png
            [latest_price] => 25000.00
            [created_at] => 2025-10-05 15:18:34
        )

    [3] => Array
        (
            [id] => 94
            [commodity_name] => Beras Premium - SJ
            [unit] => KG
            [image_path] => commodity_68dfc054a4de7.png
            [latest_price] => 12000.00
            [created_at] => 2025-10-04 11:06:44
        )

    [4] => Array
        (
            [id] => 84
            [commodity_name] => Cabai Rawit Lokal
            [unit] => KG
            [image_path] => commodity_68dfbf462d57c.png
            [latest_price] => 95000.00
            [created_at] => 2025-10-05 15:18:15
        )

    [5] => Array
        (
            [id] => 79
            [commodity_name] => Daging Ayam Kampung
            [unit] => KG
            [image_path] => commodity_68dfbee813246.png
            [latest_price] => 25500.00
            [created_at] => 2025-10-05 15:18:53
        )

    [6] => Array
        (
            [id] => 96
            [commodity_name] => Garam Halus
            [unit] => KG
            [image_path] => commodity_68dfc08a8320d.png
            [latest_price] => 9000.00
            [created_at] => 2025-10-07 08:57:47
        )

    [7] => Array
        (
            [id] => 112
            [commodity_name] => Timun (uk. Sedang)
            [unit] => KG
            [image_path] => commodity_68dfc2094a459.png
            [latest_price] => 15000.00
            [created_at] => 2025-10-07 08:57:21
        )

    [8] => Array
        (
            [id] => 111
            [commodity_name] => Tomat
            [unit] => KG
            [image_path] => commodity_68dfc1fee3486.png
            [latest_price] => 12000.00
            [created_at] => 2025-10-07 08:57:34
        )

)

[08-Oct-2025 06:07:39 UTC] Data komoditas ditemukan: 9 item
[08-Oct-2025 06:07:39 UTC] Sample data: Array
(
    [0] => Array
        (
            [id] => 87
            [commodity_name] => Bawang Bombay
            [unit] => KG
            [image_path] => commodity_68dfbfcbc270b.png
            [latest_price] => 50000.00
            [created_at] => 2025-10-07 16:45:05
        )

)

[08-Oct-2025 06:07:39 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[08-Oct-2025 06:07:39 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 06:07:39 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 06:07:39 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 06:07:39 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[08-Oct-2025 06:07:39 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 06:07:39 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 06:07:39 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 06:07:39 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[08-Oct-2025 06:07:39 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 06:07:39 UTC] getStablePrices found 0 results
[08-Oct-2025 06:09:35 UTC] Koneksi database berhasil
[08-Oct-2025 06:09:35 UTC] Jumlah data di tabel prices: 17
[08-Oct-2025 06:09:35 UTC] Jumlah data di tabel commodities: 44
[08-Oct-2025 06:09:35 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[08-Oct-2025 06:09:35 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 2
)

[08-Oct-2025 06:09:35 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 06:09:35 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 06:09:35 UTC] Hasil getTopIncreasingPrices: Array
(
)

[08-Oct-2025 06:09:35 UTC] Latest commodity prices query results: Array
(
    [0] => Array
        (
            [id] => 87
            [commodity_name] => Bawang Bombay
            [unit] => KG
            [image_path] => commodity_68dfbfcbc270b.png
            [latest_price] => 50000.00
            [created_at] => 2025-10-07 16:45:05
        )

    [1] => Array
        (
            [id] => 89
            [commodity_name] => Bawang Merah
            [unit] => KG
            [image_path] => commodity_68dfbfc0a703b.png
            [latest_price] => 40000.00
            [created_at] => 2025-10-07 16:45:26
        )

    [2] => Array
        (
            [id] => 86
            [commodity_name] => Bawang Putih Honan
            [unit] => KG
            [image_path] => commodity_68dfbf941713e.png
            [latest_price] => 25000.00
            [created_at] => 2025-10-05 15:18:34
        )

    [3] => Array
        (
            [id] => 94
            [commodity_name] => Beras Premium - SJ
            [unit] => KG
            [image_path] => commodity_68dfc054a4de7.png
            [latest_price] => 12000.00
            [created_at] => 2025-10-04 11:06:44
        )

    [4] => Array
        (
            [id] => 84
            [commodity_name] => Cabai Rawit Lokal
            [unit] => KG
            [image_path] => commodity_68dfbf462d57c.png
            [latest_price] => 95000.00
            [created_at] => 2025-10-05 15:18:15
        )

    [5] => Array
        (
            [id] => 79
            [commodity_name] => Daging Ayam Kampung
            [unit] => KG
            [image_path] => commodity_68dfbee813246.png
            [latest_price] => 25500.00
            [created_at] => 2025-10-05 15:18:53
        )

    [6] => Array
        (
            [id] => 96
            [commodity_name] => Garam Halus
            [unit] => KG
            [image_path] => commodity_68dfc08a8320d.png
            [latest_price] => 9000.00
            [created_at] => 2025-10-07 08:57:47
        )

    [7] => Array
        (
            [id] => 112
            [commodity_name] => Timun (uk. Sedang)
            [unit] => KG
            [image_path] => commodity_68dfc2094a459.png
            [latest_price] => 15000.00
            [created_at] => 2025-10-07 08:57:21
        )

    [8] => Array
        (
            [id] => 111
            [commodity_name] => Tomat
            [unit] => KG
            [image_path] => commodity_68dfc1fee3486.png
            [latest_price] => 12000.00
            [created_at] => 2025-10-07 08:57:34
        )

)

[08-Oct-2025 06:09:35 UTC] Data komoditas ditemukan: 9 item
[08-Oct-2025 06:09:35 UTC] Sample data: Array
(
    [0] => Array
        (
            [id] => 87
            [commodity_name] => Bawang Bombay
            [unit] => KG
            [image_path] => commodity_68dfbfcbc270b.png
            [latest_price] => 50000.00
            [created_at] => 2025-10-07 16:45:05
        )

)

[08-Oct-2025 06:09:35 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[08-Oct-2025 06:09:35 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 06:09:35 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 06:09:35 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 06:09:35 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[08-Oct-2025 06:09:35 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 06:09:35 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 06:09:35 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 06:09:35 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[08-Oct-2025 06:09:35 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 06:09:35 UTC] getStablePrices found 0 results
[08-Oct-2025 06:09:40 UTC] Koneksi database berhasil
[08-Oct-2025 06:09:40 UTC] Jumlah data di tabel prices: 17
[08-Oct-2025 06:09:40 UTC] Jumlah data di tabel commodities: 44
[08-Oct-2025 06:09:40 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[08-Oct-2025 06:09:40 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 2
)

[08-Oct-2025 06:09:40 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 06:09:40 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 06:09:40 UTC] Hasil getTopIncreasingPrices: Array
(
)

[08-Oct-2025 06:09:40 UTC] Latest commodity prices query results: Array
(
    [0] => Array
        (
            [id] => 87
            [commodity_name] => Bawang Bombay
            [unit] => KG
            [image_path] => commodity_68dfbfcbc270b.png
            [latest_price] => 50000.00
            [created_at] => 2025-10-07 16:45:05
        )

    [1] => Array
        (
            [id] => 89
            [commodity_name] => Bawang Merah
            [unit] => KG
            [image_path] => commodity_68dfbfc0a703b.png
            [latest_price] => 40000.00
            [created_at] => 2025-10-07 16:45:26
        )

    [2] => Array
        (
            [id] => 86
            [commodity_name] => Bawang Putih Honan
            [unit] => KG
            [image_path] => commodity_68dfbf941713e.png
            [latest_price] => 25000.00
            [created_at] => 2025-10-05 15:18:34
        )

    [3] => Array
        (
            [id] => 94
            [commodity_name] => Beras Premium - SJ
            [unit] => KG
            [image_path] => commodity_68dfc054a4de7.png
            [latest_price] => 12000.00
            [created_at] => 2025-10-04 11:06:44
        )

    [4] => Array
        (
            [id] => 84
            [commodity_name] => Cabai Rawit Lokal
            [unit] => KG
            [image_path] => commodity_68dfbf462d57c.png
            [latest_price] => 95000.00
            [created_at] => 2025-10-05 15:18:15
        )

    [5] => Array
        (
            [id] => 79
            [commodity_name] => Daging Ayam Kampung
            [unit] => KG
            [image_path] => commodity_68dfbee813246.png
            [latest_price] => 25500.00
            [created_at] => 2025-10-05 15:18:53
        )

    [6] => Array
        (
            [id] => 96
            [commodity_name] => Garam Halus
            [unit] => KG
            [image_path] => commodity_68dfc08a8320d.png
            [latest_price] => 9000.00
            [created_at] => 2025-10-07 08:57:47
        )

    [7] => Array
        (
            [id] => 112
            [commodity_name] => Timun (uk. Sedang)
            [unit] => KG
            [image_path] => commodity_68dfc2094a459.png
            [latest_price] => 15000.00
            [created_at] => 2025-10-07 08:57:21
        )

    [8] => Array
        (
            [id] => 111
            [commodity_name] => Tomat
            [unit] => KG
            [image_path] => commodity_68dfc1fee3486.png
            [latest_price] => 12000.00
            [created_at] => 2025-10-07 08:57:34
        )

)

[08-Oct-2025 06:09:40 UTC] Data komoditas ditemukan: 9 item
[08-Oct-2025 06:09:40 UTC] Sample data: Array
(
    [0] => Array
        (
            [id] => 87
            [commodity_name] => Bawang Bombay
            [unit] => KG
            [image_path] => commodity_68dfbfcbc270b.png
            [latest_price] => 50000.00
            [created_at] => 2025-10-07 16:45:05
        )

)

[08-Oct-2025 06:09:40 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[08-Oct-2025 06:09:40 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 06:09:40 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 06:09:40 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 06:09:40 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[08-Oct-2025 06:09:40 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 06:09:40 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 06:09:40 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 06:09:40 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[08-Oct-2025 06:09:40 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 06:09:40 UTC] getStablePrices found 0 results
[08-Oct-2025 06:11:31 UTC] Koneksi database berhasil
[08-Oct-2025 06:11:31 UTC] Jumlah data di tabel prices: 17
[08-Oct-2025 06:11:31 UTC] Jumlah data di tabel commodities: 44
[08-Oct-2025 06:11:31 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[08-Oct-2025 06:11:31 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 2
)

[08-Oct-2025 06:11:31 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 06:11:31 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 06:11:31 UTC] Hasil getTopIncreasingPrices: Array
(
)

[08-Oct-2025 06:11:31 UTC] Latest commodity prices query results: Array
(
    [0] => Array
        (
            [id] => 87
            [commodity_name] => Bawang Bombay
            [unit] => KG
            [image_path] => commodity_68dfbfcbc270b.png
            [latest_price] => 50000.00
            [created_at] => 2025-10-07 16:45:05
        )

    [1] => Array
        (
            [id] => 89
            [commodity_name] => Bawang Merah
            [unit] => KG
            [image_path] => commodity_68dfbfc0a703b.png
            [latest_price] => 40000.00
            [created_at] => 2025-10-07 16:45:26
        )

    [2] => Array
        (
            [id] => 86
            [commodity_name] => Bawang Putih Honan
            [unit] => KG
            [image_path] => commodity_68dfbf941713e.png
            [latest_price] => 25000.00
            [created_at] => 2025-10-05 15:18:34
        )

    [3] => Array
        (
            [id] => 94
            [commodity_name] => Beras Premium - SJ
            [unit] => KG
            [image_path] => commodity_68dfc054a4de7.png
            [latest_price] => 12000.00
            [created_at] => 2025-10-04 11:06:44
        )

    [4] => Array
        (
            [id] => 84
            [commodity_name] => Cabai Rawit Lokal
            [unit] => KG
            [image_path] => commodity_68dfbf462d57c.png
            [latest_price] => 95000.00
            [created_at] => 2025-10-05 15:18:15
        )

    [5] => Array
        (
            [id] => 79
            [commodity_name] => Daging Ayam Kampung
            [unit] => KG
            [image_path] => commodity_68dfbee813246.png
            [latest_price] => 25500.00
            [created_at] => 2025-10-05 15:18:53
        )

    [6] => Array
        (
            [id] => 96
            [commodity_name] => Garam Halus
            [unit] => KG
            [image_path] => commodity_68dfc08a8320d.png
            [latest_price] => 9000.00
            [created_at] => 2025-10-07 08:57:47
        )

    [7] => Array
        (
            [id] => 112
            [commodity_name] => Timun (uk. Sedang)
            [unit] => KG
            [image_path] => commodity_68dfc2094a459.png
            [latest_price] => 15000.00
            [created_at] => 2025-10-07 08:57:21
        )

    [8] => Array
        (
            [id] => 111
            [commodity_name] => Tomat
            [unit] => KG
            [image_path] => commodity_68dfc1fee3486.png
            [latest_price] => 12000.00
            [created_at] => 2025-10-07 08:57:34
        )

)

[08-Oct-2025 06:11:31 UTC] Data komoditas ditemukan: 9 item
[08-Oct-2025 06:11:31 UTC] Sample data: Array
(
    [0] => Array
        (
            [id] => 87
            [commodity_name] => Bawang Bombay
            [unit] => KG
            [image_path] => commodity_68dfbfcbc270b.png
            [latest_price] => 50000.00
            [created_at] => 2025-10-07 16:45:05
        )

)

[08-Oct-2025 06:11:31 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[08-Oct-2025 06:11:31 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 06:11:31 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 06:11:31 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 06:11:31 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[08-Oct-2025 06:11:31 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 06:11:31 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 06:11:31 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 06:11:31 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[08-Oct-2025 06:11:31 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 06:11:31 UTC] getStablePrices found 0 results
[08-Oct-2025 06:12:12 UTC] Koneksi database berhasil
[08-Oct-2025 06:12:12 UTC] Jumlah data di tabel prices: 17
[08-Oct-2025 06:12:12 UTC] Jumlah data di tabel commodities: 44
[08-Oct-2025 06:12:12 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[08-Oct-2025 06:12:12 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 2
)

[08-Oct-2025 06:12:12 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 06:12:12 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 06:12:12 UTC] Hasil getTopIncreasingPrices: Array
(
)

[08-Oct-2025 06:12:12 UTC] Latest commodity prices query results: Array
(
    [0] => Array
        (
            [id] => 87
            [commodity_name] => Bawang Bombay
            [unit] => KG
            [image_path] => commodity_68dfbfcbc270b.png
            [latest_price] => 50000.00
            [created_at] => 2025-10-07 16:45:05
        )

    [1] => Array
        (
            [id] => 89
            [commodity_name] => Bawang Merah
            [unit] => KG
            [image_path] => commodity_68dfbfc0a703b.png
            [latest_price] => 40000.00
            [created_at] => 2025-10-07 16:45:26
        )

    [2] => Array
        (
            [id] => 86
            [commodity_name] => Bawang Putih Honan
            [unit] => KG
            [image_path] => commodity_68dfbf941713e.png
            [latest_price] => 25000.00
            [created_at] => 2025-10-05 15:18:34
        )

    [3] => Array
        (
            [id] => 94
            [commodity_name] => Beras Premium - SJ
            [unit] => KG
            [image_path] => commodity_68dfc054a4de7.png
            [latest_price] => 12000.00
            [created_at] => 2025-10-04 11:06:44
        )

    [4] => Array
        (
            [id] => 84
            [commodity_name] => Cabai Rawit Lokal
            [unit] => KG
            [image_path] => commodity_68dfbf462d57c.png
            [latest_price] => 95000.00
            [created_at] => 2025-10-05 15:18:15
        )

    [5] => Array
        (
            [id] => 79
            [commodity_name] => Daging Ayam Kampung
            [unit] => KG
            [image_path] => commodity_68dfbee813246.png
            [latest_price] => 25500.00
            [created_at] => 2025-10-05 15:18:53
        )

    [6] => Array
        (
            [id] => 96
            [commodity_name] => Garam Halus
            [unit] => KG
            [image_path] => commodity_68dfc08a8320d.png
            [latest_price] => 9000.00
            [created_at] => 2025-10-07 08:57:47
        )

    [7] => Array
        (
            [id] => 112
            [commodity_name] => Timun (uk. Sedang)
            [unit] => KG
            [image_path] => commodity_68dfc2094a459.png
            [latest_price] => 15000.00
            [created_at] => 2025-10-07 08:57:21
        )

    [8] => Array
        (
            [id] => 111
            [commodity_name] => Tomat
            [unit] => KG
            [image_path] => commodity_68dfc1fee3486.png
            [latest_price] => 12000.00
            [created_at] => 2025-10-07 08:57:34
        )

)

[08-Oct-2025 06:12:12 UTC] Data komoditas ditemukan: 9 item
[08-Oct-2025 06:12:12 UTC] Sample data: Array
(
    [0] => Array
        (
            [id] => 87
            [commodity_name] => Bawang Bombay
            [unit] => KG
            [image_path] => commodity_68dfbfcbc270b.png
            [latest_price] => 50000.00
            [created_at] => 2025-10-07 16:45:05
        )

)

[08-Oct-2025 06:12:12 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[08-Oct-2025 06:12:12 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 06:12:12 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 06:12:12 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 06:12:12 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[08-Oct-2025 06:12:12 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 06:12:12 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 06:12:12 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 06:12:12 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[08-Oct-2025 06:12:12 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 06:12:12 UTC] getStablePrices found 0 results
[08-Oct-2025 06:12:40 UTC] Koneksi database berhasil
[08-Oct-2025 06:12:40 UTC] Jumlah data di tabel prices: 17
[08-Oct-2025 06:12:40 UTC] Jumlah data di tabel commodities: 44
[08-Oct-2025 06:12:40 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[08-Oct-2025 06:12:40 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 2
)

[08-Oct-2025 06:12:40 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 06:12:40 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 06:12:40 UTC] Hasil getTopIncreasingPrices: Array
(
)

[08-Oct-2025 06:12:40 UTC] Latest commodity prices query results: Array
(
    [0] => Array
        (
            [id] => 87
            [commodity_name] => Bawang Bombay
            [unit] => KG
            [image_path] => commodity_68dfbfcbc270b.png
            [latest_price] => 50000.00
            [created_at] => 2025-10-07 16:45:05
        )

    [1] => Array
        (
            [id] => 89
            [commodity_name] => Bawang Merah
            [unit] => KG
            [image_path] => commodity_68dfbfc0a703b.png
            [latest_price] => 40000.00
            [created_at] => 2025-10-07 16:45:26
        )

    [2] => Array
        (
            [id] => 86
            [commodity_name] => Bawang Putih Honan
            [unit] => KG
            [image_path] => commodity_68dfbf941713e.png
            [latest_price] => 25000.00
            [created_at] => 2025-10-05 15:18:34
        )

    [3] => Array
        (
            [id] => 94
            [commodity_name] => Beras Premium - SJ
            [unit] => KG
            [image_path] => commodity_68dfc054a4de7.png
            [latest_price] => 12000.00
            [created_at] => 2025-10-04 11:06:44
        )

    [4] => Array
        (
            [id] => 84
            [commodity_name] => Cabai Rawit Lokal
            [unit] => KG
            [image_path] => commodity_68dfbf462d57c.png
            [latest_price] => 95000.00
            [created_at] => 2025-10-05 15:18:15
        )

    [5] => Array
        (
            [id] => 79
            [commodity_name] => Daging Ayam Kampung
            [unit] => KG
            [image_path] => commodity_68dfbee813246.png
            [latest_price] => 25500.00
            [created_at] => 2025-10-05 15:18:53
        )

    [6] => Array
        (
            [id] => 96
            [commodity_name] => Garam Halus
            [unit] => KG
            [image_path] => commodity_68dfc08a8320d.png
            [latest_price] => 9000.00
            [created_at] => 2025-10-07 08:57:47
        )

    [7] => Array
        (
            [id] => 112
            [commodity_name] => Timun (uk. Sedang)
            [unit] => KG
            [image_path] => commodity_68dfc2094a459.png
            [latest_price] => 15000.00
            [created_at] => 2025-10-07 08:57:21
        )

    [8] => Array
        (
            [id] => 111
            [commodity_name] => Tomat
            [unit] => KG
            [image_path] => commodity_68dfc1fee3486.png
            [latest_price] => 12000.00
            [created_at] => 2025-10-07 08:57:34
        )

)

[08-Oct-2025 06:12:40 UTC] Data komoditas ditemukan: 9 item
[08-Oct-2025 06:12:40 UTC] Sample data: Array
(
    [0] => Array
        (
            [id] => 87
            [commodity_name] => Bawang Bombay
            [unit] => KG
            [image_path] => commodity_68dfbfcbc270b.png
            [latest_price] => 50000.00
            [created_at] => 2025-10-07 16:45:05
        )

)

[08-Oct-2025 06:12:40 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[08-Oct-2025 06:12:40 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 06:12:40 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 06:12:40 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 06:12:40 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[08-Oct-2025 06:12:40 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 06:12:40 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 06:12:40 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 06:12:40 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[08-Oct-2025 06:12:40 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 06:12:40 UTC] getStablePrices found 0 results
[08-Oct-2025 06:12:49 UTC] Koneksi database berhasil
[08-Oct-2025 06:12:49 UTC] Jumlah data di tabel prices: 17
[08-Oct-2025 06:12:49 UTC] Jumlah data di tabel commodities: 44
[08-Oct-2025 06:12:49 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[08-Oct-2025 06:12:49 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 2
)

[08-Oct-2025 06:12:49 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 06:12:49 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 06:12:49 UTC] Hasil getTopIncreasingPrices: Array
(
)

[08-Oct-2025 06:12:49 UTC] Latest commodity prices query results: Array
(
    [0] => Array
        (
            [id] => 87
            [commodity_name] => Bawang Bombay
            [unit] => KG
            [image_path] => commodity_68dfbfcbc270b.png
            [latest_price] => 50000.00
            [created_at] => 2025-10-07 16:45:05
        )

    [1] => Array
        (
            [id] => 89
            [commodity_name] => Bawang Merah
            [unit] => KG
            [image_path] => commodity_68dfbfc0a703b.png
            [latest_price] => 40000.00
            [created_at] => 2025-10-07 16:45:26
        )

    [2] => Array
        (
            [id] => 86
            [commodity_name] => Bawang Putih Honan
            [unit] => KG
            [image_path] => commodity_68dfbf941713e.png
            [latest_price] => 25000.00
            [created_at] => 2025-10-05 15:18:34
        )

    [3] => Array
        (
            [id] => 94
            [commodity_name] => Beras Premium - SJ
            [unit] => KG
            [image_path] => commodity_68dfc054a4de7.png
            [latest_price] => 12000.00
            [created_at] => 2025-10-04 11:06:44
        )

    [4] => Array
        (
            [id] => 84
            [commodity_name] => Cabai Rawit Lokal
            [unit] => KG
            [image_path] => commodity_68dfbf462d57c.png
            [latest_price] => 95000.00
            [created_at] => 2025-10-05 15:18:15
        )

    [5] => Array
        (
            [id] => 79
            [commodity_name] => Daging Ayam Kampung
            [unit] => KG
            [image_path] => commodity_68dfbee813246.png
            [latest_price] => 25500.00
            [created_at] => 2025-10-05 15:18:53
        )

    [6] => Array
        (
            [id] => 96
            [commodity_name] => Garam Halus
            [unit] => KG
            [image_path] => commodity_68dfc08a8320d.png
            [latest_price] => 9000.00
            [created_at] => 2025-10-07 08:57:47
        )

    [7] => Array
        (
            [id] => 112
            [commodity_name] => Timun (uk. Sedang)
            [unit] => KG
            [image_path] => commodity_68dfc2094a459.png
            [latest_price] => 15000.00
            [created_at] => 2025-10-07 08:57:21
        )

    [8] => Array
        (
            [id] => 111
            [commodity_name] => Tomat
            [unit] => KG
            [image_path] => commodity_68dfc1fee3486.png
            [latest_price] => 12000.00
            [created_at] => 2025-10-07 08:57:34
        )

)

[08-Oct-2025 06:12:49 UTC] Data komoditas ditemukan: 9 item
[08-Oct-2025 06:12:49 UTC] Sample data: Array
(
    [0] => Array
        (
            [id] => 87
            [commodity_name] => Bawang Bombay
            [unit] => KG
            [image_path] => commodity_68dfbfcbc270b.png
            [latest_price] => 50000.00
            [created_at] => 2025-10-07 16:45:05
        )

)

[08-Oct-2025 06:12:49 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[08-Oct-2025 06:12:49 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 06:12:49 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 06:12:49 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 06:12:49 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[08-Oct-2025 06:12:49 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 06:12:49 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 06:12:49 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 06:12:49 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[08-Oct-2025 06:12:49 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 06:12:49 UTC] getStablePrices found 0 results
[08-Oct-2025 06:13:14 UTC] Koneksi database berhasil
[08-Oct-2025 06:13:14 UTC] Jumlah data di tabel prices: 17
[08-Oct-2025 06:13:14 UTC] Jumlah data di tabel commodities: 44
[08-Oct-2025 06:13:14 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[08-Oct-2025 06:13:14 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 2
)

[08-Oct-2025 06:13:14 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 06:13:14 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 06:13:14 UTC] Hasil getTopIncreasingPrices: Array
(
)

[08-Oct-2025 06:13:14 UTC] Latest commodity prices query results: Array
(
    [0] => Array
        (
            [id] => 87
            [commodity_name] => Bawang Bombay
            [unit] => KG
            [image_path] => commodity_68dfbfcbc270b.png
            [latest_price] => 50000.00
            [created_at] => 2025-10-07 16:45:05
        )

    [1] => Array
        (
            [id] => 89
            [commodity_name] => Bawang Merah
            [unit] => KG
            [image_path] => commodity_68dfbfc0a703b.png
            [latest_price] => 40000.00
            [created_at] => 2025-10-07 16:45:26
        )

    [2] => Array
        (
            [id] => 86
            [commodity_name] => Bawang Putih Honan
            [unit] => KG
            [image_path] => commodity_68dfbf941713e.png
            [latest_price] => 25000.00
            [created_at] => 2025-10-05 15:18:34
        )

    [3] => Array
        (
            [id] => 94
            [commodity_name] => Beras Premium - SJ
            [unit] => KG
            [image_path] => commodity_68dfc054a4de7.png
            [latest_price] => 12000.00
            [created_at] => 2025-10-04 11:06:44
        )

    [4] => Array
        (
            [id] => 84
            [commodity_name] => Cabai Rawit Lokal
            [unit] => KG
            [image_path] => commodity_68dfbf462d57c.png
            [latest_price] => 95000.00
            [created_at] => 2025-10-05 15:18:15
        )

    [5] => Array
        (
            [id] => 79
            [commodity_name] => Daging Ayam Kampung
            [unit] => KG
            [image_path] => commodity_68dfbee813246.png
            [latest_price] => 25500.00
            [created_at] => 2025-10-05 15:18:53
        )

    [6] => Array
        (
            [id] => 96
            [commodity_name] => Garam Halus
            [unit] => KG
            [image_path] => commodity_68dfc08a8320d.png
            [latest_price] => 9000.00
            [created_at] => 2025-10-07 08:57:47
        )

    [7] => Array
        (
            [id] => 112
            [commodity_name] => Timun (uk. Sedang)
            [unit] => KG
            [image_path] => commodity_68dfc2094a459.png
            [latest_price] => 15000.00
            [created_at] => 2025-10-07 08:57:21
        )

    [8] => Array
        (
            [id] => 111
            [commodity_name] => Tomat
            [unit] => KG
            [image_path] => commodity_68dfc1fee3486.png
            [latest_price] => 12000.00
            [created_at] => 2025-10-07 08:57:34
        )

)

[08-Oct-2025 06:13:14 UTC] Data komoditas ditemukan: 9 item
[08-Oct-2025 06:13:14 UTC] Sample data: Array
(
    [0] => Array
        (
            [id] => 87
            [commodity_name] => Bawang Bombay
            [unit] => KG
            [image_path] => commodity_68dfbfcbc270b.png
            [latest_price] => 50000.00
            [created_at] => 2025-10-07 16:45:05
        )

)

[08-Oct-2025 06:13:14 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[08-Oct-2025 06:13:14 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 06:13:14 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 06:13:14 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 06:13:14 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[08-Oct-2025 06:13:14 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 06:13:14 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 06:13:14 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 06:13:14 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[08-Oct-2025 06:13:14 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 06:13:14 UTC] getStablePrices found 0 results
[08-Oct-2025 06:13:20 UTC] Koneksi database berhasil
[08-Oct-2025 06:13:20 UTC] Jumlah data di tabel prices: 17
[08-Oct-2025 06:13:20 UTC] Jumlah data di tabel commodities: 44
[08-Oct-2025 06:13:20 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[08-Oct-2025 06:13:20 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 2
)

[08-Oct-2025 06:13:20 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 06:13:21 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 06:13:21 UTC] Hasil getTopIncreasingPrices: Array
(
)

[08-Oct-2025 06:13:21 UTC] Latest commodity prices query results: Array
(
    [0] => Array
        (
            [id] => 87
            [commodity_name] => Bawang Bombay
            [unit] => KG
            [image_path] => commodity_68dfbfcbc270b.png
            [latest_price] => 50000.00
            [created_at] => 2025-10-07 16:45:05
        )

    [1] => Array
        (
            [id] => 89
            [commodity_name] => Bawang Merah
            [unit] => KG
            [image_path] => commodity_68dfbfc0a703b.png
            [latest_price] => 40000.00
            [created_at] => 2025-10-07 16:45:26
        )

    [2] => Array
        (
            [id] => 86
            [commodity_name] => Bawang Putih Honan
            [unit] => KG
            [image_path] => commodity_68dfbf941713e.png
            [latest_price] => 25000.00
            [created_at] => 2025-10-05 15:18:34
        )

    [3] => Array
        (
            [id] => 94
            [commodity_name] => Beras Premium - SJ
            [unit] => KG
            [image_path] => commodity_68dfc054a4de7.png
            [latest_price] => 12000.00
            [created_at] => 2025-10-04 11:06:44
        )

    [4] => Array
        (
            [id] => 84
            [commodity_name] => Cabai Rawit Lokal
            [unit] => KG
            [image_path] => commodity_68dfbf462d57c.png
            [latest_price] => 95000.00
            [created_at] => 2025-10-05 15:18:15
        )

    [5] => Array
        (
            [id] => 79
            [commodity_name] => Daging Ayam Kampung
            [unit] => KG
            [image_path] => commodity_68dfbee813246.png
            [latest_price] => 25500.00
            [created_at] => 2025-10-05 15:18:53
        )

    [6] => Array
        (
            [id] => 96
            [commodity_name] => Garam Halus
            [unit] => KG
            [image_path] => commodity_68dfc08a8320d.png
            [latest_price] => 9000.00
            [created_at] => 2025-10-07 08:57:47
        )

    [7] => Array
        (
            [id] => 112
            [commodity_name] => Timun (uk. Sedang)
            [unit] => KG
            [image_path] => commodity_68dfc2094a459.png
            [latest_price] => 15000.00
            [created_at] => 2025-10-07 08:57:21
        )

    [8] => Array
        (
            [id] => 111
            [commodity_name] => Tomat
            [unit] => KG
            [image_path] => commodity_68dfc1fee3486.png
            [latest_price] => 12000.00
            [created_at] => 2025-10-07 08:57:34
        )

)

[08-Oct-2025 06:13:21 UTC] Data komoditas ditemukan: 9 item
[08-Oct-2025 06:13:21 UTC] Sample data: Array
(
    [0] => Array
        (
            [id] => 87
            [commodity_name] => Bawang Bombay
            [unit] => KG
            [image_path] => commodity_68dfbfcbc270b.png
            [latest_price] => 50000.00
            [created_at] => 2025-10-07 16:45:05
        )

)

[08-Oct-2025 06:13:21 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[08-Oct-2025 06:13:21 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 06:13:21 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 06:13:21 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 06:13:21 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[08-Oct-2025 06:13:21 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 06:13:21 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 06:13:21 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 06:13:21 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[08-Oct-2025 06:13:21 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 06:13:21 UTC] getStablePrices found 0 results
[08-Oct-2025 06:13:49 UTC] Koneksi database berhasil
[08-Oct-2025 06:13:49 UTC] Jumlah data di tabel prices: 17
[08-Oct-2025 06:13:49 UTC] Jumlah data di tabel commodities: 44
[08-Oct-2025 06:13:49 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[08-Oct-2025 06:13:49 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 2
)

[08-Oct-2025 06:13:49 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 06:13:49 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 06:13:49 UTC] Hasil getTopIncreasingPrices: Array
(
)

[08-Oct-2025 06:13:49 UTC] Latest commodity prices query results: Array
(
    [0] => Array
        (
            [id] => 87
            [commodity_name] => Bawang Bombay
            [unit] => KG
            [image_path] => commodity_68dfbfcbc270b.png
            [latest_price] => 50000.00
            [created_at] => 2025-10-07 16:45:05
        )

    [1] => Array
        (
            [id] => 89
            [commodity_name] => Bawang Merah
            [unit] => KG
            [image_path] => commodity_68dfbfc0a703b.png
            [latest_price] => 40000.00
            [created_at] => 2025-10-07 16:45:26
        )

    [2] => Array
        (
            [id] => 86
            [commodity_name] => Bawang Putih Honan
            [unit] => KG
            [image_path] => commodity_68dfbf941713e.png
            [latest_price] => 25000.00
            [created_at] => 2025-10-05 15:18:34
        )

    [3] => Array
        (
            [id] => 94
            [commodity_name] => Beras Premium - SJ
            [unit] => KG
            [image_path] => commodity_68dfc054a4de7.png
            [latest_price] => 12000.00
            [created_at] => 2025-10-04 11:06:44
        )

    [4] => Array
        (
            [id] => 84
            [commodity_name] => Cabai Rawit Lokal
            [unit] => KG
            [image_path] => commodity_68dfbf462d57c.png
            [latest_price] => 95000.00
            [created_at] => 2025-10-05 15:18:15
        )

    [5] => Array
        (
            [id] => 79
            [commodity_name] => Daging Ayam Kampung
            [unit] => KG
            [image_path] => commodity_68dfbee813246.png
            [latest_price] => 25500.00
            [created_at] => 2025-10-05 15:18:53
        )

    [6] => Array
        (
            [id] => 96
            [commodity_name] => Garam Halus
            [unit] => KG
            [image_path] => commodity_68dfc08a8320d.png
            [latest_price] => 9000.00
            [created_at] => 2025-10-07 08:57:47
        )

    [7] => Array
        (
            [id] => 112
            [commodity_name] => Timun (uk. Sedang)
            [unit] => KG
            [image_path] => commodity_68dfc2094a459.png
            [latest_price] => 15000.00
            [created_at] => 2025-10-07 08:57:21
        )

    [8] => Array
        (
            [id] => 111
            [commodity_name] => Tomat
            [unit] => KG
            [image_path] => commodity_68dfc1fee3486.png
            [latest_price] => 12000.00
            [created_at] => 2025-10-07 08:57:34
        )

)

[08-Oct-2025 06:13:49 UTC] Data komoditas ditemukan: 9 item
[08-Oct-2025 06:13:49 UTC] Sample data: Array
(
    [0] => Array
        (
            [id] => 87
            [commodity_name] => Bawang Bombay
            [unit] => KG
            [image_path] => commodity_68dfbfcbc270b.png
            [latest_price] => 50000.00
            [created_at] => 2025-10-07 16:45:05
        )

)

[08-Oct-2025 06:13:49 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[08-Oct-2025 06:13:49 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 06:13:49 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 06:13:49 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 06:13:49 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[08-Oct-2025 06:13:49 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 06:13:49 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 06:13:49 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 06:13:49 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[08-Oct-2025 06:13:49 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 06:13:49 UTC] getStablePrices found 0 results
[08-Oct-2025 06:13:52 UTC] Koneksi database berhasil
[08-Oct-2025 06:13:52 UTC] Jumlah data di tabel prices: 17
[08-Oct-2025 06:13:52 UTC] Jumlah data di tabel commodities: 44
[08-Oct-2025 06:13:52 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[08-Oct-2025 06:13:52 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 2
)

[08-Oct-2025 06:13:52 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 06:13:52 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 06:13:52 UTC] Hasil getTopIncreasingPrices: Array
(
)

[08-Oct-2025 06:13:52 UTC] Latest commodity prices query results: Array
(
    [0] => Array
        (
            [id] => 87
            [commodity_name] => Bawang Bombay
            [unit] => KG
            [image_path] => commodity_68dfbfcbc270b.png
            [latest_price] => 50000.00
            [created_at] => 2025-10-07 16:45:05
        )

    [1] => Array
        (
            [id] => 89
            [commodity_name] => Bawang Merah
            [unit] => KG
            [image_path] => commodity_68dfbfc0a703b.png
            [latest_price] => 40000.00
            [created_at] => 2025-10-07 16:45:26
        )

    [2] => Array
        (
            [id] => 86
            [commodity_name] => Bawang Putih Honan
            [unit] => KG
            [image_path] => commodity_68dfbf941713e.png
            [latest_price] => 25000.00
            [created_at] => 2025-10-05 15:18:34
        )

    [3] => Array
        (
            [id] => 94
            [commodity_name] => Beras Premium - SJ
            [unit] => KG
            [image_path] => commodity_68dfc054a4de7.png
            [latest_price] => 12000.00
            [created_at] => 2025-10-04 11:06:44
        )

    [4] => Array
        (
            [id] => 84
            [commodity_name] => Cabai Rawit Lokal
            [unit] => KG
            [image_path] => commodity_68dfbf462d57c.png
            [latest_price] => 95000.00
            [created_at] => 2025-10-05 15:18:15
        )

    [5] => Array
        (
            [id] => 79
            [commodity_name] => Daging Ayam Kampung
            [unit] => KG
            [image_path] => commodity_68dfbee813246.png
            [latest_price] => 25500.00
            [created_at] => 2025-10-05 15:18:53
        )

    [6] => Array
        (
            [id] => 96
            [commodity_name] => Garam Halus
            [unit] => KG
            [image_path] => commodity_68dfc08a8320d.png
            [latest_price] => 9000.00
            [created_at] => 2025-10-07 08:57:47
        )

    [7] => Array
        (
            [id] => 112
            [commodity_name] => Timun (uk. Sedang)
            [unit] => KG
            [image_path] => commodity_68dfc2094a459.png
            [latest_price] => 15000.00
            [created_at] => 2025-10-07 08:57:21
        )

    [8] => Array
        (
            [id] => 111
            [commodity_name] => Tomat
            [unit] => KG
            [image_path] => commodity_68dfc1fee3486.png
            [latest_price] => 12000.00
            [created_at] => 2025-10-07 08:57:34
        )

)

[08-Oct-2025 06:13:52 UTC] Data komoditas ditemukan: 9 item
[08-Oct-2025 06:13:52 UTC] Sample data: Array
(
    [0] => Array
        (
            [id] => 87
            [commodity_name] => Bawang Bombay
            [unit] => KG
            [image_path] => commodity_68dfbfcbc270b.png
            [latest_price] => 50000.00
            [created_at] => 2025-10-07 16:45:05
        )

)

[08-Oct-2025 06:13:52 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[08-Oct-2025 06:13:52 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 06:13:52 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 06:13:52 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 06:13:52 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[08-Oct-2025 06:13:52 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 06:13:52 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 06:13:52 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 06:13:52 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[08-Oct-2025 06:13:52 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 06:13:52 UTC] getStablePrices found 0 results
[08-Oct-2025 06:15:46 UTC] Koneksi database berhasil
[08-Oct-2025 06:15:46 UTC] Jumlah data di tabel prices: 17
[08-Oct-2025 06:15:46 UTC] Jumlah data di tabel commodities: 44
[08-Oct-2025 06:15:46 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[08-Oct-2025 06:15:46 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 2
)

[08-Oct-2025 06:15:46 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 06:15:46 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 06:15:46 UTC] Hasil getTopIncreasingPrices: Array
(
)

[08-Oct-2025 06:15:46 UTC] Latest commodity prices query results: Array
(
    [0] => Array
        (
            [id] => 87
            [commodity_name] => Bawang Bombay
            [unit] => KG
            [image_path] => commodity_68dfbfcbc270b.png
            [latest_price] => 50000.00
            [created_at] => 2025-10-07 16:45:05
        )

    [1] => Array
        (
            [id] => 89
            [commodity_name] => Bawang Merah
            [unit] => KG
            [image_path] => commodity_68dfbfc0a703b.png
            [latest_price] => 40000.00
            [created_at] => 2025-10-07 16:45:26
        )

    [2] => Array
        (
            [id] => 86
            [commodity_name] => Bawang Putih Honan
            [unit] => KG
            [image_path] => commodity_68dfbf941713e.png
            [latest_price] => 25000.00
            [created_at] => 2025-10-05 15:18:34
        )

    [3] => Array
        (
            [id] => 94
            [commodity_name] => Beras Premium - SJ
            [unit] => KG
            [image_path] => commodity_68dfc054a4de7.png
            [latest_price] => 12000.00
            [created_at] => 2025-10-04 11:06:44
        )

    [4] => Array
        (
            [id] => 84
            [commodity_name] => Cabai Rawit Lokal
            [unit] => KG
            [image_path] => commodity_68dfbf462d57c.png
            [latest_price] => 95000.00
            [created_at] => 2025-10-05 15:18:15
        )

    [5] => Array
        (
            [id] => 79
            [commodity_name] => Daging Ayam Kampung
            [unit] => KG
            [image_path] => commodity_68dfbee813246.png
            [latest_price] => 25500.00
            [created_at] => 2025-10-05 15:18:53
        )

    [6] => Array
        (
            [id] => 96
            [commodity_name] => Garam Halus
            [unit] => KG
            [image_path] => commodity_68dfc08a8320d.png
            [latest_price] => 9000.00
            [created_at] => 2025-10-07 08:57:47
        )

    [7] => Array
        (
            [id] => 112
            [commodity_name] => Timun (uk. Sedang)
            [unit] => KG
            [image_path] => commodity_68dfc2094a459.png
            [latest_price] => 15000.00
            [created_at] => 2025-10-07 08:57:21
        )

    [8] => Array
        (
            [id] => 111
            [commodity_name] => Tomat
            [unit] => KG
            [image_path] => commodity_68dfc1fee3486.png
            [latest_price] => 12000.00
            [created_at] => 2025-10-07 08:57:34
        )

)

[08-Oct-2025 06:15:46 UTC] Data komoditas ditemukan: 9 item
[08-Oct-2025 06:15:46 UTC] Sample data: Array
(
    [0] => Array
        (
            [id] => 87
            [commodity_name] => Bawang Bombay
            [unit] => KG
            [image_path] => commodity_68dfbfcbc270b.png
            [latest_price] => 50000.00
            [created_at] => 2025-10-07 16:45:05
        )

)

[08-Oct-2025 06:15:46 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[08-Oct-2025 06:15:46 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 06:15:46 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 06:15:46 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 06:15:46 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[08-Oct-2025 06:15:46 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 06:15:46 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 06:15:46 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 06:15:46 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[08-Oct-2025 06:15:46 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 06:15:46 UTC] getStablePrices found 0 results
[08-Oct-2025 06:21:48 UTC] Koneksi database berhasil
[08-Oct-2025 06:21:48 UTC] Jumlah data di tabel prices: 17
[08-Oct-2025 06:21:48 UTC] Jumlah data di tabel commodities: 44
[08-Oct-2025 06:21:48 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[08-Oct-2025 06:21:48 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 2
)

[08-Oct-2025 06:21:48 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 06:21:48 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 06:21:48 UTC] Hasil getTopIncreasingPrices: Array
(
)

[08-Oct-2025 06:21:48 UTC] Latest commodity prices query results: Array
(
    [0] => Array
        (
            [id] => 87
            [commodity_name] => Bawang Bombay
            [unit] => KG
            [image_path] => commodity_68dfbfcbc270b.png
            [latest_price] => 50000.00
            [created_at] => 2025-10-07 16:45:05
        )

    [1] => Array
        (
            [id] => 89
            [commodity_name] => Bawang Merah
            [unit] => KG
            [image_path] => commodity_68dfbfc0a703b.png
            [latest_price] => 40000.00
            [created_at] => 2025-10-07 16:45:26
        )

    [2] => Array
        (
            [id] => 86
            [commodity_name] => Bawang Putih Honan
            [unit] => KG
            [image_path] => commodity_68dfbf941713e.png
            [latest_price] => 25000.00
            [created_at] => 2025-10-05 15:18:34
        )

    [3] => Array
        (
            [id] => 94
            [commodity_name] => Beras Premium - SJ
            [unit] => KG
            [image_path] => commodity_68dfc054a4de7.png
            [latest_price] => 12000.00
            [created_at] => 2025-10-04 11:06:44
        )

    [4] => Array
        (
            [id] => 84
            [commodity_name] => Cabai Rawit Lokal
            [unit] => KG
            [image_path] => commodity_68dfbf462d57c.png
            [latest_price] => 95000.00
            [created_at] => 2025-10-05 15:18:15
        )

    [5] => Array
        (
            [id] => 79
            [commodity_name] => Daging Ayam Kampung
            [unit] => KG
            [image_path] => commodity_68dfbee813246.png
            [latest_price] => 25500.00
            [created_at] => 2025-10-05 15:18:53
        )

    [6] => Array
        (
            [id] => 96
            [commodity_name] => Garam Halus
            [unit] => KG
            [image_path] => commodity_68dfc08a8320d.png
            [latest_price] => 9000.00
            [created_at] => 2025-10-07 08:57:47
        )

    [7] => Array
        (
            [id] => 112
            [commodity_name] => Timun (uk. Sedang)
            [unit] => KG
            [image_path] => commodity_68dfc2094a459.png
            [latest_price] => 15000.00
            [created_at] => 2025-10-07 08:57:21
        )

    [8] => Array
        (
            [id] => 111
            [commodity_name] => Tomat
            [unit] => KG
            [image_path] => commodity_68dfc1fee3486.png
            [latest_price] => 12000.00
            [created_at] => 2025-10-07 08:57:34
        )

)

[08-Oct-2025 06:21:48 UTC] Data komoditas ditemukan: 9 item
[08-Oct-2025 06:21:48 UTC] Sample data: Array
(
    [0] => Array
        (
            [id] => 87
            [commodity_name] => Bawang Bombay
            [unit] => KG
            [image_path] => commodity_68dfbfcbc270b.png
            [latest_price] => 50000.00
            [created_at] => 2025-10-07 16:45:05
        )

)

[08-Oct-2025 06:21:48 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[08-Oct-2025 06:21:48 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 06:21:48 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 06:21:48 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 06:21:48 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[08-Oct-2025 06:21:48 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 06:21:48 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 06:21:48 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 06:21:48 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[08-Oct-2025 06:21:48 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 06:21:48 UTC] getStablePrices found 0 results
[08-Oct-2025 06:34:10 UTC] Koneksi database berhasil
[08-Oct-2025 06:34:10 UTC] Jumlah data di tabel prices: 17
[08-Oct-2025 06:34:10 UTC] Jumlah data di tabel commodities: 44
[08-Oct-2025 06:34:10 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[08-Oct-2025 06:34:10 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 2
)

[08-Oct-2025 06:34:10 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 06:34:10 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 06:34:10 UTC] Hasil getTopIncreasingPrices: Array
(
)

[08-Oct-2025 06:34:10 UTC] Latest commodity prices query results: Array
(
    [0] => Array
        (
            [id] => 87
            [commodity_name] => Bawang Bombay
            [unit] => KG
            [image_path] => commodity_68dfbfcbc270b.png
            [latest_price] => 50000.00
            [created_at] => 2025-10-07 16:45:05
        )

    [1] => Array
        (
            [id] => 89
            [commodity_name] => Bawang Merah
            [unit] => KG
            [image_path] => commodity_68dfbfc0a703b.png
            [latest_price] => 40000.00
            [created_at] => 2025-10-07 16:45:26
        )

    [2] => Array
        (
            [id] => 86
            [commodity_name] => Bawang Putih Honan
            [unit] => KG
            [image_path] => commodity_68dfbf941713e.png
            [latest_price] => 25000.00
            [created_at] => 2025-10-05 15:18:34
        )

    [3] => Array
        (
            [id] => 94
            [commodity_name] => Beras Premium - SJ
            [unit] => KG
            [image_path] => commodity_68dfc054a4de7.png
            [latest_price] => 12000.00
            [created_at] => 2025-10-04 11:06:44
        )

    [4] => Array
        (
            [id] => 84
            [commodity_name] => Cabai Rawit Lokal
            [unit] => KG
            [image_path] => commodity_68dfbf462d57c.png
            [latest_price] => 95000.00
            [created_at] => 2025-10-05 15:18:15
        )

    [5] => Array
        (
            [id] => 79
            [commodity_name] => Daging Ayam Kampung
            [unit] => KG
            [image_path] => commodity_68dfbee813246.png
            [latest_price] => 25500.00
            [created_at] => 2025-10-05 15:18:53
        )

    [6] => Array
        (
            [id] => 96
            [commodity_name] => Garam Halus
            [unit] => KG
            [image_path] => commodity_68dfc08a8320d.png
            [latest_price] => 9000.00
            [created_at] => 2025-10-07 08:57:47
        )

    [7] => Array
        (
            [id] => 112
            [commodity_name] => Timun (uk. Sedang)
            [unit] => KG
            [image_path] => commodity_68dfc2094a459.png
            [latest_price] => 15000.00
            [created_at] => 2025-10-07 08:57:21
        )

    [8] => Array
        (
            [id] => 111
            [commodity_name] => Tomat
            [unit] => KG
            [image_path] => commodity_68dfc1fee3486.png
            [latest_price] => 12000.00
            [created_at] => 2025-10-07 08:57:34
        )

)

[08-Oct-2025 06:34:10 UTC] Data komoditas ditemukan: 9 item
[08-Oct-2025 06:34:10 UTC] Sample data: Array
(
    [0] => Array
        (
            [id] => 87
            [commodity_name] => Bawang Bombay
            [unit] => KG
            [image_path] => commodity_68dfbfcbc270b.png
            [latest_price] => 50000.00
            [created_at] => 2025-10-07 16:45:05
        )

)

[08-Oct-2025 06:34:10 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[08-Oct-2025 06:34:10 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 06:34:10 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 06:34:10 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 06:34:10 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[08-Oct-2025 06:34:10 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 06:34:10 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 06:34:10 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 06:34:10 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[08-Oct-2025 06:34:10 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 06:34:10 UTC] getStablePrices found 0 results
[08-Oct-2025 06:34:18 UTC] Koneksi database berhasil
[08-Oct-2025 06:34:18 UTC] Jumlah data di tabel prices: 17
[08-Oct-2025 06:34:18 UTC] Jumlah data di tabel commodities: 44
[08-Oct-2025 06:34:18 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[08-Oct-2025 06:34:18 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 2
)

[08-Oct-2025 06:34:18 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 06:34:18 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 06:34:18 UTC] Hasil getTopIncreasingPrices: Array
(
)

[08-Oct-2025 06:34:18 UTC] Latest commodity prices query results: Array
(
    [0] => Array
        (
            [id] => 87
            [commodity_name] => Bawang Bombay
            [unit] => KG
            [image_path] => commodity_68dfbfcbc270b.png
            [latest_price] => 50000.00
            [created_at] => 2025-10-07 16:45:05
        )

    [1] => Array
        (
            [id] => 89
            [commodity_name] => Bawang Merah
            [unit] => KG
            [image_path] => commodity_68dfbfc0a703b.png
            [latest_price] => 40000.00
            [created_at] => 2025-10-07 16:45:26
        )

    [2] => Array
        (
            [id] => 86
            [commodity_name] => Bawang Putih Honan
            [unit] => KG
            [image_path] => commodity_68dfbf941713e.png
            [latest_price] => 25000.00
            [created_at] => 2025-10-05 15:18:34
        )

    [3] => Array
        (
            [id] => 94
            [commodity_name] => Beras Premium - SJ
            [unit] => KG
            [image_path] => commodity_68dfc054a4de7.png
            [latest_price] => 12000.00
            [created_at] => 2025-10-04 11:06:44
        )

    [4] => Array
        (
            [id] => 84
            [commodity_name] => Cabai Rawit Lokal
            [unit] => KG
            [image_path] => commodity_68dfbf462d57c.png
            [latest_price] => 95000.00
            [created_at] => 2025-10-05 15:18:15
        )

    [5] => Array
        (
            [id] => 79
            [commodity_name] => Daging Ayam Kampung
            [unit] => KG
            [image_path] => commodity_68dfbee813246.png
            [latest_price] => 25500.00
            [created_at] => 2025-10-05 15:18:53
        )

    [6] => Array
        (
            [id] => 96
            [commodity_name] => Garam Halus
            [unit] => KG
            [image_path] => commodity_68dfc08a8320d.png
            [latest_price] => 9000.00
            [created_at] => 2025-10-07 08:57:47
        )

    [7] => Array
        (
            [id] => 112
            [commodity_name] => Timun (uk. Sedang)
            [unit] => KG
            [image_path] => commodity_68dfc2094a459.png
            [latest_price] => 15000.00
            [created_at] => 2025-10-07 08:57:21
        )

    [8] => Array
        (
            [id] => 111
            [commodity_name] => Tomat
            [unit] => KG
            [image_path] => commodity_68dfc1fee3486.png
            [latest_price] => 12000.00
            [created_at] => 2025-10-07 08:57:34
        )

)

[08-Oct-2025 06:34:18 UTC] Data komoditas ditemukan: 9 item
[08-Oct-2025 06:34:18 UTC] Sample data: Array
(
    [0] => Array
        (
            [id] => 87
            [commodity_name] => Bawang Bombay
            [unit] => KG
            [image_path] => commodity_68dfbfcbc270b.png
            [latest_price] => 50000.00
            [created_at] => 2025-10-07 16:45:05
        )

)

[08-Oct-2025 06:34:18 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[08-Oct-2025 06:34:18 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 06:34:18 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 06:34:18 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 06:34:18 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[08-Oct-2025 06:34:18 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 06:34:18 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 06:34:18 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 06:34:18 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[08-Oct-2025 06:34:18 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 06:34:18 UTC] getStablePrices found 0 results
[08-Oct-2025 06:40:50 UTC] Koneksi database berhasil
[08-Oct-2025 06:40:50 UTC] Jumlah data di tabel prices: 17
[08-Oct-2025 06:40:50 UTC] Jumlah data di tabel commodities: 44
[08-Oct-2025 06:40:50 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[08-Oct-2025 06:40:50 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 2
)

[08-Oct-2025 06:40:50 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 06:40:50 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 06:40:50 UTC] Hasil getTopIncreasingPrices: Array
(
)

[08-Oct-2025 06:40:50 UTC] Latest commodity prices query results: Array
(
    [0] => Array
        (
            [id] => 87
            [commodity_name] => Bawang Bombay
            [unit] => KG
            [image_path] => commodity_68dfbfcbc270b.png
            [latest_price] => 50000.00
            [created_at] => 2025-10-07 16:45:05
        )

    [1] => Array
        (
            [id] => 89
            [commodity_name] => Bawang Merah
            [unit] => KG
            [image_path] => commodity_68dfbfc0a703b.png
            [latest_price] => 40000.00
            [created_at] => 2025-10-07 16:45:26
        )

    [2] => Array
        (
            [id] => 86
            [commodity_name] => Bawang Putih Honan
            [unit] => KG
            [image_path] => commodity_68dfbf941713e.png
            [latest_price] => 25000.00
            [created_at] => 2025-10-05 15:18:34
        )

    [3] => Array
        (
            [id] => 94
            [commodity_name] => Beras Premium - SJ
            [unit] => KG
            [image_path] => commodity_68dfc054a4de7.png
            [latest_price] => 12000.00
            [created_at] => 2025-10-04 11:06:44
        )

    [4] => Array
        (
            [id] => 84
            [commodity_name] => Cabai Rawit Lokal
            [unit] => KG
            [image_path] => commodity_68dfbf462d57c.png
            [latest_price] => 95000.00
            [created_at] => 2025-10-05 15:18:15
        )

    [5] => Array
        (
            [id] => 79
            [commodity_name] => Daging Ayam Kampung
            [unit] => KG
            [image_path] => commodity_68dfbee813246.png
            [latest_price] => 25500.00
            [created_at] => 2025-10-05 15:18:53
        )

    [6] => Array
        (
            [id] => 96
            [commodity_name] => Garam Halus
            [unit] => KG
            [image_path] => commodity_68dfc08a8320d.png
            [latest_price] => 9000.00
            [created_at] => 2025-10-07 08:57:47
        )

    [7] => Array
        (
            [id] => 112
            [commodity_name] => Timun (uk. Sedang)
            [unit] => KG
            [image_path] => commodity_68dfc2094a459.png
            [latest_price] => 15000.00
            [created_at] => 2025-10-07 08:57:21
        )

    [8] => Array
        (
            [id] => 111
            [commodity_name] => Tomat
            [unit] => KG
            [image_path] => commodity_68dfc1fee3486.png
            [latest_price] => 12000.00
            [created_at] => 2025-10-07 08:57:34
        )

)

[08-Oct-2025 06:40:50 UTC] Data komoditas ditemukan: 9 item
[08-Oct-2025 06:40:50 UTC] Sample data: Array
(
    [0] => Array
        (
            [id] => 87
            [commodity_name] => Bawang Bombay
            [unit] => KG
            [image_path] => commodity_68dfbfcbc270b.png
            [latest_price] => 50000.00
            [created_at] => 2025-10-07 16:45:05
        )

)

[08-Oct-2025 06:40:50 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[08-Oct-2025 06:40:50 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 06:40:50 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 06:40:50 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 06:40:50 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[08-Oct-2025 06:40:50 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 06:40:50 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 06:40:50 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 06:40:50 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[08-Oct-2025 06:40:50 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 06:40:50 UTC] getStablePrices found 0 results
[08-Oct-2025 06:45:24 UTC] Koneksi database berhasil
[08-Oct-2025 06:45:24 UTC] Jumlah data di tabel prices: 17
[08-Oct-2025 06:45:24 UTC] Jumlah data di tabel commodities: 44
[08-Oct-2025 06:45:24 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[08-Oct-2025 06:45:24 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 2
)

[08-Oct-2025 06:45:24 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 06:45:24 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 06:45:24 UTC] Hasil getTopIncreasingPrices: Array
(
)

[08-Oct-2025 06:45:24 UTC] Latest commodity prices query results: Array
(
    [0] => Array
        (
            [id] => 87
            [commodity_name] => Bawang Bombay
            [unit] => KG
            [image_path] => commodity_68dfbfcbc270b.png
            [latest_price] => 50000.00
            [created_at] => 2025-10-07 16:45:05
        )

    [1] => Array
        (
            [id] => 89
            [commodity_name] => Bawang Merah
            [unit] => KG
            [image_path] => commodity_68dfbfc0a703b.png
            [latest_price] => 40000.00
            [created_at] => 2025-10-07 16:45:26
        )

    [2] => Array
        (
            [id] => 86
            [commodity_name] => Bawang Putih Honan
            [unit] => KG
            [image_path] => commodity_68dfbf941713e.png
            [latest_price] => 25000.00
            [created_at] => 2025-10-05 15:18:34
        )

    [3] => Array
        (
            [id] => 94
            [commodity_name] => Beras Premium - SJ
            [unit] => KG
            [image_path] => commodity_68dfc054a4de7.png
            [latest_price] => 12000.00
            [created_at] => 2025-10-04 11:06:44
        )

    [4] => Array
        (
            [id] => 84
            [commodity_name] => Cabai Rawit Lokal
            [unit] => KG
            [image_path] => commodity_68dfbf462d57c.png
            [latest_price] => 95000.00
            [created_at] => 2025-10-05 15:18:15
        )

    [5] => Array
        (
            [id] => 79
            [commodity_name] => Daging Ayam Kampung
            [unit] => KG
            [image_path] => commodity_68dfbee813246.png
            [latest_price] => 25500.00
            [created_at] => 2025-10-05 15:18:53
        )

    [6] => Array
        (
            [id] => 96
            [commodity_name] => Garam Halus
            [unit] => KG
            [image_path] => commodity_68dfc08a8320d.png
            [latest_price] => 9000.00
            [created_at] => 2025-10-07 08:57:47
        )

    [7] => Array
        (
            [id] => 112
            [commodity_name] => Timun (uk. Sedang)
            [unit] => KG
            [image_path] => commodity_68dfc2094a459.png
            [latest_price] => 15000.00
            [created_at] => 2025-10-07 08:57:21
        )

    [8] => Array
        (
            [id] => 111
            [commodity_name] => Tomat
            [unit] => KG
            [image_path] => commodity_68dfc1fee3486.png
            [latest_price] => 12000.00
            [created_at] => 2025-10-07 08:57:34
        )

)

[08-Oct-2025 06:45:24 UTC] Data komoditas ditemukan: 9 item
[08-Oct-2025 06:45:24 UTC] Sample data: Array
(
    [0] => Array
        (
            [id] => 87
            [commodity_name] => Bawang Bombay
            [unit] => KG
            [image_path] => commodity_68dfbfcbc270b.png
            [latest_price] => 50000.00
            [created_at] => 2025-10-07 16:45:05
        )

)

[08-Oct-2025 06:45:24 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[08-Oct-2025 06:45:24 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 06:45:24 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 06:45:24 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 06:45:24 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[08-Oct-2025 06:45:24 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 06:45:24 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 06:45:24 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 06:45:24 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[08-Oct-2025 06:45:24 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 06:45:24 UTC] getStablePrices found 0 results
[08-Oct-2025 06:45:28 UTC] Koneksi database berhasil
[08-Oct-2025 06:45:28 UTC] Jumlah data di tabel prices: 17
[08-Oct-2025 06:45:28 UTC] Jumlah data di tabel commodities: 44
[08-Oct-2025 06:45:28 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[08-Oct-2025 06:45:28 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 2
)

[08-Oct-2025 06:45:28 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 06:45:28 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 06:45:28 UTC] Hasil getTopIncreasingPrices: Array
(
)

[08-Oct-2025 06:45:28 UTC] Latest commodity prices query results: Array
(
    [0] => Array
        (
            [id] => 87
            [commodity_name] => Bawang Bombay
            [unit] => KG
            [image_path] => commodity_68dfbfcbc270b.png
            [latest_price] => 50000.00
            [created_at] => 2025-10-07 16:45:05
        )

    [1] => Array
        (
            [id] => 89
            [commodity_name] => Bawang Merah
            [unit] => KG
            [image_path] => commodity_68dfbfc0a703b.png
            [latest_price] => 40000.00
            [created_at] => 2025-10-07 16:45:26
        )

    [2] => Array
        (
            [id] => 86
            [commodity_name] => Bawang Putih Honan
            [unit] => KG
            [image_path] => commodity_68dfbf941713e.png
            [latest_price] => 25000.00
            [created_at] => 2025-10-05 15:18:34
        )

    [3] => Array
        (
            [id] => 94
            [commodity_name] => Beras Premium - SJ
            [unit] => KG
            [image_path] => commodity_68dfc054a4de7.png
            [latest_price] => 12000.00
            [created_at] => 2025-10-04 11:06:44
        )

    [4] => Array
        (
            [id] => 84
            [commodity_name] => Cabai Rawit Lokal
            [unit] => KG
            [image_path] => commodity_68dfbf462d57c.png
            [latest_price] => 95000.00
            [created_at] => 2025-10-05 15:18:15
        )

    [5] => Array
        (
            [id] => 79
            [commodity_name] => Daging Ayam Kampung
            [unit] => KG
            [image_path] => commodity_68dfbee813246.png
            [latest_price] => 25500.00
            [created_at] => 2025-10-05 15:18:53
        )

    [6] => Array
        (
            [id] => 96
            [commodity_name] => Garam Halus
            [unit] => KG
            [image_path] => commodity_68dfc08a8320d.png
            [latest_price] => 9000.00
            [created_at] => 2025-10-07 08:57:47
        )

    [7] => Array
        (
            [id] => 112
            [commodity_name] => Timun (uk. Sedang)
            [unit] => KG
            [image_path] => commodity_68dfc2094a459.png
            [latest_price] => 15000.00
            [created_at] => 2025-10-07 08:57:21
        )

    [8] => Array
        (
            [id] => 111
            [commodity_name] => Tomat
            [unit] => KG
            [image_path] => commodity_68dfc1fee3486.png
            [latest_price] => 12000.00
            [created_at] => 2025-10-07 08:57:34
        )

)

[08-Oct-2025 06:45:28 UTC] Data komoditas ditemukan: 9 item
[08-Oct-2025 06:45:28 UTC] Sample data: Array
(
    [0] => Array
        (
            [id] => 87
            [commodity_name] => Bawang Bombay
            [unit] => KG
            [image_path] => commodity_68dfbfcbc270b.png
            [latest_price] => 50000.00
            [created_at] => 2025-10-07 16:45:05
        )

)

[08-Oct-2025 06:45:28 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[08-Oct-2025 06:45:28 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 06:45:28 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 06:45:28 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 06:45:28 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[08-Oct-2025 06:45:28 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 06:45:28 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 06:45:28 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 06:45:28 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[08-Oct-2025 06:45:28 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 06:45:28 UTC] getStablePrices found 0 results
[08-Oct-2025 06:45:31 UTC] Koneksi database berhasil
[08-Oct-2025 06:45:31 UTC] Jumlah data di tabel prices: 17
[08-Oct-2025 06:45:31 UTC] Jumlah data di tabel commodities: 44
[08-Oct-2025 06:45:31 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[08-Oct-2025 06:45:31 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 2
)

[08-Oct-2025 06:45:31 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 06:45:31 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 06:45:31 UTC] Hasil getTopIncreasingPrices: Array
(
)

[08-Oct-2025 06:45:31 UTC] Latest commodity prices query results: Array
(
    [0] => Array
        (
            [id] => 87
            [commodity_name] => Bawang Bombay
            [unit] => KG
            [image_path] => commodity_68dfbfcbc270b.png
            [latest_price] => 50000.00
            [created_at] => 2025-10-07 16:45:05
        )

    [1] => Array
        (
            [id] => 89
            [commodity_name] => Bawang Merah
            [unit] => KG
            [image_path] => commodity_68dfbfc0a703b.png
            [latest_price] => 40000.00
            [created_at] => 2025-10-07 16:45:26
        )

    [2] => Array
        (
            [id] => 86
            [commodity_name] => Bawang Putih Honan
            [unit] => KG
            [image_path] => commodity_68dfbf941713e.png
            [latest_price] => 25000.00
            [created_at] => 2025-10-05 15:18:34
        )

    [3] => Array
        (
            [id] => 94
            [commodity_name] => Beras Premium - SJ
            [unit] => KG
            [image_path] => commodity_68dfc054a4de7.png
            [latest_price] => 12000.00
            [created_at] => 2025-10-04 11:06:44
        )

    [4] => Array
        (
            [id] => 84
            [commodity_name] => Cabai Rawit Lokal
            [unit] => KG
            [image_path] => commodity_68dfbf462d57c.png
            [latest_price] => 95000.00
            [created_at] => 2025-10-05 15:18:15
        )

    [5] => Array
        (
            [id] => 79
            [commodity_name] => Daging Ayam Kampung
            [unit] => KG
            [image_path] => commodity_68dfbee813246.png
            [latest_price] => 25500.00
            [created_at] => 2025-10-05 15:18:53
        )

    [6] => Array
        (
            [id] => 96
            [commodity_name] => Garam Halus
            [unit] => KG
            [image_path] => commodity_68dfc08a8320d.png
            [latest_price] => 9000.00
            [created_at] => 2025-10-07 08:57:47
        )

    [7] => Array
        (
            [id] => 112
            [commodity_name] => Timun (uk. Sedang)
            [unit] => KG
            [image_path] => commodity_68dfc2094a459.png
            [latest_price] => 15000.00
            [created_at] => 2025-10-07 08:57:21
        )

    [8] => Array
        (
            [id] => 111
            [commodity_name] => Tomat
            [unit] => KG
            [image_path] => commodity_68dfc1fee3486.png
            [latest_price] => 12000.00
            [created_at] => 2025-10-07 08:57:34
        )

)

[08-Oct-2025 06:45:31 UTC] Data komoditas ditemukan: 9 item
[08-Oct-2025 06:45:31 UTC] Sample data: Array
(
    [0] => Array
        (
            [id] => 87
            [commodity_name] => Bawang Bombay
            [unit] => KG
            [image_path] => commodity_68dfbfcbc270b.png
            [latest_price] => 50000.00
            [created_at] => 2025-10-07 16:45:05
        )

)

[08-Oct-2025 06:45:31 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[08-Oct-2025 06:45:31 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 06:45:31 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 06:45:31 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 06:45:31 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[08-Oct-2025 06:45:31 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 06:45:31 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 06:45:31 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 06:45:31 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[08-Oct-2025 06:45:31 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 06:45:31 UTC] getStablePrices found 0 results
[08-Oct-2025 16:26:15 UTC] Koneksi database berhasil
[08-Oct-2025 16:26:15 UTC] Jumlah data di tabel prices: 18
[08-Oct-2025 16:26:15 UTC] Jumlah data di tabel commodities: 44
[08-Oct-2025 16:26:15 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[08-Oct-2025 16:26:15 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 2
)

[08-Oct-2025 16:26:15 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 16:26:15 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 16:26:15 UTC] Hasil getTopIncreasingPrices: Array
(
)

[08-Oct-2025 16:26:15 UTC] Latest commodity prices query results: Array
(
    [0] => Array
        (
            [id] => 87
            [commodity_name] => Bawang Bombay
            [unit] => KG
            [image_path] => commodity_68dfbfcbc270b.png
            [latest_price] => 50000.00
            [created_at] => 2025-10-07 16:45:05
        )

    [1] => Array
        (
            [id] => 89
            [commodity_name] => Bawang Merah
            [unit] => KG
            [image_path] => commodity_68dfbfc0a703b.png
            [latest_price] => 40000.00
            [created_at] => 2025-10-07 16:45:26
        )

    [2] => Array
        (
            [id] => 86
            [commodity_name] => Bawang Putih Honan
            [unit] => KG
            [image_path] => commodity_68dfbf941713e.png
            [latest_price] => 25000.00
            [created_at] => 2025-10-05 15:18:34
        )

    [3] => Array
        (
            [id] => 94
            [commodity_name] => Beras Premium - SJ
            [unit] => KG
            [image_path] => commodity_68dfc054a4de7.png
            [latest_price] => 12000.00
            [created_at] => 2025-10-04 11:06:44
        )

    [4] => Array
        (
            [id] => 84
            [commodity_name] => Cabai Rawit Lokal
            [unit] => KG
            [image_path] => commodity_68dfbf462d57c.png
            [latest_price] => 95000.00
            [created_at] => 2025-10-05 15:18:15
        )

    [5] => Array
        (
            [id] => 79
            [commodity_name] => Daging Ayam Kampung
            [unit] => KG
            [image_path] => commodity_68dfbee813246.png
            [latest_price] => 25500.00
            [created_at] => 2025-10-05 15:18:53
        )

    [6] => Array
        (
            [id] => 96
            [commodity_name] => Garam Halus
            [unit] => KG
            [image_path] => commodity_68dfc08a8320d.png
            [latest_price] => 9000.00
            [created_at] => 2025-10-07 08:57:47
        )

    [7] => Array
        (
            [id] => 112
            [commodity_name] => Timun (uk. Sedang)
            [unit] => KG
            [image_path] => commodity_68dfc2094a459.png
            [latest_price] => 15000.00
            [created_at] => 2025-10-07 08:57:21
        )

    [8] => Array
        (
            [id] => 111
            [commodity_name] => Tomat
            [unit] => KG
            [image_path] => commodity_68dfc1fee3486.png
            [latest_price] => 12000.00
            [created_at] => 2025-10-07 08:57:34
        )

)

[08-Oct-2025 16:26:15 UTC] Data komoditas ditemukan: 9 item
[08-Oct-2025 16:26:15 UTC] Sample data: Array
(
    [0] => Array
        (
            [id] => 87
            [commodity_name] => Bawang Bombay
            [unit] => KG
            [image_path] => commodity_68dfbfcbc270b.png
            [latest_price] => 50000.00
            [created_at] => 2025-10-07 16:45:05
        )

)

[08-Oct-2025 16:26:15 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[08-Oct-2025 16:26:15 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 16:26:15 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 16:26:15 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 16:26:15 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[08-Oct-2025 16:26:15 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 16:26:15 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 16:26:15 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 16:26:15 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[08-Oct-2025 16:26:15 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 16:26:15 UTC] getStablePrices found 0 results
[08-Oct-2025 16:26:29 UTC] Koneksi database berhasil
[08-Oct-2025 16:26:29 UTC] Jumlah data di tabel prices: 18
[08-Oct-2025 16:26:29 UTC] Jumlah data di tabel commodities: 44
[08-Oct-2025 16:26:29 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[08-Oct-2025 16:26:29 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 2
)

[08-Oct-2025 16:26:29 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 16:26:29 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 16:26:29 UTC] Hasil getTopIncreasingPrices: Array
(
)

[08-Oct-2025 16:26:29 UTC] Latest commodity prices query results: Array
(
    [0] => Array
        (
            [id] => 87
            [commodity_name] => Bawang Bombay
            [unit] => KG
            [image_path] => commodity_68dfbfcbc270b.png
            [latest_price] => 20000.00
            [created_at] => 2025-10-08 16:26:13
        )

    [1] => Array
        (
            [id] => 89
            [commodity_name] => Bawang Merah
            [unit] => KG
            [image_path] => commodity_68dfbfc0a703b.png
            [latest_price] => 40000.00
            [created_at] => 2025-10-07 16:45:26
        )

    [2] => Array
        (
            [id] => 86
            [commodity_name] => Bawang Putih Honan
            [unit] => KG
            [image_path] => commodity_68dfbf941713e.png
            [latest_price] => 25000.00
            [created_at] => 2025-10-05 15:18:34
        )

    [3] => Array
        (
            [id] => 94
            [commodity_name] => Beras Premium - SJ
            [unit] => KG
            [image_path] => commodity_68dfc054a4de7.png
            [latest_price] => 12000.00
            [created_at] => 2025-10-04 11:06:44
        )

    [4] => Array
        (
            [id] => 84
            [commodity_name] => Cabai Rawit Lokal
            [unit] => KG
            [image_path] => commodity_68dfbf462d57c.png
            [latest_price] => 95000.00
            [created_at] => 2025-10-05 15:18:15
        )

    [5] => Array
        (
            [id] => 79
            [commodity_name] => Daging Ayam Kampung
            [unit] => KG
            [image_path] => commodity_68dfbee813246.png
            [latest_price] => 25500.00
            [created_at] => 2025-10-05 15:18:53
        )

    [6] => Array
        (
            [id] => 96
            [commodity_name] => Garam Halus
            [unit] => KG
            [image_path] => commodity_68dfc08a8320d.png
            [latest_price] => 9000.00
            [created_at] => 2025-10-07 08:57:47
        )

    [7] => Array
        (
            [id] => 112
            [commodity_name] => Timun (uk. Sedang)
            [unit] => KG
            [image_path] => commodity_68dfc2094a459.png
            [latest_price] => 15000.00
            [created_at] => 2025-10-07 08:57:21
        )

    [8] => Array
        (
            [id] => 111
            [commodity_name] => Tomat
            [unit] => KG
            [image_path] => commodity_68dfc1fee3486.png
            [latest_price] => 12000.00
            [created_at] => 2025-10-07 08:57:34
        )

)

[08-Oct-2025 16:26:29 UTC] Data komoditas ditemukan: 9 item
[08-Oct-2025 16:26:29 UTC] Sample data: Array
(
    [0] => Array
        (
            [id] => 87
            [commodity_name] => Bawang Bombay
            [unit] => KG
            [image_path] => commodity_68dfbfcbc270b.png
            [latest_price] => 20000.00
            [created_at] => 2025-10-08 16:26:13
        )

)

[08-Oct-2025 16:26:29 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[08-Oct-2025 16:26:29 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 16:26:29 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 16:26:29 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 16:26:29 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[08-Oct-2025 16:26:29 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 16:26:29 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 16:26:29 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 16:26:29 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[08-Oct-2025 16:26:29 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 16:26:29 UTC] getStablePrices found 0 results
[08-Oct-2025 16:26:49 UTC] Koneksi database berhasil
[08-Oct-2025 16:26:49 UTC] Jumlah data di tabel prices: 18
[08-Oct-2025 16:26:49 UTC] Jumlah data di tabel commodities: 44
[08-Oct-2025 16:26:49 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[08-Oct-2025 16:26:49 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 2
)

[08-Oct-2025 16:26:49 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 16:26:49 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 16:26:49 UTC] Hasil getTopIncreasingPrices: Array
(
)

[08-Oct-2025 16:26:49 UTC] Latest commodity prices query results: Array
(
    [0] => Array
        (
            [id] => 87
            [commodity_name] => Bawang Bombay
            [unit] => KG
            [image_path] => commodity_68dfbfcbc270b.png
            [latest_price] => 20000.00
            [created_at] => 2025-10-08 16:26:13
        )

    [1] => Array
        (
            [id] => 89
            [commodity_name] => Bawang Merah
            [unit] => KG
            [image_path] => commodity_68dfbfc0a703b.png
            [latest_price] => 40000.00
            [created_at] => 2025-10-07 16:45:26
        )

    [2] => Array
        (
            [id] => 86
            [commodity_name] => Bawang Putih Honan
            [unit] => KG
            [image_path] => commodity_68dfbf941713e.png
            [latest_price] => 25000.00
            [created_at] => 2025-10-05 15:18:34
        )

    [3] => Array
        (
            [id] => 94
            [commodity_name] => Beras Premium - SJ
            [unit] => KG
            [image_path] => commodity_68dfc054a4de7.png
            [latest_price] => 12000.00
            [created_at] => 2025-10-04 11:06:44
        )

    [4] => Array
        (
            [id] => 84
            [commodity_name] => Cabai Rawit Lokal
            [unit] => KG
            [image_path] => commodity_68dfbf462d57c.png
            [latest_price] => 95000.00
            [created_at] => 2025-10-05 15:18:15
        )

    [5] => Array
        (
            [id] => 79
            [commodity_name] => Daging Ayam Kampung
            [unit] => KG
            [image_path] => commodity_68dfbee813246.png
            [latest_price] => 25500.00
            [created_at] => 2025-10-05 15:18:53
        )

    [6] => Array
        (
            [id] => 96
            [commodity_name] => Garam Halus
            [unit] => KG
            [image_path] => commodity_68dfc08a8320d.png
            [latest_price] => 9000.00
            [created_at] => 2025-10-07 08:57:47
        )

    [7] => Array
        (
            [id] => 112
            [commodity_name] => Timun (uk. Sedang)
            [unit] => KG
            [image_path] => commodity_68dfc2094a459.png
            [latest_price] => 15000.00
            [created_at] => 2025-10-07 08:57:21
        )

    [8] => Array
        (
            [id] => 111
            [commodity_name] => Tomat
            [unit] => KG
            [image_path] => commodity_68dfc1fee3486.png
            [latest_price] => 12000.00
            [created_at] => 2025-10-07 08:57:34
        )

)

[08-Oct-2025 16:26:49 UTC] Data komoditas ditemukan: 9 item
[08-Oct-2025 16:26:49 UTC] Sample data: Array
(
    [0] => Array
        (
            [id] => 87
            [commodity_name] => Bawang Bombay
            [unit] => KG
            [image_path] => commodity_68dfbfcbc270b.png
            [latest_price] => 20000.00
            [created_at] => 2025-10-08 16:26:13
        )

)

[08-Oct-2025 16:26:49 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[08-Oct-2025 16:26:49 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 16:26:49 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 16:26:49 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 16:26:49 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[08-Oct-2025 16:26:49 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 16:26:49 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 16:26:49 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 16:26:49 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[08-Oct-2025 16:26:49 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 16:26:49 UTC] getStablePrices found 0 results
[08-Oct-2025 16:28:05 UTC] Koneksi database berhasil
[08-Oct-2025 16:28:05 UTC] Jumlah data di tabel prices: 18
[08-Oct-2025 16:28:05 UTC] Jumlah data di tabel commodities: 44
[08-Oct-2025 16:28:05 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[08-Oct-2025 16:28:05 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 2
)

[08-Oct-2025 16:28:05 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 16:28:05 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 16:28:05 UTC] Hasil getTopIncreasingPrices: Array
(
)

[08-Oct-2025 16:28:05 UTC] Latest commodity prices query results: Array
(
    [0] => Array
        (
            [id] => 87
            [commodity_name] => Bawang Bombay
            [unit] => KG
            [image_path] => commodity_68dfbfcbc270b.png
            [latest_price] => 20000.00
            [created_at] => 2025-10-08 16:26:13
        )

    [1] => Array
        (
            [id] => 89
            [commodity_name] => Bawang Merah
            [unit] => KG
            [image_path] => commodity_68dfbfc0a703b.png
            [latest_price] => 40000.00
            [created_at] => 2025-10-07 16:45:26
        )

    [2] => Array
        (
            [id] => 86
            [commodity_name] => Bawang Putih Honan
            [unit] => KG
            [image_path] => commodity_68dfbf941713e.png
            [latest_price] => 25000.00
            [created_at] => 2025-10-05 15:18:34
        )

    [3] => Array
        (
            [id] => 94
            [commodity_name] => Beras Premium - SJ
            [unit] => KG
            [image_path] => commodity_68dfc054a4de7.png
            [latest_price] => 12000.00
            [created_at] => 2025-10-04 11:06:44
        )

    [4] => Array
        (
            [id] => 84
            [commodity_name] => Cabai Rawit Lokal
            [unit] => KG
            [image_path] => commodity_68dfbf462d57c.png
            [latest_price] => 95000.00
            [created_at] => 2025-10-05 15:18:15
        )

    [5] => Array
        (
            [id] => 79
            [commodity_name] => Daging Ayam Kampung
            [unit] => KG
            [image_path] => commodity_68dfbee813246.png
            [latest_price] => 25500.00
            [created_at] => 2025-10-05 15:18:53
        )

    [6] => Array
        (
            [id] => 96
            [commodity_name] => Garam Halus
            [unit] => KG
            [image_path] => commodity_68dfc08a8320d.png
            [latest_price] => 9000.00
            [created_at] => 2025-10-07 08:57:47
        )

    [7] => Array
        (
            [id] => 112
            [commodity_name] => Timun (uk. Sedang)
            [unit] => KG
            [image_path] => commodity_68dfc2094a459.png
            [latest_price] => 15000.00
            [created_at] => 2025-10-07 08:57:21
        )

    [8] => Array
        (
            [id] => 111
            [commodity_name] => Tomat
            [unit] => KG
            [image_path] => commodity_68dfc1fee3486.png
            [latest_price] => 12000.00
            [created_at] => 2025-10-07 08:57:34
        )

)

[08-Oct-2025 16:28:05 UTC] Data komoditas ditemukan: 9 item
[08-Oct-2025 16:28:05 UTC] Sample data: Array
(
    [0] => Array
        (
            [id] => 87
            [commodity_name] => Bawang Bombay
            [unit] => KG
            [image_path] => commodity_68dfbfcbc270b.png
            [latest_price] => 20000.00
            [created_at] => 2025-10-08 16:26:13
        )

)

[08-Oct-2025 16:28:05 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[08-Oct-2025 16:28:05 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 16:28:05 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 16:28:05 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 16:28:05 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[08-Oct-2025 16:28:05 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 16:28:05 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 16:28:05 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 16:28:05 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[08-Oct-2025 16:28:05 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 16:28:05 UTC] getStablePrices found 0 results
[08-Oct-2025 16:41:48 UTC] Koneksi database berhasil
[08-Oct-2025 16:41:48 UTC] Jumlah data di tabel prices: 18
[08-Oct-2025 16:41:48 UTC] Jumlah data di tabel commodities: 44
[08-Oct-2025 16:41:48 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[08-Oct-2025 16:41:48 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 2
)

[08-Oct-2025 16:41:48 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 16:41:48 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 16:41:48 UTC] Hasil getTopIncreasingPrices: Array
(
)

[08-Oct-2025 16:41:48 UTC] Latest commodity prices query results: Array
(
    [0] => Array
        (
            [id] => 87
            [commodity_name] => Bawang Bombay
            [unit] => KG
            [image_path] => commodity_68dfbfcbc270b.png
            [latest_price] => 20000.00
            [created_at] => 2025-10-08 16:26:13
        )

    [1] => Array
        (
            [id] => 89
            [commodity_name] => Bawang Merah
            [unit] => KG
            [image_path] => commodity_68dfbfc0a703b.png
            [latest_price] => 40000.00
            [created_at] => 2025-10-07 16:45:26
        )

    [2] => Array
        (
            [id] => 86
            [commodity_name] => Bawang Putih Honan
            [unit] => KG
            [image_path] => commodity_68dfbf941713e.png
            [latest_price] => 25000.00
            [created_at] => 2025-10-05 15:18:34
        )

    [3] => Array
        (
            [id] => 94
            [commodity_name] => Beras Premium - SJ
            [unit] => KG
            [image_path] => commodity_68dfc054a4de7.png
            [latest_price] => 12000.00
            [created_at] => 2025-10-04 11:06:44
        )

    [4] => Array
        (
            [id] => 84
            [commodity_name] => Cabai Rawit Lokal
            [unit] => KG
            [image_path] => commodity_68dfbf462d57c.png
            [latest_price] => 95000.00
            [created_at] => 2025-10-05 15:18:15
        )

    [5] => Array
        (
            [id] => 79
            [commodity_name] => Daging Ayam Kampung
            [unit] => KG
            [image_path] => commodity_68dfbee813246.png
            [latest_price] => 25500.00
            [created_at] => 2025-10-05 15:18:53
        )

    [6] => Array
        (
            [id] => 96
            [commodity_name] => Garam Halus
            [unit] => KG
            [image_path] => commodity_68dfc08a8320d.png
            [latest_price] => 9000.00
            [created_at] => 2025-10-07 08:57:47
        )

    [7] => Array
        (
            [id] => 112
            [commodity_name] => Timun (uk. Sedang)
            [unit] => KG
            [image_path] => commodity_68dfc2094a459.png
            [latest_price] => 15000.00
            [created_at] => 2025-10-07 08:57:21
        )

    [8] => Array
        (
            [id] => 111
            [commodity_name] => Tomat
            [unit] => KG
            [image_path] => commodity_68dfc1fee3486.png
            [latest_price] => 12000.00
            [created_at] => 2025-10-07 08:57:34
        )

)

[08-Oct-2025 16:41:48 UTC] Data komoditas ditemukan: 9 item
[08-Oct-2025 16:41:48 UTC] Sample data: Array
(
    [0] => Array
        (
            [id] => 87
            [commodity_name] => Bawang Bombay
            [unit] => KG
            [image_path] => commodity_68dfbfcbc270b.png
            [latest_price] => 20000.00
            [created_at] => 2025-10-08 16:26:13
        )

)

[08-Oct-2025 16:41:48 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[08-Oct-2025 16:41:48 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 16:41:48 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 16:41:48 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 16:41:48 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[08-Oct-2025 16:41:48 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 16:41:48 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 16:41:48 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 16:41:48 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[08-Oct-2025 16:41:48 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 16:41:48 UTC] getStablePrices found 0 results
[08-Oct-2025 16:41:55 UTC] Koneksi database berhasil
[08-Oct-2025 16:41:55 UTC] Jumlah data di tabel prices: 18
[08-Oct-2025 16:41:55 UTC] Jumlah data di tabel commodities: 44
[08-Oct-2025 16:41:55 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[08-Oct-2025 16:41:55 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 2
)

[08-Oct-2025 16:41:55 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 16:41:55 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 16:41:55 UTC] Hasil getTopIncreasingPrices: Array
(
)

[08-Oct-2025 16:41:55 UTC] Latest commodity prices query results: Array
(
    [0] => Array
        (
            [id] => 87
            [commodity_name] => Bawang Bombay
            [unit] => KG
            [image_path] => commodity_68dfbfcbc270b.png
            [latest_price] => 20000.00
            [created_at] => 2025-10-08 16:26:13
        )

    [1] => Array
        (
            [id] => 89
            [commodity_name] => Bawang Merah
            [unit] => KG
            [image_path] => commodity_68dfbfc0a703b.png
            [latest_price] => 40000.00
            [created_at] => 2025-10-07 16:45:26
        )

    [2] => Array
        (
            [id] => 86
            [commodity_name] => Bawang Putih Honan
            [unit] => KG
            [image_path] => commodity_68dfbf941713e.png
            [latest_price] => 25000.00
            [created_at] => 2025-10-05 15:18:34
        )

    [3] => Array
        (
            [id] => 94
            [commodity_name] => Beras Premium - SJ
            [unit] => KG
            [image_path] => commodity_68dfc054a4de7.png
            [latest_price] => 12000.00
            [created_at] => 2025-10-04 11:06:44
        )

    [4] => Array
        (
            [id] => 84
            [commodity_name] => Cabai Rawit Lokal
            [unit] => KG
            [image_path] => commodity_68dfbf462d57c.png
            [latest_price] => 95000.00
            [created_at] => 2025-10-05 15:18:15
        )

    [5] => Array
        (
            [id] => 79
            [commodity_name] => Daging Ayam Kampung
            [unit] => KG
            [image_path] => commodity_68dfbee813246.png
            [latest_price] => 25500.00
            [created_at] => 2025-10-05 15:18:53
        )

    [6] => Array
        (
            [id] => 96
            [commodity_name] => Garam Halus
            [unit] => KG
            [image_path] => commodity_68dfc08a8320d.png
            [latest_price] => 9000.00
            [created_at] => 2025-10-07 08:57:47
        )

    [7] => Array
        (
            [id] => 112
            [commodity_name] => Timun (uk. Sedang)
            [unit] => KG
            [image_path] => commodity_68dfc2094a459.png
            [latest_price] => 15000.00
            [created_at] => 2025-10-07 08:57:21
        )

    [8] => Array
        (
            [id] => 111
            [commodity_name] => Tomat
            [unit] => KG
            [image_path] => commodity_68dfc1fee3486.png
            [latest_price] => 12000.00
            [created_at] => 2025-10-07 08:57:34
        )

)

[08-Oct-2025 16:41:55 UTC] Data komoditas ditemukan: 9 item
[08-Oct-2025 16:41:55 UTC] Sample data: Array
(
    [0] => Array
        (
            [id] => 87
            [commodity_name] => Bawang Bombay
            [unit] => KG
            [image_path] => commodity_68dfbfcbc270b.png
            [latest_price] => 20000.00
            [created_at] => 2025-10-08 16:26:13
        )

)

[08-Oct-2025 16:41:55 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[08-Oct-2025 16:41:55 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 16:41:55 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 16:41:55 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 16:41:55 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[08-Oct-2025 16:41:55 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 16:41:55 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 16:41:55 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 16:41:55 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[08-Oct-2025 16:41:55 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 16:41:55 UTC] getStablePrices found 0 results
[08-Oct-2025 16:41:58 UTC] Koneksi database berhasil
[08-Oct-2025 16:41:58 UTC] Jumlah data di tabel prices: 18
[08-Oct-2025 16:41:58 UTC] Jumlah data di tabel commodities: 44
[08-Oct-2025 16:41:58 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[08-Oct-2025 16:41:58 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 2
)

[08-Oct-2025 16:41:58 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 16:41:58 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 16:41:58 UTC] Hasil getTopIncreasingPrices: Array
(
)

[08-Oct-2025 16:41:58 UTC] Latest commodity prices query results: Array
(
    [0] => Array
        (
            [id] => 87
            [commodity_name] => Bawang Bombay
            [unit] => KG
            [image_path] => commodity_68dfbfcbc270b.png
            [latest_price] => 20000.00
            [created_at] => 2025-10-08 16:26:13
        )

    [1] => Array
        (
            [id] => 89
            [commodity_name] => Bawang Merah
            [unit] => KG
            [image_path] => commodity_68dfbfc0a703b.png
            [latest_price] => 40000.00
            [created_at] => 2025-10-07 16:45:26
        )

    [2] => Array
        (
            [id] => 86
            [commodity_name] => Bawang Putih Honan
            [unit] => KG
            [image_path] => commodity_68dfbf941713e.png
            [latest_price] => 25000.00
            [created_at] => 2025-10-05 15:18:34
        )

    [3] => Array
        (
            [id] => 94
            [commodity_name] => Beras Premium - SJ
            [unit] => KG
            [image_path] => commodity_68dfc054a4de7.png
            [latest_price] => 12000.00
            [created_at] => 2025-10-04 11:06:44
        )

    [4] => Array
        (
            [id] => 84
            [commodity_name] => Cabai Rawit Lokal
            [unit] => KG
            [image_path] => commodity_68dfbf462d57c.png
            [latest_price] => 95000.00
            [created_at] => 2025-10-05 15:18:15
        )

    [5] => Array
        (
            [id] => 79
            [commodity_name] => Daging Ayam Kampung
            [unit] => KG
            [image_path] => commodity_68dfbee813246.png
            [latest_price] => 25500.00
            [created_at] => 2025-10-05 15:18:53
        )

    [6] => Array
        (
            [id] => 96
            [commodity_name] => Garam Halus
            [unit] => KG
            [image_path] => commodity_68dfc08a8320d.png
            [latest_price] => 9000.00
            [created_at] => 2025-10-07 08:57:47
        )

    [7] => Array
        (
            [id] => 112
            [commodity_name] => Timun (uk. Sedang)
            [unit] => KG
            [image_path] => commodity_68dfc2094a459.png
            [latest_price] => 15000.00
            [created_at] => 2025-10-07 08:57:21
        )

    [8] => Array
        (
            [id] => 111
            [commodity_name] => Tomat
            [unit] => KG
            [image_path] => commodity_68dfc1fee3486.png
            [latest_price] => 12000.00
            [created_at] => 2025-10-07 08:57:34
        )

)

[08-Oct-2025 16:41:58 UTC] Data komoditas ditemukan: 9 item
[08-Oct-2025 16:41:58 UTC] Sample data: Array
(
    [0] => Array
        (
            [id] => 87
            [commodity_name] => Bawang Bombay
            [unit] => KG
            [image_path] => commodity_68dfbfcbc270b.png
            [latest_price] => 20000.00
            [created_at] => 2025-10-08 16:26:13
        )

)

[08-Oct-2025 16:41:58 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[08-Oct-2025 16:41:58 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 16:41:58 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 16:41:58 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 16:41:58 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[08-Oct-2025 16:41:58 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 16:41:58 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 16:41:58 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 16:41:58 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[08-Oct-2025 16:41:58 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 16:41:58 UTC] getStablePrices found 0 results
[08-Oct-2025 16:46:51 UTC] Koneksi database berhasil
[08-Oct-2025 16:46:51 UTC] Jumlah data di tabel prices: 18
[08-Oct-2025 16:46:51 UTC] Jumlah data di tabel commodities: 44
[08-Oct-2025 16:46:51 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[08-Oct-2025 16:46:51 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 2
)

[08-Oct-2025 16:46:51 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 16:46:51 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 16:46:51 UTC] Hasil getTopIncreasingPrices: Array
(
)

[08-Oct-2025 16:46:51 UTC] Latest commodity prices query results: Array
(
    [0] => Array
        (
            [id] => 87
            [commodity_name] => Bawang Bombay
            [unit] => KG
            [image_path] => commodity_68dfbfcbc270b.png
            [latest_price] => 20000.00
            [created_at] => 2025-10-08 16:26:13
        )

    [1] => Array
        (
            [id] => 89
            [commodity_name] => Bawang Merah
            [unit] => KG
            [image_path] => commodity_68dfbfc0a703b.png
            [latest_price] => 40000.00
            [created_at] => 2025-10-07 16:45:26
        )

    [2] => Array
        (
            [id] => 86
            [commodity_name] => Bawang Putih Honan
            [unit] => KG
            [image_path] => commodity_68dfbf941713e.png
            [latest_price] => 25000.00
            [created_at] => 2025-10-05 15:18:34
        )

    [3] => Array
        (
            [id] => 94
            [commodity_name] => Beras Premium - SJ
            [unit] => KG
            [image_path] => commodity_68dfc054a4de7.png
            [latest_price] => 12000.00
            [created_at] => 2025-10-04 11:06:44
        )

    [4] => Array
        (
            [id] => 84
            [commodity_name] => Cabai Rawit Lokal
            [unit] => KG
            [image_path] => commodity_68dfbf462d57c.png
            [latest_price] => 95000.00
            [created_at] => 2025-10-05 15:18:15
        )

    [5] => Array
        (
            [id] => 79
            [commodity_name] => Daging Ayam Kampung
            [unit] => KG
            [image_path] => commodity_68dfbee813246.png
            [latest_price] => 25500.00
            [created_at] => 2025-10-05 15:18:53
        )

    [6] => Array
        (
            [id] => 96
            [commodity_name] => Garam Halus
            [unit] => KG
            [image_path] => commodity_68dfc08a8320d.png
            [latest_price] => 9000.00
            [created_at] => 2025-10-07 08:57:47
        )

    [7] => Array
        (
            [id] => 112
            [commodity_name] => Timun (uk. Sedang)
            [unit] => KG
            [image_path] => commodity_68dfc2094a459.png
            [latest_price] => 15000.00
            [created_at] => 2025-10-07 08:57:21
        )

    [8] => Array
        (
            [id] => 111
            [commodity_name] => Tomat
            [unit] => KG
            [image_path] => commodity_68dfc1fee3486.png
            [latest_price] => 12000.00
            [created_at] => 2025-10-07 08:57:34
        )

)

[08-Oct-2025 16:46:51 UTC] Data komoditas ditemukan: 9 item
[08-Oct-2025 16:46:51 UTC] Sample data: Array
(
    [0] => Array
        (
            [id] => 87
            [commodity_name] => Bawang Bombay
            [unit] => KG
            [image_path] => commodity_68dfbfcbc270b.png
            [latest_price] => 20000.00
            [created_at] => 2025-10-08 16:26:13
        )

)

[08-Oct-2025 16:46:51 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[08-Oct-2025 16:46:51 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 16:46:51 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 16:46:51 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 16:46:51 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[08-Oct-2025 16:46:51 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 16:46:51 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 16:46:51 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 16:46:51 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[08-Oct-2025 16:46:51 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 16:46:51 UTC] getStablePrices found 0 results
[08-Oct-2025 17:17:22 UTC] Koneksi database berhasil
[08-Oct-2025 17:17:22 UTC] Jumlah data di tabel prices: 18
[08-Oct-2025 17:17:22 UTC] Jumlah data di tabel commodities: 44
[08-Oct-2025 17:17:22 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[08-Oct-2025 17:17:22 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 2
)

[08-Oct-2025 17:17:22 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 17:17:22 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 17:17:22 UTC] Hasil getTopIncreasingPrices: Array
(
)

[08-Oct-2025 17:17:22 UTC] Latest commodity prices query results: Array
(
    [0] => Array
        (
            [id] => 87
            [commodity_name] => Bawang Bombay
            [unit] => KG
            [image_path] => commodity_68dfbfcbc270b.png
            [latest_price] => 20000.00
            [created_at] => 2025-10-08 16:26:13
        )

    [1] => Array
        (
            [id] => 89
            [commodity_name] => Bawang Merah
            [unit] => KG
            [image_path] => commodity_68dfbfc0a703b.png
            [latest_price] => 40000.00
            [created_at] => 2025-10-07 16:45:26
        )

    [2] => Array
        (
            [id] => 86
            [commodity_name] => Bawang Putih Honan
            [unit] => KG
            [image_path] => commodity_68dfbf941713e.png
            [latest_price] => 25000.00
            [created_at] => 2025-10-05 15:18:34
        )

    [3] => Array
        (
            [id] => 94
            [commodity_name] => Beras Premium - SJ
            [unit] => KG
            [image_path] => commodity_68dfc054a4de7.png
            [latest_price] => 12000.00
            [created_at] => 2025-10-04 11:06:44
        )

    [4] => Array
        (
            [id] => 84
            [commodity_name] => Cabai Rawit Lokal
            [unit] => KG
            [image_path] => commodity_68dfbf462d57c.png
            [latest_price] => 95000.00
            [created_at] => 2025-10-05 15:18:15
        )

    [5] => Array
        (
            [id] => 79
            [commodity_name] => Daging Ayam Kampung
            [unit] => KG
            [image_path] => commodity_68dfbee813246.png
            [latest_price] => 25500.00
            [created_at] => 2025-10-05 15:18:53
        )

    [6] => Array
        (
            [id] => 96
            [commodity_name] => Garam Halus
            [unit] => KG
            [image_path] => commodity_68dfc08a8320d.png
            [latest_price] => 9000.00
            [created_at] => 2025-10-07 08:57:47
        )

    [7] => Array
        (
            [id] => 112
            [commodity_name] => Timun (uk. Sedang)
            [unit] => KG
            [image_path] => commodity_68dfc2094a459.png
            [latest_price] => 15000.00
            [created_at] => 2025-10-07 08:57:21
        )

    [8] => Array
        (
            [id] => 111
            [commodity_name] => Tomat
            [unit] => KG
            [image_path] => commodity_68dfc1fee3486.png
            [latest_price] => 12000.00
            [created_at] => 2025-10-07 08:57:34
        )

)

[08-Oct-2025 17:17:22 UTC] Data komoditas ditemukan: 9 item
[08-Oct-2025 17:17:22 UTC] Sample data: Array
(
    [0] => Array
        (
            [id] => 87
            [commodity_name] => Bawang Bombay
            [unit] => KG
            [image_path] => commodity_68dfbfcbc270b.png
            [latest_price] => 20000.00
            [created_at] => 2025-10-08 16:26:13
        )

)

[08-Oct-2025 17:17:22 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[08-Oct-2025 17:17:22 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 17:17:22 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 17:17:22 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 17:17:22 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[08-Oct-2025 17:17:22 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 17:17:22 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 17:17:22 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 17:17:22 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[08-Oct-2025 17:17:22 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 17:17:22 UTC] getStablePrices found 0 results
[08-Oct-2025 17:29:58 UTC] Koneksi database berhasil
[08-Oct-2025 17:29:58 UTC] Jumlah data di tabel prices: 18
[08-Oct-2025 17:29:58 UTC] Jumlah data di tabel commodities: 44
[08-Oct-2025 17:29:58 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[08-Oct-2025 17:29:58 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 2
)

[08-Oct-2025 17:29:58 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 17:29:58 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 17:29:58 UTC] Hasil getTopIncreasingPrices: Array
(
)

[08-Oct-2025 17:29:58 UTC] Latest commodity prices query results: Array
(
    [0] => Array
        (
            [id] => 87
            [commodity_name] => Bawang Bombay
            [unit] => KG
            [image_path] => commodity_68dfbfcbc270b.png
            [latest_price] => 20000.00
            [created_at] => 2025-10-08 16:26:13
        )

    [1] => Array
        (
            [id] => 89
            [commodity_name] => Bawang Merah
            [unit] => KG
            [image_path] => commodity_68dfbfc0a703b.png
            [latest_price] => 40000.00
            [created_at] => 2025-10-07 16:45:26
        )

    [2] => Array
        (
            [id] => 86
            [commodity_name] => Bawang Putih Honan
            [unit] => KG
            [image_path] => commodity_68dfbf941713e.png
            [latest_price] => 25000.00
            [created_at] => 2025-10-05 15:18:34
        )

    [3] => Array
        (
            [id] => 94
            [commodity_name] => Beras Premium - SJ
            [unit] => KG
            [image_path] => commodity_68dfc054a4de7.png
            [latest_price] => 12000.00
            [created_at] => 2025-10-04 11:06:44
        )

    [4] => Array
        (
            [id] => 84
            [commodity_name] => Cabai Rawit Lokal
            [unit] => KG
            [image_path] => commodity_68dfbf462d57c.png
            [latest_price] => 95000.00
            [created_at] => 2025-10-05 15:18:15
        )

    [5] => Array
        (
            [id] => 79
            [commodity_name] => Daging Ayam Kampung
            [unit] => KG
            [image_path] => commodity_68dfbee813246.png
            [latest_price] => 25500.00
            [created_at] => 2025-10-05 15:18:53
        )

    [6] => Array
        (
            [id] => 96
            [commodity_name] => Garam Halus
            [unit] => KG
            [image_path] => commodity_68dfc08a8320d.png
            [latest_price] => 9000.00
            [created_at] => 2025-10-07 08:57:47
        )

    [7] => Array
        (
            [id] => 112
            [commodity_name] => Timun (uk. Sedang)
            [unit] => KG
            [image_path] => commodity_68dfc2094a459.png
            [latest_price] => 15000.00
            [created_at] => 2025-10-07 08:57:21
        )

    [8] => Array
        (
            [id] => 111
            [commodity_name] => Tomat
            [unit] => KG
            [image_path] => commodity_68dfc1fee3486.png
            [latest_price] => 12000.00
            [created_at] => 2025-10-07 08:57:34
        )

)

[08-Oct-2025 17:29:58 UTC] Data komoditas ditemukan: 9 item
[08-Oct-2025 17:29:58 UTC] Sample data: Array
(
    [0] => Array
        (
            [id] => 87
            [commodity_name] => Bawang Bombay
            [unit] => KG
            [image_path] => commodity_68dfbfcbc270b.png
            [latest_price] => 20000.00
            [created_at] => 2025-10-08 16:26:13
        )

)

[08-Oct-2025 17:29:58 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[08-Oct-2025 17:29:58 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 17:29:58 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 17:29:58 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 17:29:58 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[08-Oct-2025 17:29:58 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 17:29:58 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 17:29:58 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 17:29:58 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[08-Oct-2025 17:29:58 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 17:29:58 UTC] getStablePrices found 0 results
[08-Oct-2025 17:30:10 UTC] Koneksi database berhasil
[08-Oct-2025 17:30:10 UTC] Jumlah data di tabel prices: 18
[08-Oct-2025 17:30:10 UTC] Jumlah data di tabel commodities: 44
[08-Oct-2025 17:30:10 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[08-Oct-2025 17:30:10 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 2
)

[08-Oct-2025 17:30:10 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 17:30:10 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 17:30:10 UTC] Hasil getTopIncreasingPrices: Array
(
)

[08-Oct-2025 17:30:10 UTC] Latest commodity prices query results: Array
(
    [0] => Array
        (
            [id] => 87
            [commodity_name] => Bawang Bombay
            [unit] => KG
            [image_path] => commodity_68dfbfcbc270b.png
            [latest_price] => 20000.00
            [created_at] => 2025-10-08 16:26:13
        )

    [1] => Array
        (
            [id] => 89
            [commodity_name] => Bawang Merah
            [unit] => KG
            [image_path] => commodity_68dfbfc0a703b.png
            [latest_price] => 40000.00
            [created_at] => 2025-10-07 16:45:26
        )

    [2] => Array
        (
            [id] => 86
            [commodity_name] => Bawang Putih Honan
            [unit] => KG
            [image_path] => commodity_68dfbf941713e.png
            [latest_price] => 25000.00
            [created_at] => 2025-10-05 15:18:34
        )

    [3] => Array
        (
            [id] => 94
            [commodity_name] => Beras Premium - SJ
            [unit] => KG
            [image_path] => commodity_68dfc054a4de7.png
            [latest_price] => 12000.00
            [created_at] => 2025-10-04 11:06:44
        )

    [4] => Array
        (
            [id] => 84
            [commodity_name] => Cabai Rawit Lokal
            [unit] => KG
            [image_path] => commodity_68dfbf462d57c.png
            [latest_price] => 95000.00
            [created_at] => 2025-10-05 15:18:15
        )

    [5] => Array
        (
            [id] => 79
            [commodity_name] => Daging Ayam Kampung
            [unit] => KG
            [image_path] => commodity_68dfbee813246.png
            [latest_price] => 25500.00
            [created_at] => 2025-10-05 15:18:53
        )

    [6] => Array
        (
            [id] => 96
            [commodity_name] => Garam Halus
            [unit] => KG
            [image_path] => commodity_68dfc08a8320d.png
            [latest_price] => 9000.00
            [created_at] => 2025-10-07 08:57:47
        )

    [7] => Array
        (
            [id] => 112
            [commodity_name] => Timun (uk. Sedang)
            [unit] => KG
            [image_path] => commodity_68dfc2094a459.png
            [latest_price] => 15000.00
            [created_at] => 2025-10-07 08:57:21
        )

    [8] => Array
        (
            [id] => 111
            [commodity_name] => Tomat
            [unit] => KG
            [image_path] => commodity_68dfc1fee3486.png
            [latest_price] => 12000.00
            [created_at] => 2025-10-07 08:57:34
        )

)

[08-Oct-2025 17:30:10 UTC] Data komoditas ditemukan: 9 item
[08-Oct-2025 17:30:10 UTC] Sample data: Array
(
    [0] => Array
        (
            [id] => 87
            [commodity_name] => Bawang Bombay
            [unit] => KG
            [image_path] => commodity_68dfbfcbc270b.png
            [latest_price] => 20000.00
            [created_at] => 2025-10-08 16:26:13
        )

)

[08-Oct-2025 17:30:10 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[08-Oct-2025 17:30:10 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 17:30:10 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 17:30:10 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 17:30:10 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[08-Oct-2025 17:30:10 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 17:30:10 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 17:30:10 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 17:30:10 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[08-Oct-2025 17:30:10 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 17:30:10 UTC] getStablePrices found 0 results
[08-Oct-2025 17:30:14 UTC] Koneksi database berhasil
[08-Oct-2025 17:30:14 UTC] Jumlah data di tabel prices: 18
[08-Oct-2025 17:30:14 UTC] Jumlah data di tabel commodities: 44
[08-Oct-2025 17:30:14 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[08-Oct-2025 17:30:14 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 2
)

[08-Oct-2025 17:30:14 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 17:30:14 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 17:30:14 UTC] Hasil getTopIncreasingPrices: Array
(
)

[08-Oct-2025 17:30:14 UTC] Latest commodity prices query results: Array
(
    [0] => Array
        (
            [id] => 87
            [commodity_name] => Bawang Bombay
            [unit] => KG
            [image_path] => commodity_68dfbfcbc270b.png
            [latest_price] => 20000.00
            [created_at] => 2025-10-08 16:26:13
        )

    [1] => Array
        (
            [id] => 89
            [commodity_name] => Bawang Merah
            [unit] => KG
            [image_path] => commodity_68dfbfc0a703b.png
            [latest_price] => 40000.00
            [created_at] => 2025-10-07 16:45:26
        )

    [2] => Array
        (
            [id] => 86
            [commodity_name] => Bawang Putih Honan
            [unit] => KG
            [image_path] => commodity_68dfbf941713e.png
            [latest_price] => 25000.00
            [created_at] => 2025-10-05 15:18:34
        )

    [3] => Array
        (
            [id] => 94
            [commodity_name] => Beras Premium - SJ
            [unit] => KG
            [image_path] => commodity_68dfc054a4de7.png
            [latest_price] => 12000.00
            [created_at] => 2025-10-04 11:06:44
        )

    [4] => Array
        (
            [id] => 84
            [commodity_name] => Cabai Rawit Lokal
            [unit] => KG
            [image_path] => commodity_68dfbf462d57c.png
            [latest_price] => 95000.00
            [created_at] => 2025-10-05 15:18:15
        )

    [5] => Array
        (
            [id] => 79
            [commodity_name] => Daging Ayam Kampung
            [unit] => KG
            [image_path] => commodity_68dfbee813246.png
            [latest_price] => 25500.00
            [created_at] => 2025-10-05 15:18:53
        )

    [6] => Array
        (
            [id] => 96
            [commodity_name] => Garam Halus
            [unit] => KG
            [image_path] => commodity_68dfc08a8320d.png
            [latest_price] => 9000.00
            [created_at] => 2025-10-07 08:57:47
        )

    [7] => Array
        (
            [id] => 112
            [commodity_name] => Timun (uk. Sedang)
            [unit] => KG
            [image_path] => commodity_68dfc2094a459.png
            [latest_price] => 15000.00
            [created_at] => 2025-10-07 08:57:21
        )

    [8] => Array
        (
            [id] => 111
            [commodity_name] => Tomat
            [unit] => KG
            [image_path] => commodity_68dfc1fee3486.png
            [latest_price] => 12000.00
            [created_at] => 2025-10-07 08:57:34
        )

)

[08-Oct-2025 17:30:14 UTC] Data komoditas ditemukan: 9 item
[08-Oct-2025 17:30:14 UTC] Sample data: Array
(
    [0] => Array
        (
            [id] => 87
            [commodity_name] => Bawang Bombay
            [unit] => KG
            [image_path] => commodity_68dfbfcbc270b.png
            [latest_price] => 20000.00
            [created_at] => 2025-10-08 16:26:13
        )

)

[08-Oct-2025 17:30:14 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[08-Oct-2025 17:30:14 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 17:30:14 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 17:30:14 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 17:30:14 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[08-Oct-2025 17:30:14 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 17:30:14 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 17:30:14 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 17:30:14 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[08-Oct-2025 17:30:14 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 17:30:14 UTC] getStablePrices found 0 results
[08-Oct-2025 17:40:13 UTC] Latest commodity prices query results: Array
(
    [0] => Array
        (
            [id] => 87
            [commodity_name] => Bawang Bombay
            [unit] => KG
            [image_path] => commodity_68dfbfcbc270b.png
            [latest_price] => 20000.00
            [created_at] => 2025-10-08 16:26:13
        )

    [1] => Array
        (
            [id] => 89
            [commodity_name] => Bawang Merah
            [unit] => KG
            [image_path] => commodity_68dfbfc0a703b.png
            [latest_price] => 40000.00
            [created_at] => 2025-10-07 16:45:26
        )

    [2] => Array
        (
            [id] => 86
            [commodity_name] => Bawang Putih Honan
            [unit] => KG
            [image_path] => commodity_68dfbf941713e.png
            [latest_price] => 25000.00
            [created_at] => 2025-10-05 15:18:34
        )

    [3] => Array
        (
            [id] => 94
            [commodity_name] => Beras Premium - SJ
            [unit] => KG
            [image_path] => commodity_68dfc054a4de7.png
            [latest_price] => 12000.00
            [created_at] => 2025-10-04 11:06:44
        )

    [4] => Array
        (
            [id] => 84
            [commodity_name] => Cabai Rawit Lokal
            [unit] => KG
            [image_path] => commodity_68dfbf462d57c.png
            [latest_price] => 95000.00
            [created_at] => 2025-10-05 15:18:15
        )

    [5] => Array
        (
            [id] => 79
            [commodity_name] => Daging Ayam Kampung
            [unit] => KG
            [image_path] => commodity_68dfbee813246.png
            [latest_price] => 25500.00
            [created_at] => 2025-10-05 15:18:53
        )

    [6] => Array
        (
            [id] => 96
            [commodity_name] => Garam Halus
            [unit] => KG
            [image_path] => commodity_68dfc08a8320d.png
            [latest_price] => 9000.00
            [created_at] => 2025-10-07 08:57:47
        )

    [7] => Array
        (
            [id] => 112
            [commodity_name] => Timun (uk. Sedang)
            [unit] => KG
            [image_path] => commodity_68dfc2094a459.png
            [latest_price] => 15000.00
            [created_at] => 2025-10-07 08:57:21
        )

    [8] => Array
        (
            [id] => 111
            [commodity_name] => Tomat
            [unit] => KG
            [image_path] => commodity_68dfc1fee3486.png
            [latest_price] => 12000.00
            [created_at] => 2025-10-07 08:57:34
        )

)

[08-Oct-2025 17:40:13 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[08-Oct-2025 17:40:13 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 17:40:13 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 17:40:13 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 17:40:13 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[08-Oct-2025 17:40:13 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 17:40:13 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 17:40:13 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 17:40:13 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[08-Oct-2025 17:40:13 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 17:40:13 UTC] getStablePrices found 0 results
[08-Oct-2025 17:40:26 UTC] Latest commodity prices query results: Array
(
    [0] => Array
        (
            [id] => 87
            [commodity_name] => Bawang Bombay
            [unit] => KG
            [image_path] => commodity_68dfbfcbc270b.png
            [latest_price] => 20000.00
            [created_at] => 2025-10-08 16:26:13
        )

    [1] => Array
        (
            [id] => 89
            [commodity_name] => Bawang Merah
            [unit] => KG
            [image_path] => commodity_68dfbfc0a703b.png
            [latest_price] => 40000.00
            [created_at] => 2025-10-07 16:45:26
        )

    [2] => Array
        (
            [id] => 86
            [commodity_name] => Bawang Putih Honan
            [unit] => KG
            [image_path] => commodity_68dfbf941713e.png
            [latest_price] => 25000.00
            [created_at] => 2025-10-05 15:18:34
        )

    [3] => Array
        (
            [id] => 94
            [commodity_name] => Beras Premium - SJ
            [unit] => KG
            [image_path] => commodity_68dfc054a4de7.png
            [latest_price] => 12000.00
            [created_at] => 2025-10-04 11:06:44
        )

    [4] => Array
        (
            [id] => 84
            [commodity_name] => Cabai Rawit Lokal
            [unit] => KG
            [image_path] => commodity_68dfbf462d57c.png
            [latest_price] => 95000.00
            [created_at] => 2025-10-05 15:18:15
        )

    [5] => Array
        (
            [id] => 79
            [commodity_name] => Daging Ayam Kampung
            [unit] => KG
            [image_path] => commodity_68dfbee813246.png
            [latest_price] => 25500.00
            [created_at] => 2025-10-05 15:18:53
        )

    [6] => Array
        (
            [id] => 96
            [commodity_name] => Garam Halus
            [unit] => KG
            [image_path] => commodity_68dfc08a8320d.png
            [latest_price] => 9000.00
            [created_at] => 2025-10-07 08:57:47
        )

    [7] => Array
        (
            [id] => 112
            [commodity_name] => Timun (uk. Sedang)
            [unit] => KG
            [image_path] => commodity_68dfc2094a459.png
            [latest_price] => 15000.00
            [created_at] => 2025-10-07 08:57:21
        )

    [8] => Array
        (
            [id] => 111
            [commodity_name] => Tomat
            [unit] => KG
            [image_path] => commodity_68dfc1fee3486.png
            [latest_price] => 12000.00
            [created_at] => 2025-10-07 08:57:34
        )

)

[08-Oct-2025 17:40:26 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[08-Oct-2025 17:40:26 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 17:40:26 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 17:40:26 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 17:40:26 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[08-Oct-2025 17:40:26 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 17:40:26 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 17:40:26 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 17:40:26 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[08-Oct-2025 17:40:26 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 17:40:26 UTC] getStablePrices found 0 results
[08-Oct-2025 17:40:27 UTC] Latest commodity prices query results: Array
(
    [0] => Array
        (
            [id] => 87
            [commodity_name] => Bawang Bombay
            [unit] => KG
            [image_path] => commodity_68dfbfcbc270b.png
            [latest_price] => 20000.00
            [created_at] => 2025-10-08 16:26:13
        )

    [1] => Array
        (
            [id] => 89
            [commodity_name] => Bawang Merah
            [unit] => KG
            [image_path] => commodity_68dfbfc0a703b.png
            [latest_price] => 40000.00
            [created_at] => 2025-10-07 16:45:26
        )

    [2] => Array
        (
            [id] => 86
            [commodity_name] => Bawang Putih Honan
            [unit] => KG
            [image_path] => commodity_68dfbf941713e.png
            [latest_price] => 25000.00
            [created_at] => 2025-10-05 15:18:34
        )

    [3] => Array
        (
            [id] => 94
            [commodity_name] => Beras Premium - SJ
            [unit] => KG
            [image_path] => commodity_68dfc054a4de7.png
            [latest_price] => 12000.00
            [created_at] => 2025-10-04 11:06:44
        )

    [4] => Array
        (
            [id] => 84
            [commodity_name] => Cabai Rawit Lokal
            [unit] => KG
            [image_path] => commodity_68dfbf462d57c.png
            [latest_price] => 95000.00
            [created_at] => 2025-10-05 15:18:15
        )

    [5] => Array
        (
            [id] => 79
            [commodity_name] => Daging Ayam Kampung
            [unit] => KG
            [image_path] => commodity_68dfbee813246.png
            [latest_price] => 25500.00
            [created_at] => 2025-10-05 15:18:53
        )

    [6] => Array
        (
            [id] => 96
            [commodity_name] => Garam Halus
            [unit] => KG
            [image_path] => commodity_68dfc08a8320d.png
            [latest_price] => 9000.00
            [created_at] => 2025-10-07 08:57:47
        )

    [7] => Array
        (
            [id] => 112
            [commodity_name] => Timun (uk. Sedang)
            [unit] => KG
            [image_path] => commodity_68dfc2094a459.png
            [latest_price] => 15000.00
            [created_at] => 2025-10-07 08:57:21
        )

    [8] => Array
        (
            [id] => 111
            [commodity_name] => Tomat
            [unit] => KG
            [image_path] => commodity_68dfc1fee3486.png
            [latest_price] => 12000.00
            [created_at] => 2025-10-07 08:57:34
        )

)

[08-Oct-2025 17:40:27 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[08-Oct-2025 17:40:27 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 17:40:27 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 17:40:27 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 17:40:27 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[08-Oct-2025 17:40:27 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 17:40:27 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 17:40:27 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 17:40:27 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[08-Oct-2025 17:40:27 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 17:40:27 UTC] getStablePrices found 0 results
[08-Oct-2025 17:42:36 UTC] Latest commodity prices query results: Array
(
    [0] => Array
        (
            [id] => 87
            [commodity_name] => Bawang Bombay
            [unit] => KG
            [image_path] => commodity_68dfbfcbc270b.png
            [latest_price] => 20000.00
            [created_at] => 2025-10-08 16:26:13
        )

    [1] => Array
        (
            [id] => 89
            [commodity_name] => Bawang Merah
            [unit] => KG
            [image_path] => commodity_68dfbfc0a703b.png
            [latest_price] => 40000.00
            [created_at] => 2025-10-07 16:45:26
        )

    [2] => Array
        (
            [id] => 86
            [commodity_name] => Bawang Putih Honan
            [unit] => KG
            [image_path] => commodity_68dfbf941713e.png
            [latest_price] => 25000.00
            [created_at] => 2025-10-05 15:18:34
        )

    [3] => Array
        (
            [id] => 94
            [commodity_name] => Beras Premium - SJ
            [unit] => KG
            [image_path] => commodity_68dfc054a4de7.png
            [latest_price] => 12000.00
            [created_at] => 2025-10-04 11:06:44
        )

    [4] => Array
        (
            [id] => 84
            [commodity_name] => Cabai Rawit Lokal
            [unit] => KG
            [image_path] => commodity_68dfbf462d57c.png
            [latest_price] => 95000.00
            [created_at] => 2025-10-05 15:18:15
        )

    [5] => Array
        (
            [id] => 79
            [commodity_name] => Daging Ayam Kampung
            [unit] => KG
            [image_path] => commodity_68dfbee813246.png
            [latest_price] => 25500.00
            [created_at] => 2025-10-05 15:18:53
        )

    [6] => Array
        (
            [id] => 96
            [commodity_name] => Garam Halus
            [unit] => KG
            [image_path] => commodity_68dfc08a8320d.png
            [latest_price] => 9000.00
            [created_at] => 2025-10-07 08:57:47
        )

    [7] => Array
        (
            [id] => 112
            [commodity_name] => Timun (uk. Sedang)
            [unit] => KG
            [image_path] => commodity_68dfc2094a459.png
            [latest_price] => 15000.00
            [created_at] => 2025-10-07 08:57:21
        )

    [8] => Array
        (
            [id] => 111
            [commodity_name] => Tomat
            [unit] => KG
            [image_path] => commodity_68dfc1fee3486.png
            [latest_price] => 12000.00
            [created_at] => 2025-10-07 08:57:34
        )

)

[08-Oct-2025 17:42:36 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[08-Oct-2025 17:42:36 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 17:42:36 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 17:42:36 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 17:42:36 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[08-Oct-2025 17:42:36 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 17:42:36 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 17:42:36 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 17:42:36 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[08-Oct-2025 17:42:36 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 17:42:36 UTC] getStablePrices found 0 results
[08-Oct-2025 17:42:46 UTC] Latest commodity prices query results: Array
(
    [0] => Array
        (
            [id] => 87
            [commodity_name] => Bawang Bombay
            [unit] => KG
            [image_path] => commodity_68dfbfcbc270b.png
            [latest_price] => 20000.00
            [created_at] => 2025-10-08 16:26:13
        )

    [1] => Array
        (
            [id] => 89
            [commodity_name] => Bawang Merah
            [unit] => KG
            [image_path] => commodity_68dfbfc0a703b.png
            [latest_price] => 40000.00
            [created_at] => 2025-10-07 16:45:26
        )

    [2] => Array
        (
            [id] => 86
            [commodity_name] => Bawang Putih Honan
            [unit] => KG
            [image_path] => commodity_68dfbf941713e.png
            [latest_price] => 25000.00
            [created_at] => 2025-10-05 15:18:34
        )

    [3] => Array
        (
            [id] => 94
            [commodity_name] => Beras Premium - SJ
            [unit] => KG
            [image_path] => commodity_68dfc054a4de7.png
            [latest_price] => 12000.00
            [created_at] => 2025-10-04 11:06:44
        )

    [4] => Array
        (
            [id] => 84
            [commodity_name] => Cabai Rawit Lokal
            [unit] => KG
            [image_path] => commodity_68dfbf462d57c.png
            [latest_price] => 95000.00
            [created_at] => 2025-10-05 15:18:15
        )

    [5] => Array
        (
            [id] => 79
            [commodity_name] => Daging Ayam Kampung
            [unit] => KG
            [image_path] => commodity_68dfbee813246.png
            [latest_price] => 25500.00
            [created_at] => 2025-10-05 15:18:53
        )

    [6] => Array
        (
            [id] => 96
            [commodity_name] => Garam Halus
            [unit] => KG
            [image_path] => commodity_68dfc08a8320d.png
            [latest_price] => 9000.00
            [created_at] => 2025-10-07 08:57:47
        )

    [7] => Array
        (
            [id] => 112
            [commodity_name] => Timun (uk. Sedang)
            [unit] => KG
            [image_path] => commodity_68dfc2094a459.png
            [latest_price] => 15000.00
            [created_at] => 2025-10-07 08:57:21
        )

    [8] => Array
        (
            [id] => 111
            [commodity_name] => Tomat
            [unit] => KG
            [image_path] => commodity_68dfc1fee3486.png
            [latest_price] => 12000.00
            [created_at] => 2025-10-07 08:57:34
        )

)

[08-Oct-2025 17:42:46 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[08-Oct-2025 17:42:46 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 17:42:46 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 17:42:46 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 17:42:46 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[08-Oct-2025 17:42:46 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 17:42:46 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 17:42:46 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 17:42:46 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[08-Oct-2025 17:42:46 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 17:42:46 UTC] getStablePrices found 0 results
[08-Oct-2025 17:45:09 UTC] Latest commodity prices query results: Array
(
    [0] => Array
        (
            [id] => 87
            [commodity_name] => Bawang Bombay
            [unit] => KG
            [image_path] => commodity_68dfbfcbc270b.png
            [latest_price] => 20000.00
            [created_at] => 2025-10-08 16:26:13
        )

    [1] => Array
        (
            [id] => 89
            [commodity_name] => Bawang Merah
            [unit] => KG
            [image_path] => commodity_68dfbfc0a703b.png
            [latest_price] => 40000.00
            [created_at] => 2025-10-07 16:45:26
        )

    [2] => Array
        (
            [id] => 86
            [commodity_name] => Bawang Putih Honan
            [unit] => KG
            [image_path] => commodity_68dfbf941713e.png
            [latest_price] => 25000.00
            [created_at] => 2025-10-05 15:18:34
        )

    [3] => Array
        (
            [id] => 94
            [commodity_name] => Beras Premium - SJ
            [unit] => KG
            [image_path] => commodity_68dfc054a4de7.png
            [latest_price] => 12000.00
            [created_at] => 2025-10-04 11:06:44
        )

    [4] => Array
        (
            [id] => 84
            [commodity_name] => Cabai Rawit Lokal
            [unit] => KG
            [image_path] => commodity_68dfbf462d57c.png
            [latest_price] => 95000.00
            [created_at] => 2025-10-05 15:18:15
        )

    [5] => Array
        (
            [id] => 79
            [commodity_name] => Daging Ayam Kampung
            [unit] => KG
            [image_path] => commodity_68dfbee813246.png
            [latest_price] => 25500.00
            [created_at] => 2025-10-05 15:18:53
        )

    [6] => Array
        (
            [id] => 96
            [commodity_name] => Garam Halus
            [unit] => KG
            [image_path] => commodity_68dfc08a8320d.png
            [latest_price] => 9000.00
            [created_at] => 2025-10-07 08:57:47
        )

    [7] => Array
        (
            [id] => 112
            [commodity_name] => Timun (uk. Sedang)
            [unit] => KG
            [image_path] => commodity_68dfc2094a459.png
            [latest_price] => 15000.00
            [created_at] => 2025-10-07 08:57:21
        )

    [8] => Array
        (
            [id] => 111
            [commodity_name] => Tomat
            [unit] => KG
            [image_path] => commodity_68dfc1fee3486.png
            [latest_price] => 12000.00
            [created_at] => 2025-10-07 08:57:34
        )

)

[08-Oct-2025 17:45:09 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[08-Oct-2025 17:45:09 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 17:45:09 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 17:45:09 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 17:45:09 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[08-Oct-2025 17:45:09 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 17:45:09 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 17:45:09 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 17:45:09 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[08-Oct-2025 17:45:09 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 17:45:09 UTC] getStablePrices found 0 results
[08-Oct-2025 18:14:33 UTC] Latest commodity prices query results: Array
(
    [0] => Array
        (
            [id] => 87
            [commodity_name] => Bawang Bombay
            [unit] => KG
            [image_path] => commodity_68dfbfcbc270b.png
            [latest_price] => 20000.00
            [created_at] => 2025-10-08 16:26:13
        )

    [1] => Array
        (
            [id] => 89
            [commodity_name] => Bawang Merah
            [unit] => KG
            [image_path] => commodity_68dfbfc0a703b.png
            [latest_price] => 40000.00
            [created_at] => 2025-10-07 16:45:26
        )

    [2] => Array
        (
            [id] => 86
            [commodity_name] => Bawang Putih Honan
            [unit] => KG
            [image_path] => commodity_68dfbf941713e.png
            [latest_price] => 25000.00
            [created_at] => 2025-10-05 15:18:34
        )

    [3] => Array
        (
            [id] => 94
            [commodity_name] => Beras Premium - SJ
            [unit] => KG
            [image_path] => commodity_68dfc054a4de7.png
            [latest_price] => 12000.00
            [created_at] => 2025-10-04 11:06:44
        )

    [4] => Array
        (
            [id] => 84
            [commodity_name] => Cabai Rawit Lokal
            [unit] => KG
            [image_path] => commodity_68dfbf462d57c.png
            [latest_price] => 95000.00
            [created_at] => 2025-10-05 15:18:15
        )

    [5] => Array
        (
            [id] => 79
            [commodity_name] => Daging Ayam Kampung
            [unit] => KG
            [image_path] => commodity_68dfbee813246.png
            [latest_price] => 25500.00
            [created_at] => 2025-10-05 15:18:53
        )

    [6] => Array
        (
            [id] => 96
            [commodity_name] => Garam Halus
            [unit] => KG
            [image_path] => commodity_68dfc08a8320d.png
            [latest_price] => 9000.00
            [created_at] => 2025-10-07 08:57:47
        )

    [7] => Array
        (
            [id] => 112
            [commodity_name] => Timun (uk. Sedang)
            [unit] => KG
            [image_path] => commodity_68dfc2094a459.png
            [latest_price] => 15000.00
            [created_at] => 2025-10-07 08:57:21
        )

    [8] => Array
        (
            [id] => 111
            [commodity_name] => Tomat
            [unit] => KG
            [image_path] => commodity_68dfc1fee3486.png
            [latest_price] => 12000.00
            [created_at] => 2025-10-07 08:57:34
        )

)

[08-Oct-2025 18:14:33 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[08-Oct-2025 18:14:33 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 18:14:33 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 18:14:33 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 18:14:33 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[08-Oct-2025 18:14:33 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 18:14:33 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 18:14:33 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 18:14:33 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[08-Oct-2025 18:14:33 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 18:14:33 UTC] getStablePrices found 0 results
[08-Oct-2025 18:22:02 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[08-Oct-2025 18:22:02 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 18:22:02 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 18:22:02 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 18:22:02 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[08-Oct-2025 18:22:02 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 18:22:02 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 18:22:02 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 18:22:02 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[08-Oct-2025 18:22:02 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 18:22:02 UTC] getStablePrices found 0 results
[08-Oct-2025 18:22:02 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 539
[08-Oct-2025 18:22:02 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 539
[08-Oct-2025 18:22:02 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 539
[08-Oct-2025 18:22:02 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 539
[08-Oct-2025 18:22:02 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 539
[08-Oct-2025 18:22:02 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 539
[08-Oct-2025 18:22:02 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 539
[08-Oct-2025 18:22:02 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 539
[08-Oct-2025 18:22:02 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 539
[08-Oct-2025 18:22:02 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 539
[08-Oct-2025 18:22:02 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 539
[08-Oct-2025 18:22:02 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 539
[08-Oct-2025 18:22:02 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 539
[08-Oct-2025 18:22:02 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 539
[08-Oct-2025 18:22:02 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 539
[08-Oct-2025 18:22:02 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 539
[08-Oct-2025 18:22:02 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 539
[08-Oct-2025 18:22:02 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 539
[08-Oct-2025 18:22:02 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 539
[08-Oct-2025 18:22:02 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 539
[08-Oct-2025 18:22:02 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 539
[08-Oct-2025 18:22:02 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 539
[08-Oct-2025 18:22:02 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 539
[08-Oct-2025 18:22:02 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 539
[08-Oct-2025 18:22:02 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 539
[08-Oct-2025 18:22:02 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 539
[08-Oct-2025 18:22:02 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 539
[08-Oct-2025 18:22:02 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 539
[08-Oct-2025 18:22:02 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 539
[08-Oct-2025 18:22:02 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 539
[08-Oct-2025 18:22:02 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 539
[08-Oct-2025 18:22:02 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 539
[08-Oct-2025 18:22:02 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 539
[08-Oct-2025 18:22:02 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 539
[08-Oct-2025 18:22:02 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 539
[08-Oct-2025 18:22:02 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 539
[08-Oct-2025 18:22:02 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 539
[08-Oct-2025 18:22:02 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 539
[08-Oct-2025 18:22:02 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 539
[08-Oct-2025 18:22:02 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 539
[08-Oct-2025 18:22:02 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 539
[08-Oct-2025 18:22:02 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 539
[08-Oct-2025 18:22:02 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 539
[08-Oct-2025 18:22:31 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[08-Oct-2025 18:22:31 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 18:22:31 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 18:22:31 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 18:22:31 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[08-Oct-2025 18:22:31 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 18:22:31 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 18:22:31 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 18:22:31 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[08-Oct-2025 18:22:31 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 18:22:31 UTC] getStablePrices found 0 results
[08-Oct-2025 18:22:31 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 539
[08-Oct-2025 18:22:31 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 539
[08-Oct-2025 18:22:31 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 539
[08-Oct-2025 18:22:31 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 539
[08-Oct-2025 18:22:31 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 539
[08-Oct-2025 18:22:31 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 539
[08-Oct-2025 18:22:31 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 539
[08-Oct-2025 18:22:31 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 539
[08-Oct-2025 18:22:31 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 539
[08-Oct-2025 18:22:31 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 539
[08-Oct-2025 18:22:31 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 539
[08-Oct-2025 18:22:31 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 539
[08-Oct-2025 18:22:31 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 539
[08-Oct-2025 18:22:31 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 539
[08-Oct-2025 18:22:31 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 539
[08-Oct-2025 18:22:31 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 539
[08-Oct-2025 18:22:31 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 539
[08-Oct-2025 18:22:31 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 539
[08-Oct-2025 18:22:31 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 539
[08-Oct-2025 18:22:31 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 539
[08-Oct-2025 18:22:31 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 539
[08-Oct-2025 18:22:31 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 539
[08-Oct-2025 18:22:31 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 539
[08-Oct-2025 18:22:31 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 539
[08-Oct-2025 18:22:31 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 539
[08-Oct-2025 18:22:31 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 539
[08-Oct-2025 18:22:31 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 539
[08-Oct-2025 18:22:31 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 539
[08-Oct-2025 18:22:31 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 539
[08-Oct-2025 18:22:31 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 539
[08-Oct-2025 18:22:31 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 539
[08-Oct-2025 18:22:31 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 539
[08-Oct-2025 18:22:31 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 539
[08-Oct-2025 18:22:31 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 539
[08-Oct-2025 18:22:31 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 539
[08-Oct-2025 18:22:31 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 539
[08-Oct-2025 18:22:31 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 539
[08-Oct-2025 18:22:31 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 539
[08-Oct-2025 18:22:31 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 539
[08-Oct-2025 18:22:31 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 539
[08-Oct-2025 18:22:31 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 539
[08-Oct-2025 18:22:31 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 539
[08-Oct-2025 18:22:31 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 539
[08-Oct-2025 18:25:10 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[08-Oct-2025 18:25:10 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 18:25:10 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 18:25:10 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 18:25:10 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[08-Oct-2025 18:25:10 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 18:25:10 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 18:25:10 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 18:25:10 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[08-Oct-2025 18:25:10 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 18:25:10 UTC] getStablePrices found 0 results
[08-Oct-2025 18:25:10 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 539
[08-Oct-2025 18:25:10 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 539
[08-Oct-2025 18:25:10 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 539
[08-Oct-2025 18:25:10 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 539
[08-Oct-2025 18:25:10 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 539
[08-Oct-2025 18:25:10 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 539
[08-Oct-2025 18:25:10 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 539
[08-Oct-2025 18:25:10 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 539
[08-Oct-2025 18:25:10 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 539
[08-Oct-2025 18:25:10 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 539
[08-Oct-2025 18:25:10 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 539
[08-Oct-2025 18:25:10 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 539
[08-Oct-2025 18:25:10 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 539
[08-Oct-2025 18:25:10 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 539
[08-Oct-2025 18:25:10 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 539
[08-Oct-2025 18:25:10 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 539
[08-Oct-2025 18:25:10 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 539
[08-Oct-2025 18:25:10 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 539
[08-Oct-2025 18:25:10 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 539
[08-Oct-2025 18:25:10 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 539
[08-Oct-2025 18:25:10 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 539
[08-Oct-2025 18:25:10 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 539
[08-Oct-2025 18:25:10 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 539
[08-Oct-2025 18:25:10 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 539
[08-Oct-2025 18:25:10 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 539
[08-Oct-2025 18:25:10 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 539
[08-Oct-2025 18:25:10 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 539
[08-Oct-2025 18:25:10 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 539
[08-Oct-2025 18:25:10 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 539
[08-Oct-2025 18:25:10 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 539
[08-Oct-2025 18:25:10 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 539
[08-Oct-2025 18:25:10 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 539
[08-Oct-2025 18:25:10 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 539
[08-Oct-2025 18:25:10 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 539
[08-Oct-2025 18:25:10 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 539
[08-Oct-2025 18:25:10 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 539
[08-Oct-2025 18:25:10 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 539
[08-Oct-2025 18:25:10 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 539
[08-Oct-2025 18:25:10 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 539
[08-Oct-2025 18:25:10 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 539
[08-Oct-2025 18:25:10 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 539
[08-Oct-2025 18:25:10 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 539
[08-Oct-2025 18:25:10 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 539
[08-Oct-2025 18:30:58 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[08-Oct-2025 18:30:58 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 18:30:58 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 18:30:58 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 18:30:58 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[08-Oct-2025 18:30:58 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 18:30:58 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 18:30:58 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 18:30:58 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[08-Oct-2025 18:30:58 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 18:30:58 UTC] getStablePrices found 0 results
[08-Oct-2025 18:30:58 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 547
[08-Oct-2025 18:30:58 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 547
[08-Oct-2025 18:30:58 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 547
[08-Oct-2025 18:30:58 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 547
[08-Oct-2025 18:30:58 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 547
[08-Oct-2025 18:30:58 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 547
[08-Oct-2025 18:30:58 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 547
[08-Oct-2025 18:30:58 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 547
[08-Oct-2025 18:30:58 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 547
[08-Oct-2025 18:30:58 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 547
[08-Oct-2025 18:30:58 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 547
[08-Oct-2025 18:30:58 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 547
[08-Oct-2025 18:30:58 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 547
[08-Oct-2025 18:30:58 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 547
[08-Oct-2025 18:30:58 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 547
[08-Oct-2025 18:30:58 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 547
[08-Oct-2025 18:30:58 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 547
[08-Oct-2025 18:30:58 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 547
[08-Oct-2025 18:30:58 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 547
[08-Oct-2025 18:30:58 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 547
[08-Oct-2025 18:30:58 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 547
[08-Oct-2025 18:30:58 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 547
[08-Oct-2025 18:30:58 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 547
[08-Oct-2025 18:30:58 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 547
[08-Oct-2025 18:30:58 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 547
[08-Oct-2025 18:30:58 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 547
[08-Oct-2025 18:30:58 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 547
[08-Oct-2025 18:30:58 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 547
[08-Oct-2025 18:30:58 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 547
[08-Oct-2025 18:30:58 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 547
[08-Oct-2025 18:30:58 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 547
[08-Oct-2025 18:30:58 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 547
[08-Oct-2025 18:30:58 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 547
[08-Oct-2025 18:30:58 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 547
[08-Oct-2025 18:30:58 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 547
[08-Oct-2025 18:30:58 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 547
[08-Oct-2025 18:30:58 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 547
[08-Oct-2025 18:30:58 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 547
[08-Oct-2025 18:30:58 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 547
[08-Oct-2025 18:30:58 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 547
[08-Oct-2025 18:30:58 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 547
[08-Oct-2025 18:30:58 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 547
[08-Oct-2025 18:30:58 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 547
[08-Oct-2025 18:40:37 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[08-Oct-2025 18:40:37 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 18:40:37 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 18:40:37 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 18:40:37 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[08-Oct-2025 18:40:37 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 18:40:37 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 18:40:37 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 18:40:37 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[08-Oct-2025 18:40:37 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 18:40:37 UTC] getStablePrices found 0 results
[08-Oct-2025 18:40:37 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 542
[08-Oct-2025 18:40:37 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 542
[08-Oct-2025 18:40:37 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 542
[08-Oct-2025 18:40:37 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 542
[08-Oct-2025 18:40:37 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 542
[08-Oct-2025 18:40:37 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 542
[08-Oct-2025 18:40:37 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 542
[08-Oct-2025 18:40:37 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 542
[08-Oct-2025 18:40:37 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 542
[08-Oct-2025 18:40:37 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 542
[08-Oct-2025 18:40:37 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 542
[08-Oct-2025 18:40:37 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 542
[08-Oct-2025 18:40:37 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 542
[08-Oct-2025 18:40:37 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 542
[08-Oct-2025 18:40:37 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 542
[08-Oct-2025 18:40:37 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 542
[08-Oct-2025 18:40:37 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 542
[08-Oct-2025 18:40:37 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 542
[08-Oct-2025 18:40:37 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 542
[08-Oct-2025 18:40:37 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 542
[08-Oct-2025 18:40:37 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 542
[08-Oct-2025 18:40:37 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 542
[08-Oct-2025 18:40:37 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 542
[08-Oct-2025 18:40:37 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 542
[08-Oct-2025 18:40:37 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 542
[08-Oct-2025 18:40:37 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 542
[08-Oct-2025 18:40:37 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 542
[08-Oct-2025 18:40:37 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 542
[08-Oct-2025 18:40:37 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 542
[08-Oct-2025 18:40:37 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 542
[08-Oct-2025 18:40:37 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 542
[08-Oct-2025 18:40:37 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 542
[08-Oct-2025 18:40:37 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 542
[08-Oct-2025 18:40:37 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 542
[08-Oct-2025 18:40:37 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 542
[08-Oct-2025 18:40:37 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 542
[08-Oct-2025 18:40:37 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 542
[08-Oct-2025 18:40:37 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 542
[08-Oct-2025 18:40:37 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 542
[08-Oct-2025 18:40:37 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 542
[08-Oct-2025 18:40:37 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 542
[08-Oct-2025 18:40:37 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 542
[08-Oct-2025 18:40:37 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 542
[08-Oct-2025 18:41:03 UTC] Koneksi database berhasil
[08-Oct-2025 18:41:03 UTC] Jumlah data di tabel prices: 18
[08-Oct-2025 18:41:03 UTC] Jumlah data di tabel commodities: 44
[08-Oct-2025 18:41:03 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[08-Oct-2025 18:41:03 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 2
)

[08-Oct-2025 18:41:03 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 18:41:03 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 18:41:03 UTC] Hasil getTopIncreasingPrices: Array
(
)

[08-Oct-2025 18:41:03 UTC] Latest commodity prices query results: Array
(
    [0] => Array
        (
            [id] => 87
            [commodity_name] => Bawang Bombay
            [unit] => KG
            [image_path] => commodity_68dfbfcbc270b.png
            [latest_price] => 20000.00
            [created_at] => 2025-10-08 16:26:13
        )

    [1] => Array
        (
            [id] => 89
            [commodity_name] => Bawang Merah
            [unit] => KG
            [image_path] => commodity_68dfbfc0a703b.png
            [latest_price] => 40000.00
            [created_at] => 2025-10-07 16:45:26
        )

    [2] => Array
        (
            [id] => 86
            [commodity_name] => Bawang Putih Honan
            [unit] => KG
            [image_path] => commodity_68dfbf941713e.png
            [latest_price] => 25000.00
            [created_at] => 2025-10-05 15:18:34
        )

    [3] => Array
        (
            [id] => 94
            [commodity_name] => Beras Premium - SJ
            [unit] => KG
            [image_path] => commodity_68dfc054a4de7.png
            [latest_price] => 12000.00
            [created_at] => 2025-10-04 11:06:44
        )

    [4] => Array
        (
            [id] => 84
            [commodity_name] => Cabai Rawit Lokal
            [unit] => KG
            [image_path] => commodity_68dfbf462d57c.png
            [latest_price] => 95000.00
            [created_at] => 2025-10-05 15:18:15
        )

    [5] => Array
        (
            [id] => 79
            [commodity_name] => Daging Ayam Kampung
            [unit] => KG
            [image_path] => commodity_68dfbee813246.png
            [latest_price] => 25500.00
            [created_at] => 2025-10-05 15:18:53
        )

    [6] => Array
        (
            [id] => 96
            [commodity_name] => Garam Halus
            [unit] => KG
            [image_path] => commodity_68dfc08a8320d.png
            [latest_price] => 9000.00
            [created_at] => 2025-10-07 08:57:47
        )

    [7] => Array
        (
            [id] => 112
            [commodity_name] => Timun (uk. Sedang)
            [unit] => KG
            [image_path] => commodity_68dfc2094a459.png
            [latest_price] => 15000.00
            [created_at] => 2025-10-07 08:57:21
        )

    [8] => Array
        (
            [id] => 111
            [commodity_name] => Tomat
            [unit] => KG
            [image_path] => commodity_68dfc1fee3486.png
            [latest_price] => 12000.00
            [created_at] => 2025-10-07 08:57:34
        )

)

[08-Oct-2025 18:41:03 UTC] Data komoditas ditemukan: 9 item
[08-Oct-2025 18:41:03 UTC] Sample data: Array
(
    [0] => Array
        (
            [id] => 87
            [commodity_name] => Bawang Bombay
            [unit] => KG
            [image_path] => commodity_68dfbfcbc270b.png
            [latest_price] => 20000.00
            [created_at] => 2025-10-08 16:26:13
        )

)

[08-Oct-2025 18:41:03 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[08-Oct-2025 18:41:03 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 18:41:03 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 18:41:03 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 18:41:03 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[08-Oct-2025 18:41:03 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 18:41:03 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 18:41:03 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 18:41:03 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[08-Oct-2025 18:41:03 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 18:41:03 UTC] getStablePrices found 0 results
[08-Oct-2025 18:41:13 UTC] Latest commodity prices query results: Array
(
    [0] => Array
        (
            [id] => 87
            [commodity_name] => Bawang Bombay
            [unit] => KG
            [image_path] => commodity_68dfbfcbc270b.png
            [latest_price] => 20000.00
            [created_at] => 2025-10-08 16:26:13
        )

    [1] => Array
        (
            [id] => 89
            [commodity_name] => Bawang Merah
            [unit] => KG
            [image_path] => commodity_68dfbfc0a703b.png
            [latest_price] => 40000.00
            [created_at] => 2025-10-07 16:45:26
        )

    [2] => Array
        (
            [id] => 86
            [commodity_name] => Bawang Putih Honan
            [unit] => KG
            [image_path] => commodity_68dfbf941713e.png
            [latest_price] => 25000.00
            [created_at] => 2025-10-05 15:18:34
        )

    [3] => Array
        (
            [id] => 94
            [commodity_name] => Beras Premium - SJ
            [unit] => KG
            [image_path] => commodity_68dfc054a4de7.png
            [latest_price] => 12000.00
            [created_at] => 2025-10-04 11:06:44
        )

    [4] => Array
        (
            [id] => 84
            [commodity_name] => Cabai Rawit Lokal
            [unit] => KG
            [image_path] => commodity_68dfbf462d57c.png
            [latest_price] => 95000.00
            [created_at] => 2025-10-05 15:18:15
        )

    [5] => Array
        (
            [id] => 79
            [commodity_name] => Daging Ayam Kampung
            [unit] => KG
            [image_path] => commodity_68dfbee813246.png
            [latest_price] => 25500.00
            [created_at] => 2025-10-05 15:18:53
        )

    [6] => Array
        (
            [id] => 96
            [commodity_name] => Garam Halus
            [unit] => KG
            [image_path] => commodity_68dfc08a8320d.png
            [latest_price] => 9000.00
            [created_at] => 2025-10-07 08:57:47
        )

    [7] => Array
        (
            [id] => 112
            [commodity_name] => Timun (uk. Sedang)
            [unit] => KG
            [image_path] => commodity_68dfc2094a459.png
            [latest_price] => 15000.00
            [created_at] => 2025-10-07 08:57:21
        )

    [8] => Array
        (
            [id] => 111
            [commodity_name] => Tomat
            [unit] => KG
            [image_path] => commodity_68dfc1fee3486.png
            [latest_price] => 12000.00
            [created_at] => 2025-10-07 08:57:34
        )

)

[08-Oct-2025 18:41:13 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[08-Oct-2025 18:41:13 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 18:41:13 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 18:41:13 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 18:41:13 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[08-Oct-2025 18:41:13 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 18:41:13 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 18:41:13 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 18:41:13 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[08-Oct-2025 18:41:13 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 18:41:13 UTC] getStablePrices found 0 results
[08-Oct-2025 18:45:26 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[08-Oct-2025 18:45:26 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 18:45:26 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 18:45:26 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 18:45:26 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[08-Oct-2025 18:45:26 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 18:45:26 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 18:45:26 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 18:45:26 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[08-Oct-2025 18:45:26 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 18:45:26 UTC] getStablePrices found 0 results
[08-Oct-2025 18:45:26 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 544
[08-Oct-2025 18:45:26 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 544
[08-Oct-2025 18:45:26 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 544
[08-Oct-2025 18:45:26 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 544
[08-Oct-2025 18:45:26 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 544
[08-Oct-2025 18:45:26 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 544
[08-Oct-2025 18:45:26 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 544
[08-Oct-2025 18:45:26 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 544
[08-Oct-2025 18:45:26 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 544
[08-Oct-2025 18:45:26 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 544
[08-Oct-2025 18:45:26 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 544
[08-Oct-2025 18:45:26 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 544
[08-Oct-2025 18:45:26 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 544
[08-Oct-2025 18:45:26 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 544
[08-Oct-2025 18:45:26 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 544
[08-Oct-2025 18:45:26 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 544
[08-Oct-2025 18:45:26 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 544
[08-Oct-2025 18:45:26 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 544
[08-Oct-2025 18:45:26 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 544
[08-Oct-2025 18:45:26 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 544
[08-Oct-2025 18:45:26 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 544
[08-Oct-2025 18:45:26 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 544
[08-Oct-2025 18:45:26 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 544
[08-Oct-2025 18:45:26 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 544
[08-Oct-2025 18:45:26 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 544
[08-Oct-2025 18:45:26 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 544
[08-Oct-2025 18:45:26 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 544
[08-Oct-2025 18:45:26 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 544
[08-Oct-2025 18:45:26 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 544
[08-Oct-2025 18:45:26 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 544
[08-Oct-2025 18:45:26 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 544
[08-Oct-2025 18:45:26 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 544
[08-Oct-2025 18:45:26 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 544
[08-Oct-2025 18:45:26 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 544
[08-Oct-2025 18:45:26 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 544
[08-Oct-2025 18:45:26 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 544
[08-Oct-2025 18:45:26 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 544
[08-Oct-2025 18:45:26 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 544
[08-Oct-2025 18:45:26 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 544
[08-Oct-2025 18:45:26 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 544
[08-Oct-2025 18:45:26 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 544
[08-Oct-2025 18:45:26 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 544
[08-Oct-2025 18:45:26 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 544
[08-Oct-2025 18:49:04 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[08-Oct-2025 18:49:04 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 18:49:04 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 18:49:04 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 18:49:04 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[08-Oct-2025 18:49:04 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 18:49:04 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 18:49:04 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 18:49:04 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[08-Oct-2025 18:49:04 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 18:49:04 UTC] getStablePrices found 0 results
[08-Oct-2025 18:49:04 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 544
[08-Oct-2025 18:49:04 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 544
[08-Oct-2025 18:49:04 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 544
[08-Oct-2025 18:49:04 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 544
[08-Oct-2025 18:49:04 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 544
[08-Oct-2025 18:49:04 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 544
[08-Oct-2025 18:49:04 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 544
[08-Oct-2025 18:49:04 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 544
[08-Oct-2025 18:49:04 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 544
[08-Oct-2025 18:49:04 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 544
[08-Oct-2025 18:49:04 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 544
[08-Oct-2025 18:49:04 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 544
[08-Oct-2025 18:49:04 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 544
[08-Oct-2025 18:49:04 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 544
[08-Oct-2025 18:49:04 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 544
[08-Oct-2025 18:49:04 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 544
[08-Oct-2025 18:49:04 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 544
[08-Oct-2025 18:49:04 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 544
[08-Oct-2025 18:49:04 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 544
[08-Oct-2025 18:49:04 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 544
[08-Oct-2025 18:49:04 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 544
[08-Oct-2025 18:49:04 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 544
[08-Oct-2025 18:49:04 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 544
[08-Oct-2025 18:49:04 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 544
[08-Oct-2025 18:49:04 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 544
[08-Oct-2025 18:49:04 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 544
[08-Oct-2025 18:49:04 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 544
[08-Oct-2025 18:49:04 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 544
[08-Oct-2025 18:49:04 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 544
[08-Oct-2025 18:49:04 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 544
[08-Oct-2025 18:49:04 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 544
[08-Oct-2025 18:49:04 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 544
[08-Oct-2025 18:49:04 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 544
[08-Oct-2025 18:49:04 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 544
[08-Oct-2025 18:49:04 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 544
[08-Oct-2025 18:49:04 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 544
[08-Oct-2025 18:49:04 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 544
[08-Oct-2025 18:49:04 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 544
[08-Oct-2025 18:49:04 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 544
[08-Oct-2025 18:49:04 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 544
[08-Oct-2025 18:49:04 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 544
[08-Oct-2025 18:49:04 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 544
[08-Oct-2025 18:49:04 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 544
[08-Oct-2025 18:54:11 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[08-Oct-2025 18:54:11 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 18:54:11 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 18:54:11 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 18:54:11 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[08-Oct-2025 18:54:11 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 18:54:11 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 18:54:11 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 18:54:11 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[08-Oct-2025 18:54:11 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 18:54:11 UTC] getStablePrices found 0 results
[08-Oct-2025 18:54:11 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 544
[08-Oct-2025 18:54:11 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 544
[08-Oct-2025 18:54:11 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 544
[08-Oct-2025 18:54:11 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 544
[08-Oct-2025 18:54:11 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 544
[08-Oct-2025 18:54:11 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 544
[08-Oct-2025 18:54:11 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 544
[08-Oct-2025 18:54:11 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 544
[08-Oct-2025 18:54:11 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 544
[08-Oct-2025 18:54:11 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 544
[08-Oct-2025 18:54:11 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 544
[08-Oct-2025 18:54:11 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 544
[08-Oct-2025 18:54:11 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 544
[08-Oct-2025 18:54:11 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 544
[08-Oct-2025 18:54:11 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 544
[08-Oct-2025 18:54:11 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 544
[08-Oct-2025 18:54:11 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 544
[08-Oct-2025 18:54:11 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 544
[08-Oct-2025 18:54:11 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 544
[08-Oct-2025 18:54:11 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 544
[08-Oct-2025 18:54:11 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 544
[08-Oct-2025 18:54:11 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 544
[08-Oct-2025 18:54:11 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 544
[08-Oct-2025 18:54:11 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 544
[08-Oct-2025 18:54:11 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 544
[08-Oct-2025 18:54:11 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 544
[08-Oct-2025 18:54:11 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 544
[08-Oct-2025 18:54:11 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 544
[08-Oct-2025 18:54:11 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 544
[08-Oct-2025 18:54:11 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 544
[08-Oct-2025 18:54:11 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 544
[08-Oct-2025 18:54:11 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 544
[08-Oct-2025 18:54:11 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 544
[08-Oct-2025 18:54:11 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 544
[08-Oct-2025 18:54:11 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 544
[08-Oct-2025 18:54:11 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 544
[08-Oct-2025 18:54:11 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 544
[08-Oct-2025 18:54:11 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 544
[08-Oct-2025 18:54:11 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 544
[08-Oct-2025 18:54:11 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 544
[08-Oct-2025 18:54:11 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 544
[08-Oct-2025 18:54:11 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 544
[08-Oct-2025 18:54:11 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 544
[08-Oct-2025 18:54:20 UTC] Latest commodity prices query results: Array
(
    [0] => Array
        (
            [id] => 87
            [commodity_name] => Bawang Bombay
            [unit] => KG
            [image_path] => commodity_68dfbfcbc270b.png
            [latest_price] => 20000.00
            [created_at] => 2025-10-08 16:26:13
        )

    [1] => Array
        (
            [id] => 89
            [commodity_name] => Bawang Merah
            [unit] => KG
            [image_path] => commodity_68dfbfc0a703b.png
            [latest_price] => 40000.00
            [created_at] => 2025-10-07 16:45:26
        )

    [2] => Array
        (
            [id] => 86
            [commodity_name] => Bawang Putih Honan
            [unit] => KG
            [image_path] => commodity_68dfbf941713e.png
            [latest_price] => 25000.00
            [created_at] => 2025-10-05 15:18:34
        )

    [3] => Array
        (
            [id] => 94
            [commodity_name] => Beras Premium - SJ
            [unit] => KG
            [image_path] => commodity_68dfc054a4de7.png
            [latest_price] => 12000.00
            [created_at] => 2025-10-04 11:06:44
        )

    [4] => Array
        (
            [id] => 84
            [commodity_name] => Cabai Rawit Lokal
            [unit] => KG
            [image_path] => commodity_68dfbf462d57c.png
            [latest_price] => 95000.00
            [created_at] => 2025-10-05 15:18:15
        )

    [5] => Array
        (
            [id] => 79
            [commodity_name] => Daging Ayam Kampung
            [unit] => KG
            [image_path] => commodity_68dfbee813246.png
            [latest_price] => 25500.00
            [created_at] => 2025-10-05 15:18:53
        )

    [6] => Array
        (
            [id] => 96
            [commodity_name] => Garam Halus
            [unit] => KG
            [image_path] => commodity_68dfc08a8320d.png
            [latest_price] => 9000.00
            [created_at] => 2025-10-07 08:57:47
        )

    [7] => Array
        (
            [id] => 112
            [commodity_name] => Timun (uk. Sedang)
            [unit] => KG
            [image_path] => commodity_68dfc2094a459.png
            [latest_price] => 15000.00
            [created_at] => 2025-10-07 08:57:21
        )

    [8] => Array
        (
            [id] => 111
            [commodity_name] => Tomat
            [unit] => KG
            [image_path] => commodity_68dfc1fee3486.png
            [latest_price] => 12000.00
            [created_at] => 2025-10-07 08:57:34
        )

)

[08-Oct-2025 18:54:20 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[08-Oct-2025 18:54:20 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 18:54:20 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 18:54:20 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 18:54:20 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[08-Oct-2025 18:54:20 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 18:54:20 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 18:54:20 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 18:54:20 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[08-Oct-2025 18:54:20 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 18:54:20 UTC] getStablePrices found 0 results
[08-Oct-2025 18:54:25 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[08-Oct-2025 18:54:25 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 18:54:25 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 18:54:25 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 18:54:25 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[08-Oct-2025 18:54:25 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 18:54:25 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 18:54:25 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 18:54:25 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[08-Oct-2025 18:54:25 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 18:54:25 UTC] getStablePrices found 0 results
[08-Oct-2025 18:54:25 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 544
[08-Oct-2025 18:54:25 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 544
[08-Oct-2025 18:54:25 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 544
[08-Oct-2025 18:54:25 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 544
[08-Oct-2025 18:54:25 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 544
[08-Oct-2025 18:54:25 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 544
[08-Oct-2025 18:54:25 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 544
[08-Oct-2025 18:54:25 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 544
[08-Oct-2025 18:54:25 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 544
[08-Oct-2025 18:54:25 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 544
[08-Oct-2025 18:54:25 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 544
[08-Oct-2025 18:54:25 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 544
[08-Oct-2025 18:54:25 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 544
[08-Oct-2025 18:54:25 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 544
[08-Oct-2025 18:54:25 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 544
[08-Oct-2025 18:54:25 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 544
[08-Oct-2025 18:54:25 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 544
[08-Oct-2025 18:54:25 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 544
[08-Oct-2025 18:54:25 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 544
[08-Oct-2025 18:54:25 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 544
[08-Oct-2025 18:54:25 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 544
[08-Oct-2025 18:54:25 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 544
[08-Oct-2025 18:54:25 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 544
[08-Oct-2025 18:54:25 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 544
[08-Oct-2025 18:54:25 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 544
[08-Oct-2025 18:54:25 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 544
[08-Oct-2025 18:54:25 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 544
[08-Oct-2025 18:54:25 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 544
[08-Oct-2025 18:54:25 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 544
[08-Oct-2025 18:54:25 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 544
[08-Oct-2025 18:54:25 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 544
[08-Oct-2025 18:54:25 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 544
[08-Oct-2025 18:54:25 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 544
[08-Oct-2025 18:54:25 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 544
[08-Oct-2025 18:54:25 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 544
[08-Oct-2025 18:54:25 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 544
[08-Oct-2025 18:54:25 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 544
[08-Oct-2025 18:54:25 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 544
[08-Oct-2025 18:54:25 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 544
[08-Oct-2025 18:54:25 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 544
[08-Oct-2025 18:54:25 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 544
[08-Oct-2025 18:54:25 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 544
[08-Oct-2025 18:54:25 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 544
[08-Oct-2025 18:57:35 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[08-Oct-2025 18:57:35 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 18:57:35 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 18:57:35 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 18:57:35 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[08-Oct-2025 18:57:35 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 18:57:35 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 18:57:35 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 18:57:35 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[08-Oct-2025 18:57:35 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 18:57:35 UTC] getStablePrices found 0 results
[08-Oct-2025 18:59:22 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[08-Oct-2025 18:59:22 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 18:59:22 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 18:59:22 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 18:59:22 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[08-Oct-2025 18:59:22 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 18:59:22 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 18:59:22 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 18:59:22 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[08-Oct-2025 18:59:22 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 18:59:22 UTC] getStablePrices found 0 results
[08-Oct-2025 19:00:15 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[08-Oct-2025 19:00:15 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 19:00:15 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 19:00:15 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 19:00:15 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[08-Oct-2025 19:00:15 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 19:00:15 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 19:00:15 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 19:00:15 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[08-Oct-2025 19:00:15 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 19:00:15 UTC] getStablePrices found 0 results
[08-Oct-2025 19:02:04 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[08-Oct-2025 19:02:04 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 19:02:04 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 19:02:04 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 19:02:04 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[08-Oct-2025 19:02:04 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 19:02:04 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 19:02:04 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 19:02:04 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[08-Oct-2025 19:02:04 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 19:02:04 UTC] getStablePrices found 0 results
[08-Oct-2025 19:04:20 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[08-Oct-2025 19:04:20 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 19:04:20 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 19:04:20 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 19:04:20 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[08-Oct-2025 19:04:20 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 19:04:20 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 19:04:20 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 19:04:20 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[08-Oct-2025 19:04:20 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 19:04:20 UTC] getStablePrices found 0 results
[08-Oct-2025 19:07:08 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[08-Oct-2025 19:07:08 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 19:07:08 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 19:07:08 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 19:07:08 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[08-Oct-2025 19:07:08 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 19:07:08 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 19:07:08 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 19:07:08 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[08-Oct-2025 19:07:08 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 19:07:08 UTC] getStablePrices found 0 results
[08-Oct-2025 19:07:08 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 529
[08-Oct-2025 19:07:08 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 529
[08-Oct-2025 19:07:08 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 529
[08-Oct-2025 19:07:08 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 529
[08-Oct-2025 19:07:08 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 529
[08-Oct-2025 19:07:08 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 529
[08-Oct-2025 19:07:08 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 529
[08-Oct-2025 19:07:08 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 529
[08-Oct-2025 19:07:08 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 529
[08-Oct-2025 19:07:08 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 529
[08-Oct-2025 19:07:08 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 529
[08-Oct-2025 19:07:08 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 529
[08-Oct-2025 19:07:08 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 529
[08-Oct-2025 19:07:08 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 529
[08-Oct-2025 19:07:08 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 529
[08-Oct-2025 19:07:08 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 529
[08-Oct-2025 19:07:08 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 529
[08-Oct-2025 19:07:08 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 529
[08-Oct-2025 19:07:08 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 529
[08-Oct-2025 19:07:08 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 529
[08-Oct-2025 19:07:08 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 529
[08-Oct-2025 19:07:08 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 529
[08-Oct-2025 19:07:08 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 529
[08-Oct-2025 19:07:08 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 529
[08-Oct-2025 19:07:08 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 529
[08-Oct-2025 19:07:08 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 529
[08-Oct-2025 19:07:08 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 529
[08-Oct-2025 19:07:08 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 529
[08-Oct-2025 19:07:08 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 529
[08-Oct-2025 19:07:08 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 529
[08-Oct-2025 19:07:08 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 529
[08-Oct-2025 19:07:08 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 529
[08-Oct-2025 19:07:08 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 529
[08-Oct-2025 19:07:08 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 529
[08-Oct-2025 19:07:08 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 529
[08-Oct-2025 19:07:08 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 529
[08-Oct-2025 19:07:08 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 529
[08-Oct-2025 19:07:08 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 529
[08-Oct-2025 19:07:08 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 529
[08-Oct-2025 19:07:08 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 529
[08-Oct-2025 19:07:08 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 529
[08-Oct-2025 19:07:08 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 529
[08-Oct-2025 19:07:08 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 529
[08-Oct-2025 19:07:08 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 529
[08-Oct-2025 19:09:08 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[08-Oct-2025 19:09:08 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 19:09:08 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 19:09:08 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 19:09:08 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[08-Oct-2025 19:09:08 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 19:09:08 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 19:09:08 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 19:09:08 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[08-Oct-2025 19:09:08 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 19:09:08 UTC] getStablePrices found 0 results
[08-Oct-2025 19:09:21 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[08-Oct-2025 19:09:21 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 19:09:21 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 19:09:21 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 19:09:21 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[08-Oct-2025 19:09:21 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 19:09:21 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 19:09:21 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 19:09:21 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[08-Oct-2025 19:09:21 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 19:09:21 UTC] getStablePrices found 0 results
[08-Oct-2025 19:09:27 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[08-Oct-2025 19:09:27 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 19:09:27 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 19:09:27 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 19:09:27 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[08-Oct-2025 19:09:27 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 19:09:27 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 19:09:27 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 19:09:27 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[08-Oct-2025 19:09:27 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 19:09:27 UTC] getStablePrices found 0 results
[08-Oct-2025 19:09:29 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[08-Oct-2025 19:09:29 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 19:09:29 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 19:09:29 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 19:09:29 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[08-Oct-2025 19:09:29 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 19:09:29 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 19:09:29 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 19:09:29 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[08-Oct-2025 19:09:29 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 19:09:29 UTC] getStablePrices found 0 results
[08-Oct-2025 19:12:53 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[08-Oct-2025 19:12:53 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 19:12:53 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 19:12:53 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 19:12:53 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[08-Oct-2025 19:12:53 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 19:12:53 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 19:12:53 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 19:12:53 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[08-Oct-2025 19:12:53 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 19:12:53 UTC] getStablePrices found 0 results
[08-Oct-2025 19:14:23 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[08-Oct-2025 19:14:23 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 19:14:23 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 19:14:23 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 19:14:23 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[08-Oct-2025 19:14:23 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 19:14:23 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 19:14:23 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 19:14:23 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[08-Oct-2025 19:14:23 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 19:14:23 UTC] getStablePrices found 0 results
[08-Oct-2025 19:20:50 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[08-Oct-2025 19:20:50 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 19:20:50 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 19:20:50 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 19:20:50 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[08-Oct-2025 19:20:50 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 19:20:50 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 19:20:50 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 19:20:50 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[08-Oct-2025 19:20:50 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 19:20:50 UTC] getStablePrices found 0 results
[08-Oct-2025 19:22:33 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[08-Oct-2025 19:22:33 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 19:22:33 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 19:22:33 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 19:22:33 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[08-Oct-2025 19:22:33 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 19:22:33 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 19:22:33 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 19:22:33 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[08-Oct-2025 19:22:33 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 19:22:33 UTC] getStablePrices found 0 results
[08-Oct-2025 19:25:46 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[08-Oct-2025 19:25:46 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 19:25:46 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 19:25:46 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 19:25:46 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[08-Oct-2025 19:25:46 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 19:25:46 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 19:25:46 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 19:25:46 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[08-Oct-2025 19:25:46 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 19:25:46 UTC] getStablePrices found 0 results
[08-Oct-2025 19:25:53 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[08-Oct-2025 19:25:53 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 19:25:53 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 19:25:53 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 19:25:53 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[08-Oct-2025 19:25:53 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 19:25:53 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 19:25:53 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 19:25:53 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[08-Oct-2025 19:25:53 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 19:25:53 UTC] getStablePrices found 0 results
[08-Oct-2025 19:25:57 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[08-Oct-2025 19:25:57 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 19:25:57 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 19:25:57 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 19:25:57 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[08-Oct-2025 19:25:57 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 19:25:57 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 19:25:57 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 19:25:57 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[08-Oct-2025 19:25:57 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 19:25:57 UTC] getStablePrices found 0 results
[08-Oct-2025 19:25:58 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[08-Oct-2025 19:25:58 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 19:25:58 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 19:25:58 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 19:25:58 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[08-Oct-2025 19:25:58 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 19:25:58 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 19:25:58 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 19:25:58 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[08-Oct-2025 19:25:58 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 19:25:58 UTC] getStablePrices found 0 results
[08-Oct-2025 19:25:58 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[08-Oct-2025 19:25:58 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 19:25:58 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 19:25:58 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 19:25:58 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[08-Oct-2025 19:25:58 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 19:25:58 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 19:25:58 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 19:25:58 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[08-Oct-2025 19:25:58 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 19:25:58 UTC] getStablePrices found 0 results
[08-Oct-2025 19:25:59 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[08-Oct-2025 19:25:59 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 19:25:59 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 19:25:59 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 19:25:59 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[08-Oct-2025 19:25:59 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 19:25:59 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 19:25:59 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 19:25:59 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[08-Oct-2025 19:25:59 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 19:25:59 UTC] getStablePrices found 0 results
[08-Oct-2025 19:26:10 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[08-Oct-2025 19:26:10 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 19:26:10 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 19:26:10 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 19:26:10 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[08-Oct-2025 19:26:10 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 19:26:10 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 19:26:10 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 19:26:10 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[08-Oct-2025 19:26:10 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 19:26:10 UTC] getStablePrices found 0 results
[08-Oct-2025 19:28:00 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[08-Oct-2025 19:28:00 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 19:28:00 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 19:28:00 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 19:28:00 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[08-Oct-2025 19:28:00 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 19:28:00 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 19:28:00 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 19:28:00 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[08-Oct-2025 19:28:00 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 19:28:00 UTC] getStablePrices found 0 results
[08-Oct-2025 19:33:06 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[08-Oct-2025 19:33:06 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 19:33:06 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 19:33:06 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 19:33:06 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[08-Oct-2025 19:33:06 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 19:33:06 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 19:33:06 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 19:33:06 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[08-Oct-2025 19:33:06 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 19:33:06 UTC] getStablePrices found 0 results
[08-Oct-2025 19:33:10 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[08-Oct-2025 19:33:10 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 19:33:10 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 19:33:10 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 19:33:10 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[08-Oct-2025 19:33:10 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 19:33:10 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 19:33:10 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 19:33:10 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[08-Oct-2025 19:33:10 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 19:33:10 UTC] getStablePrices found 0 results
[08-Oct-2025 19:35:28 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[08-Oct-2025 19:35:28 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 19:35:28 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 19:35:28 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 19:35:28 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[08-Oct-2025 19:35:28 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 19:35:28 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 19:35:28 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 19:35:28 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[08-Oct-2025 19:35:28 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 19:35:28 UTC] getStablePrices found 0 results
[08-Oct-2025 19:37:04 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[08-Oct-2025 19:37:04 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 19:37:04 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 19:37:04 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 19:37:04 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[08-Oct-2025 19:37:04 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 19:37:04 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 19:37:04 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 19:37:04 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[08-Oct-2025 19:37:04 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 19:37:04 UTC] getStablePrices found 0 results
[08-Oct-2025 19:42:00 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[08-Oct-2025 19:42:00 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 19:42:00 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 19:42:00 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 19:42:00 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[08-Oct-2025 19:42:00 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 19:42:00 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 19:42:00 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 19:42:00 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[08-Oct-2025 19:42:00 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 19:42:00 UTC] getStablePrices found 0 results
[08-Oct-2025 19:42:00 UTC] PHP Warning:  Undefined variable $latestCommodityPrices in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 491
[08-Oct-2025 19:42:00 UTC] PHP Fatal error:  Uncaught TypeError: array_slice(): Argument #1 ($array) must be of type array, null given in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php:491
Stack trace:
#0 C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php(491): array_slice(NULL, 0, 12)
#1 {main}
  thrown in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 491
[08-Oct-2025 19:42:33 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[08-Oct-2025 19:42:33 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 19:42:33 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 19:42:33 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 19:42:33 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[08-Oct-2025 19:42:33 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 19:42:33 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 19:42:33 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 19:42:33 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[08-Oct-2025 19:42:33 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 19:42:33 UTC] getStablePrices found 0 results
[08-Oct-2025 19:42:49 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[08-Oct-2025 19:42:49 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 19:42:49 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 19:42:49 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 19:42:49 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[08-Oct-2025 19:42:49 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 19:42:49 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 19:42:49 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 19:42:49 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[08-Oct-2025 19:42:49 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 19:42:49 UTC] getStablePrices found 0 results
[08-Oct-2025 19:42:49 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 544
[08-Oct-2025 19:42:49 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 544
[08-Oct-2025 19:42:49 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 544
[08-Oct-2025 19:42:49 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 544
[08-Oct-2025 19:42:49 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 544
[08-Oct-2025 19:42:49 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 544
[08-Oct-2025 19:42:49 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 544
[08-Oct-2025 19:42:49 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 544
[08-Oct-2025 19:42:49 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 544
[08-Oct-2025 19:42:49 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 544
[08-Oct-2025 19:42:49 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 544
[08-Oct-2025 19:42:49 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 544
[08-Oct-2025 19:42:49 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 544
[08-Oct-2025 19:42:49 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 544
[08-Oct-2025 19:42:49 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 544
[08-Oct-2025 19:42:49 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 544
[08-Oct-2025 19:42:49 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 544
[08-Oct-2025 19:42:49 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 544
[08-Oct-2025 19:42:49 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 544
[08-Oct-2025 19:42:49 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 544
[08-Oct-2025 19:42:49 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 544
[08-Oct-2025 19:42:49 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 544
[08-Oct-2025 19:42:49 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 544
[08-Oct-2025 19:42:49 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 544
[08-Oct-2025 19:42:49 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 544
[08-Oct-2025 19:42:49 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 544
[08-Oct-2025 19:42:49 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 544
[08-Oct-2025 19:42:49 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 544
[08-Oct-2025 19:42:49 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 544
[08-Oct-2025 19:42:49 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 544
[08-Oct-2025 19:42:49 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 544
[08-Oct-2025 19:42:49 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 544
[08-Oct-2025 19:42:49 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 544
[08-Oct-2025 19:42:49 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 544
[08-Oct-2025 19:42:49 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 544
[08-Oct-2025 19:42:49 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 544
[08-Oct-2025 19:42:49 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 544
[08-Oct-2025 19:42:49 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 544
[08-Oct-2025 19:42:49 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 544
[08-Oct-2025 19:42:49 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 544
[08-Oct-2025 19:42:49 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 544
[08-Oct-2025 19:42:49 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 544
[08-Oct-2025 19:42:49 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 544
[08-Oct-2025 19:42:54 UTC] Latest commodity prices query results: Array
(
    [0] => Array
        (
            [id] => 87
            [commodity_name] => Bawang Bombay
            [unit] => KG
            [image_path] => commodity_68dfbfcbc270b.png
            [latest_price] => 20000.00
            [created_at] => 2025-10-08 16:26:13
        )

    [1] => Array
        (
            [id] => 89
            [commodity_name] => Bawang Merah
            [unit] => KG
            [image_path] => commodity_68dfbfc0a703b.png
            [latest_price] => 40000.00
            [created_at] => 2025-10-07 16:45:26
        )

    [2] => Array
        (
            [id] => 86
            [commodity_name] => Bawang Putih Honan
            [unit] => KG
            [image_path] => commodity_68dfbf941713e.png
            [latest_price] => 25000.00
            [created_at] => 2025-10-05 15:18:34
        )

    [3] => Array
        (
            [id] => 94
            [commodity_name] => Beras Premium - SJ
            [unit] => KG
            [image_path] => commodity_68dfc054a4de7.png
            [latest_price] => 12000.00
            [created_at] => 2025-10-04 11:06:44
        )

    [4] => Array
        (
            [id] => 84
            [commodity_name] => Cabai Rawit Lokal
            [unit] => KG
            [image_path] => commodity_68dfbf462d57c.png
            [latest_price] => 95000.00
            [created_at] => 2025-10-05 15:18:15
        )

    [5] => Array
        (
            [id] => 79
            [commodity_name] => Daging Ayam Kampung
            [unit] => KG
            [image_path] => commodity_68dfbee813246.png
            [latest_price] => 25500.00
            [created_at] => 2025-10-05 15:18:53
        )

    [6] => Array
        (
            [id] => 96
            [commodity_name] => Garam Halus
            [unit] => KG
            [image_path] => commodity_68dfc08a8320d.png
            [latest_price] => 9000.00
            [created_at] => 2025-10-07 08:57:47
        )

    [7] => Array
        (
            [id] => 112
            [commodity_name] => Timun (uk. Sedang)
            [unit] => KG
            [image_path] => commodity_68dfc2094a459.png
            [latest_price] => 15000.00
            [created_at] => 2025-10-07 08:57:21
        )

    [8] => Array
        (
            [id] => 111
            [commodity_name] => Tomat
            [unit] => KG
            [image_path] => commodity_68dfc1fee3486.png
            [latest_price] => 12000.00
            [created_at] => 2025-10-07 08:57:34
        )

)

[08-Oct-2025 19:42:54 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[08-Oct-2025 19:42:54 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 19:42:54 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 19:42:54 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 19:42:54 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[08-Oct-2025 19:42:54 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 19:42:54 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 19:42:54 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 19:42:54 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[08-Oct-2025 19:42:54 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 19:42:54 UTC] getStablePrices found 0 results
[08-Oct-2025 19:43:07 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[08-Oct-2025 19:43:07 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 19:43:07 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 19:43:07 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 19:43:07 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[08-Oct-2025 19:43:07 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 19:43:07 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 19:43:07 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 19:43:07 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[08-Oct-2025 19:43:07 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 19:43:07 UTC] getStablePrices found 0 results
[08-Oct-2025 19:43:07 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 544
[08-Oct-2025 19:43:07 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 544
[08-Oct-2025 19:43:07 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 544
[08-Oct-2025 19:43:07 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 544
[08-Oct-2025 19:43:07 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 544
[08-Oct-2025 19:43:07 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 544
[08-Oct-2025 19:43:07 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 544
[08-Oct-2025 19:43:07 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 544
[08-Oct-2025 19:43:07 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 544
[08-Oct-2025 19:43:07 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 544
[08-Oct-2025 19:43:07 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 544
[08-Oct-2025 19:43:07 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 544
[08-Oct-2025 19:43:07 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 544
[08-Oct-2025 19:43:07 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 544
[08-Oct-2025 19:43:07 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 544
[08-Oct-2025 19:43:07 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 544
[08-Oct-2025 19:43:07 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 544
[08-Oct-2025 19:43:07 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 544
[08-Oct-2025 19:43:07 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 544
[08-Oct-2025 19:43:07 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 544
[08-Oct-2025 19:43:07 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 544
[08-Oct-2025 19:43:07 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 544
[08-Oct-2025 19:43:07 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 544
[08-Oct-2025 19:43:07 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 544
[08-Oct-2025 19:43:07 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 544
[08-Oct-2025 19:43:07 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 544
[08-Oct-2025 19:43:07 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 544
[08-Oct-2025 19:43:07 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 544
[08-Oct-2025 19:43:07 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 544
[08-Oct-2025 19:43:07 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 544
[08-Oct-2025 19:43:07 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 544
[08-Oct-2025 19:43:07 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 544
[08-Oct-2025 19:43:07 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 544
[08-Oct-2025 19:43:07 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 544
[08-Oct-2025 19:43:07 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 544
[08-Oct-2025 19:43:07 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 544
[08-Oct-2025 19:43:07 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 544
[08-Oct-2025 19:43:07 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 544
[08-Oct-2025 19:43:07 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 544
[08-Oct-2025 19:43:07 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 544
[08-Oct-2025 19:43:07 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 544
[08-Oct-2025 19:43:07 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 544
[08-Oct-2025 19:43:07 UTC] PHP Deprecated:  number_format(): Passing null to parameter #1 ($num) of type float is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 544
[08-Oct-2025 19:44:20 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[08-Oct-2025 19:44:20 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 19:44:20 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 19:44:20 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 19:44:20 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[08-Oct-2025 19:44:20 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 19:44:20 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 19:44:20 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 19:44:20 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[08-Oct-2025 19:44:20 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 19:44:20 UTC] getStablePrices found 0 results
[08-Oct-2025 19:45:31 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[08-Oct-2025 19:45:32 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 19:45:32 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 19:45:32 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 19:45:32 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[08-Oct-2025 19:45:32 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 19:45:32 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 19:45:32 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 19:45:32 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[08-Oct-2025 19:45:32 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 19:45:32 UTC] getStablePrices found 0 results
[08-Oct-2025 19:51:01 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[08-Oct-2025 19:51:01 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 19:51:01 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 19:51:01 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 19:51:01 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[08-Oct-2025 19:51:01 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 19:51:01 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[08-Oct-2025 19:51:01 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[08-Oct-2025 19:51:01 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[08-Oct-2025 19:51:01 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 19:51:01 UTC] getStablePrices found 0 results
[08-Oct-2025 19:53:14 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[08-Oct-2025 19:53:14 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 19:53:14 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 19:53:14 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 19:53:14 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[08-Oct-2025 19:53:14 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 19:53:14 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[08-Oct-2025 19:53:14 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[08-Oct-2025 19:53:14 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[08-Oct-2025 19:53:14 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 19:53:14 UTC] getStablePrices found 0 results
[08-Oct-2025 19:53:28 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[08-Oct-2025 19:53:28 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 19:53:28 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 19:53:28 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 19:53:28 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[08-Oct-2025 19:53:28 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 19:53:28 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[08-Oct-2025 19:53:28 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[08-Oct-2025 19:53:28 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[08-Oct-2025 19:53:28 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 19:53:28 UTC] getStablePrices found 0 results
[08-Oct-2025 19:54:04 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[08-Oct-2025 19:54:04 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 19:54:04 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 19:54:04 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 19:54:04 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[08-Oct-2025 19:54:04 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 19:54:04 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[08-Oct-2025 19:54:04 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[08-Oct-2025 19:54:04 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[08-Oct-2025 19:54:04 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 19:54:04 UTC] getStablePrices found 0 results
[08-Oct-2025 19:54:13 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[08-Oct-2025 19:54:13 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 19:54:13 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 19:54:13 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 19:54:13 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[08-Oct-2025 19:54:13 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 19:54:13 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[08-Oct-2025 19:54:13 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[08-Oct-2025 19:54:13 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[08-Oct-2025 19:54:13 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 19:54:13 UTC] getStablePrices found 0 results
[08-Oct-2025 19:54:24 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[08-Oct-2025 19:54:24 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 19:54:24 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 19:54:24 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 19:54:24 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[08-Oct-2025 19:54:24 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 19:54:24 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[08-Oct-2025 19:54:24 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[08-Oct-2025 19:54:24 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[08-Oct-2025 19:54:24 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 19:54:24 UTC] getStablePrices found 0 results
[08-Oct-2025 19:58:39 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[08-Oct-2025 19:58:39 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 19:58:39 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 19:58:39 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 19:58:39 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[08-Oct-2025 19:58:39 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 19:58:39 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[08-Oct-2025 19:58:39 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[08-Oct-2025 19:58:39 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[08-Oct-2025 19:58:39 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 19:58:39 UTC] getStablePrices found 0 results
[08-Oct-2025 19:59:28 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[08-Oct-2025 19:59:28 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 19:59:28 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 19:59:28 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 19:59:28 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[08-Oct-2025 19:59:28 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 19:59:28 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[08-Oct-2025 19:59:28 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[08-Oct-2025 19:59:28 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[08-Oct-2025 19:59:28 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 19:59:28 UTC] getStablePrices found 0 results
[08-Oct-2025 19:59:32 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[08-Oct-2025 19:59:32 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 19:59:32 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 19:59:32 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 19:59:32 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[08-Oct-2025 19:59:32 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 19:59:32 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[08-Oct-2025 19:59:32 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[08-Oct-2025 19:59:32 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[08-Oct-2025 19:59:32 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 19:59:32 UTC] getStablePrices found 0 results
[08-Oct-2025 20:01:10 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[08-Oct-2025 20:01:10 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 20:01:10 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 20:01:10 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 20:01:10 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[08-Oct-2025 20:01:10 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 20:01:10 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[08-Oct-2025 20:01:10 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[08-Oct-2025 20:01:10 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[08-Oct-2025 20:01:10 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 20:01:10 UTC] getStablePrices found 0 results
[08-Oct-2025 20:01:10 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 522
[08-Oct-2025 20:01:10 UTC] PHP Deprecated:  basename(): Passing null to parameter #1 ($path) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 522
[08-Oct-2025 20:01:10 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 522
[08-Oct-2025 20:01:10 UTC] PHP Deprecated:  basename(): Passing null to parameter #1 ($path) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 522
[08-Oct-2025 20:01:10 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 522
[08-Oct-2025 20:01:10 UTC] PHP Deprecated:  basename(): Passing null to parameter #1 ($path) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 522
[08-Oct-2025 20:01:10 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 522
[08-Oct-2025 20:01:10 UTC] PHP Deprecated:  basename(): Passing null to parameter #1 ($path) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 522
[08-Oct-2025 20:01:10 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 522
[08-Oct-2025 20:01:10 UTC] PHP Deprecated:  basename(): Passing null to parameter #1 ($path) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 522
[08-Oct-2025 20:01:10 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 522
[08-Oct-2025 20:01:10 UTC] PHP Deprecated:  basename(): Passing null to parameter #1 ($path) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 522
[08-Oct-2025 20:01:10 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 522
[08-Oct-2025 20:01:10 UTC] PHP Deprecated:  basename(): Passing null to parameter #1 ($path) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 522
[08-Oct-2025 20:01:10 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 522
[08-Oct-2025 20:01:10 UTC] PHP Deprecated:  basename(): Passing null to parameter #1 ($path) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 522
[08-Oct-2025 20:01:10 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 522
[08-Oct-2025 20:01:10 UTC] PHP Deprecated:  basename(): Passing null to parameter #1 ($path) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 522
[08-Oct-2025 20:01:10 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 522
[08-Oct-2025 20:01:10 UTC] PHP Deprecated:  basename(): Passing null to parameter #1 ($path) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 522
[08-Oct-2025 20:01:10 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 522
[08-Oct-2025 20:01:10 UTC] PHP Deprecated:  basename(): Passing null to parameter #1 ($path) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 522
[08-Oct-2025 20:01:10 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 522
[08-Oct-2025 20:01:10 UTC] PHP Deprecated:  basename(): Passing null to parameter #1 ($path) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 522
[08-Oct-2025 20:01:10 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 522
[08-Oct-2025 20:01:10 UTC] PHP Deprecated:  basename(): Passing null to parameter #1 ($path) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 522
[08-Oct-2025 20:01:10 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 522
[08-Oct-2025 20:01:10 UTC] PHP Deprecated:  basename(): Passing null to parameter #1 ($path) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 522
[08-Oct-2025 20:01:10 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 522
[08-Oct-2025 20:01:10 UTC] PHP Deprecated:  basename(): Passing null to parameter #1 ($path) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 522
[08-Oct-2025 20:01:10 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 522
[08-Oct-2025 20:01:10 UTC] PHP Deprecated:  basename(): Passing null to parameter #1 ($path) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 522
[08-Oct-2025 20:01:10 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 522
[08-Oct-2025 20:01:10 UTC] PHP Deprecated:  basename(): Passing null to parameter #1 ($path) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 522
[08-Oct-2025 20:01:10 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 522
[08-Oct-2025 20:01:10 UTC] PHP Deprecated:  basename(): Passing null to parameter #1 ($path) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 522
[08-Oct-2025 20:01:10 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 522
[08-Oct-2025 20:01:10 UTC] PHP Deprecated:  basename(): Passing null to parameter #1 ($path) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 522
[08-Oct-2025 20:01:10 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 522
[08-Oct-2025 20:01:10 UTC] PHP Deprecated:  basename(): Passing null to parameter #1 ($path) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 522
[08-Oct-2025 20:01:10 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 522
[08-Oct-2025 20:01:10 UTC] PHP Deprecated:  basename(): Passing null to parameter #1 ($path) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 522
[08-Oct-2025 20:01:10 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 522
[08-Oct-2025 20:01:10 UTC] PHP Deprecated:  basename(): Passing null to parameter #1 ($path) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 522
[08-Oct-2025 20:01:10 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 522
[08-Oct-2025 20:01:10 UTC] PHP Deprecated:  basename(): Passing null to parameter #1 ($path) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 522
[08-Oct-2025 20:01:10 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 522
[08-Oct-2025 20:01:10 UTC] PHP Deprecated:  basename(): Passing null to parameter #1 ($path) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 522
[08-Oct-2025 20:01:10 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 522
[08-Oct-2025 20:01:10 UTC] PHP Deprecated:  basename(): Passing null to parameter #1 ($path) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 522
[08-Oct-2025 20:01:10 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 522
[08-Oct-2025 20:01:10 UTC] PHP Deprecated:  basename(): Passing null to parameter #1 ($path) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 522
[08-Oct-2025 20:01:10 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 522
[08-Oct-2025 20:01:10 UTC] PHP Deprecated:  basename(): Passing null to parameter #1 ($path) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 522
[08-Oct-2025 20:01:10 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 522
[08-Oct-2025 20:01:10 UTC] PHP Deprecated:  basename(): Passing null to parameter #1 ($path) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 522
[08-Oct-2025 20:01:10 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 522
[08-Oct-2025 20:01:10 UTC] PHP Deprecated:  basename(): Passing null to parameter #1 ($path) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 522
[08-Oct-2025 20:01:10 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 522
[08-Oct-2025 20:01:10 UTC] PHP Deprecated:  basename(): Passing null to parameter #1 ($path) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 522
[08-Oct-2025 20:01:10 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 522
[08-Oct-2025 20:01:10 UTC] PHP Deprecated:  basename(): Passing null to parameter #1 ($path) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 522
[08-Oct-2025 20:01:10 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 522
[08-Oct-2025 20:01:10 UTC] PHP Deprecated:  basename(): Passing null to parameter #1 ($path) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 522
[08-Oct-2025 20:01:10 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 522
[08-Oct-2025 20:01:10 UTC] PHP Deprecated:  basename(): Passing null to parameter #1 ($path) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 522
[08-Oct-2025 20:01:10 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 522
[08-Oct-2025 20:01:10 UTC] PHP Deprecated:  basename(): Passing null to parameter #1 ($path) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 522
[08-Oct-2025 20:01:10 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 522
[08-Oct-2025 20:01:10 UTC] PHP Deprecated:  basename(): Passing null to parameter #1 ($path) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 522
[08-Oct-2025 20:01:10 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 522
[08-Oct-2025 20:01:10 UTC] PHP Deprecated:  basename(): Passing null to parameter #1 ($path) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 522
[08-Oct-2025 20:01:10 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 522
[08-Oct-2025 20:01:10 UTC] PHP Deprecated:  basename(): Passing null to parameter #1 ($path) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 522
[08-Oct-2025 20:01:10 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 522
[08-Oct-2025 20:01:10 UTC] PHP Deprecated:  basename(): Passing null to parameter #1 ($path) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 522
[08-Oct-2025 20:01:10 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 522
[08-Oct-2025 20:01:10 UTC] PHP Deprecated:  basename(): Passing null to parameter #1 ($path) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 522
[08-Oct-2025 20:01:10 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 522
[08-Oct-2025 20:01:10 UTC] PHP Deprecated:  basename(): Passing null to parameter #1 ($path) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 522
[08-Oct-2025 20:01:10 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 522
[08-Oct-2025 20:01:10 UTC] PHP Deprecated:  basename(): Passing null to parameter #1 ($path) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 522
[08-Oct-2025 20:01:10 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 522
[08-Oct-2025 20:01:10 UTC] PHP Deprecated:  basename(): Passing null to parameter #1 ($path) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 522
[08-Oct-2025 20:01:10 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 522
[08-Oct-2025 20:01:10 UTC] PHP Deprecated:  basename(): Passing null to parameter #1 ($path) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 522
[08-Oct-2025 20:01:10 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 522
[08-Oct-2025 20:01:10 UTC] PHP Deprecated:  basename(): Passing null to parameter #1 ($path) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 522
[08-Oct-2025 20:04:08 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[08-Oct-2025 20:04:08 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 20:04:08 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 20:04:08 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 20:04:08 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[08-Oct-2025 20:04:08 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 20:04:08 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[08-Oct-2025 20:04:08 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[08-Oct-2025 20:04:08 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[08-Oct-2025 20:04:08 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 20:04:08 UTC] getStablePrices found 0 results
[08-Oct-2025 20:10:56 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[08-Oct-2025 20:10:56 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 20:10:56 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 20:10:56 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[08-Oct-2025 20:10:56 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[08-Oct-2025 20:10:56 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 20:10:56 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[08-Oct-2025 20:10:56 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[08-Oct-2025 20:10:56 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[08-Oct-2025 20:10:56 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[08-Oct-2025 20:10:56 UTC] getStablePrices found 0 results
[09-Oct-2025 15:09:55 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[09-Oct-2025 15:09:55 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[09-Oct-2025 15:09:55 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[09-Oct-2025 15:09:55 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[09-Oct-2025 15:09:55 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[09-Oct-2025 15:09:55 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[09-Oct-2025 15:09:55 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[09-Oct-2025 15:09:55 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[09-Oct-2025 15:09:55 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[09-Oct-2025 15:09:55 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[09-Oct-2025 15:09:55 UTC] getStablePrices found 0 results
[10-Oct-2025 08:40:09 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[10-Oct-2025 08:40:09 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 08:40:09 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 08:40:09 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 08:40:09 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[10-Oct-2025 08:40:09 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 08:40:09 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 08:40:09 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 08:40:09 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[10-Oct-2025 08:40:09 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 08:40:09 UTC] getStablePrices found 0 results
[10-Oct-2025 08:41:46 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[10-Oct-2025 08:41:46 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 08:41:46 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 08:41:46 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 08:41:46 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[10-Oct-2025 08:41:46 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 08:41:46 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 08:41:46 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 08:41:46 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[10-Oct-2025 08:41:46 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 08:41:46 UTC] getStablePrices found 0 results
[10-Oct-2025 08:42:22 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[10-Oct-2025 08:42:22 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 08:42:22 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 08:42:22 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 08:42:22 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[10-Oct-2025 08:42:22 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 08:42:22 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 08:42:22 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 08:42:22 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[10-Oct-2025 08:42:22 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 08:42:22 UTC] getStablePrices found 0 results
[10-Oct-2025 08:46:12 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[10-Oct-2025 08:46:12 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 08:46:12 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 08:46:12 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 08:46:12 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[10-Oct-2025 08:46:12 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 08:46:12 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 08:46:12 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 08:46:12 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[10-Oct-2025 08:46:12 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 08:46:12 UTC] getStablePrices found 0 results
[10-Oct-2025 08:48:14 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[10-Oct-2025 08:48:14 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 08:48:14 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 08:48:14 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 08:48:14 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[10-Oct-2025 08:48:14 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 08:48:14 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 08:48:14 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 08:48:14 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[10-Oct-2025 08:48:14 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 08:48:14 UTC] getStablePrices found 0 results
[10-Oct-2025 08:48:14 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 523
[10-Oct-2025 08:48:14 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 523
[10-Oct-2025 08:48:14 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 523
[10-Oct-2025 08:48:14 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 523
[10-Oct-2025 08:48:14 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 523
[10-Oct-2025 08:48:14 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 523
[10-Oct-2025 08:48:14 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 523
[10-Oct-2025 08:48:14 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 523
[10-Oct-2025 08:48:14 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 523
[10-Oct-2025 08:48:14 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 523
[10-Oct-2025 08:48:14 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 523
[10-Oct-2025 08:48:14 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 523
[10-Oct-2025 08:48:14 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 523
[10-Oct-2025 08:48:14 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 523
[10-Oct-2025 08:48:14 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 523
[10-Oct-2025 08:48:14 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 523
[10-Oct-2025 08:48:14 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 523
[10-Oct-2025 08:48:14 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 523
[10-Oct-2025 08:48:14 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 523
[10-Oct-2025 08:48:14 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 523
[10-Oct-2025 08:48:14 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 523
[10-Oct-2025 08:48:14 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 523
[10-Oct-2025 08:48:14 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 523
[10-Oct-2025 08:48:14 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 523
[10-Oct-2025 08:48:14 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 523
[10-Oct-2025 08:48:14 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 523
[10-Oct-2025 08:48:14 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 523
[10-Oct-2025 08:48:14 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 523
[10-Oct-2025 08:48:14 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 523
[10-Oct-2025 08:48:14 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 523
[10-Oct-2025 08:48:14 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 523
[10-Oct-2025 08:48:14 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 523
[10-Oct-2025 08:48:14 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 523
[10-Oct-2025 08:48:14 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 523
[10-Oct-2025 08:48:14 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 523
[10-Oct-2025 08:48:14 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 523
[10-Oct-2025 08:48:14 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 523
[10-Oct-2025 08:48:14 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 523
[10-Oct-2025 08:48:14 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 523
[10-Oct-2025 08:48:14 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 523
[10-Oct-2025 08:48:14 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 523
[10-Oct-2025 08:48:14 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 523
[10-Oct-2025 08:48:14 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 523
[10-Oct-2025 08:48:14 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 523
[10-Oct-2025 08:48:14 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 523
[10-Oct-2025 08:48:14 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 523
[10-Oct-2025 08:48:14 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 523
[10-Oct-2025 08:48:14 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 523
[10-Oct-2025 08:48:14 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 523
[10-Oct-2025 08:48:14 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 523
[10-Oct-2025 08:48:14 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 523
[10-Oct-2025 08:48:14 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 523
[10-Oct-2025 08:48:14 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 523
[10-Oct-2025 08:48:14 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 523
[10-Oct-2025 08:48:14 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 523
[10-Oct-2025 08:48:14 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 523
[10-Oct-2025 08:48:14 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 523
[10-Oct-2025 08:48:14 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 523
[10-Oct-2025 08:48:14 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 523
[10-Oct-2025 08:48:14 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 523
[10-Oct-2025 08:48:14 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 523
[10-Oct-2025 08:48:14 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 523
[10-Oct-2025 08:48:14 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 523
[10-Oct-2025 08:48:14 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 523
[10-Oct-2025 08:48:14 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 523
[10-Oct-2025 08:48:14 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 523
[10-Oct-2025 08:48:14 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 523
[10-Oct-2025 08:48:14 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 523
[10-Oct-2025 08:48:14 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 523
[10-Oct-2025 08:48:14 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 523
[10-Oct-2025 08:48:14 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 523
[10-Oct-2025 08:48:14 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 523
[10-Oct-2025 08:48:14 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 523
[10-Oct-2025 08:48:14 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 523
[10-Oct-2025 08:48:14 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 523
[10-Oct-2025 08:48:14 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 523
[10-Oct-2025 08:48:14 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 523
[10-Oct-2025 08:48:14 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 523
[10-Oct-2025 08:48:14 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 523
[10-Oct-2025 08:48:14 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 523
[10-Oct-2025 08:48:14 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 523
[10-Oct-2025 08:48:14 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 523
[10-Oct-2025 08:48:14 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 523
[10-Oct-2025 08:48:14 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 523
[10-Oct-2025 08:48:14 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 523
[10-Oct-2025 08:48:14 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 523
[10-Oct-2025 08:48:14 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 523
[10-Oct-2025 08:48:14 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 523
[10-Oct-2025 08:48:27 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[10-Oct-2025 08:48:27 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 08:48:27 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 08:48:27 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 08:48:27 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[10-Oct-2025 08:48:27 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 08:48:27 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 08:48:27 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 08:48:27 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[10-Oct-2025 08:48:27 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 08:48:27 UTC] getStablePrices found 0 results
[10-Oct-2025 08:48:27 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 523
[10-Oct-2025 08:48:27 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 523
[10-Oct-2025 08:48:27 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 523
[10-Oct-2025 08:48:27 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 523
[10-Oct-2025 08:48:27 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 523
[10-Oct-2025 08:48:27 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 523
[10-Oct-2025 08:48:27 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 523
[10-Oct-2025 08:48:27 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 523
[10-Oct-2025 08:48:27 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 523
[10-Oct-2025 08:48:27 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 523
[10-Oct-2025 08:48:27 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 523
[10-Oct-2025 08:48:27 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 523
[10-Oct-2025 08:48:27 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 523
[10-Oct-2025 08:48:27 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 523
[10-Oct-2025 08:48:27 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 523
[10-Oct-2025 08:48:27 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 523
[10-Oct-2025 08:48:27 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 523
[10-Oct-2025 08:48:27 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 523
[10-Oct-2025 08:48:27 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 523
[10-Oct-2025 08:48:27 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 523
[10-Oct-2025 08:48:27 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 523
[10-Oct-2025 08:48:27 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 523
[10-Oct-2025 08:48:27 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 523
[10-Oct-2025 08:48:27 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 523
[10-Oct-2025 08:48:27 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 523
[10-Oct-2025 08:48:27 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 523
[10-Oct-2025 08:48:27 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 523
[10-Oct-2025 08:48:27 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 523
[10-Oct-2025 08:48:27 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 523
[10-Oct-2025 08:48:27 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 523
[10-Oct-2025 08:48:27 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 523
[10-Oct-2025 08:48:27 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 523
[10-Oct-2025 08:48:27 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 523
[10-Oct-2025 08:48:27 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 523
[10-Oct-2025 08:48:27 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 523
[10-Oct-2025 08:48:27 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 523
[10-Oct-2025 08:48:27 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 523
[10-Oct-2025 08:48:27 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 523
[10-Oct-2025 08:48:27 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 523
[10-Oct-2025 08:48:27 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 523
[10-Oct-2025 08:48:27 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 523
[10-Oct-2025 08:48:27 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 523
[10-Oct-2025 08:48:27 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 523
[10-Oct-2025 08:48:27 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 523
[10-Oct-2025 08:48:27 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 523
[10-Oct-2025 08:48:27 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 523
[10-Oct-2025 08:48:27 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 523
[10-Oct-2025 08:48:27 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 523
[10-Oct-2025 08:48:27 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 523
[10-Oct-2025 08:48:27 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 523
[10-Oct-2025 08:48:27 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 523
[10-Oct-2025 08:48:27 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 523
[10-Oct-2025 08:48:27 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 523
[10-Oct-2025 08:48:27 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 523
[10-Oct-2025 08:48:27 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 523
[10-Oct-2025 08:48:27 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 523
[10-Oct-2025 08:48:27 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 523
[10-Oct-2025 08:48:27 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 523
[10-Oct-2025 08:48:27 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 523
[10-Oct-2025 08:48:27 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 523
[10-Oct-2025 08:48:27 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 523
[10-Oct-2025 08:48:27 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 523
[10-Oct-2025 08:48:27 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 523
[10-Oct-2025 08:48:27 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 523
[10-Oct-2025 08:48:27 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 523
[10-Oct-2025 08:48:27 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 523
[10-Oct-2025 08:48:27 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 523
[10-Oct-2025 08:48:27 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 523
[10-Oct-2025 08:48:27 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 523
[10-Oct-2025 08:48:27 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 523
[10-Oct-2025 08:48:27 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 523
[10-Oct-2025 08:48:27 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 523
[10-Oct-2025 08:48:27 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 523
[10-Oct-2025 08:48:27 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 523
[10-Oct-2025 08:48:27 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 523
[10-Oct-2025 08:48:27 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 523
[10-Oct-2025 08:48:27 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 523
[10-Oct-2025 08:48:27 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 523
[10-Oct-2025 08:48:27 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 523
[10-Oct-2025 08:48:27 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 523
[10-Oct-2025 08:48:27 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 523
[10-Oct-2025 08:48:27 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 523
[10-Oct-2025 08:48:27 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 523
[10-Oct-2025 08:48:27 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 523
[10-Oct-2025 08:48:27 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 523
[10-Oct-2025 08:48:27 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 523
[10-Oct-2025 08:48:27 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 523
[10-Oct-2025 08:48:27 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 523
[10-Oct-2025 08:50:40 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[10-Oct-2025 08:50:40 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 08:50:40 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 08:50:40 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 08:50:40 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[10-Oct-2025 08:50:40 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 08:50:40 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 08:50:40 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 08:50:40 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[10-Oct-2025 08:50:40 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 08:50:40 UTC] getStablePrices found 0 results
[10-Oct-2025 08:50:40 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 523
[10-Oct-2025 08:50:40 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 523
[10-Oct-2025 08:50:40 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 523
[10-Oct-2025 08:50:40 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 523
[10-Oct-2025 08:50:40 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 523
[10-Oct-2025 08:50:40 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 523
[10-Oct-2025 08:50:40 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 523
[10-Oct-2025 08:50:40 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 523
[10-Oct-2025 08:50:40 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 523
[10-Oct-2025 08:50:40 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 523
[10-Oct-2025 08:50:40 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 523
[10-Oct-2025 08:50:40 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 523
[10-Oct-2025 08:50:40 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 523
[10-Oct-2025 08:50:40 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 523
[10-Oct-2025 08:50:40 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 523
[10-Oct-2025 08:50:40 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 523
[10-Oct-2025 08:50:40 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 523
[10-Oct-2025 08:50:40 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 523
[10-Oct-2025 08:50:40 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 523
[10-Oct-2025 08:50:40 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 523
[10-Oct-2025 08:50:40 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 523
[10-Oct-2025 08:50:40 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 523
[10-Oct-2025 08:50:40 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 523
[10-Oct-2025 08:50:40 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 523
[10-Oct-2025 08:50:40 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 523
[10-Oct-2025 08:50:40 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 523
[10-Oct-2025 08:50:40 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 523
[10-Oct-2025 08:50:40 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 523
[10-Oct-2025 08:50:40 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 523
[10-Oct-2025 08:50:40 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 523
[10-Oct-2025 08:50:40 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 523
[10-Oct-2025 08:50:40 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 523
[10-Oct-2025 08:50:40 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 523
[10-Oct-2025 08:50:40 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 523
[10-Oct-2025 08:50:40 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 523
[10-Oct-2025 08:50:40 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 523
[10-Oct-2025 08:50:40 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 523
[10-Oct-2025 08:50:40 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 523
[10-Oct-2025 08:50:40 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 523
[10-Oct-2025 08:50:40 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 523
[10-Oct-2025 08:50:40 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 523
[10-Oct-2025 08:50:40 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 523
[10-Oct-2025 08:50:40 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 523
[10-Oct-2025 08:50:40 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 523
[10-Oct-2025 08:50:40 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 523
[10-Oct-2025 08:50:40 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 523
[10-Oct-2025 08:50:40 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 523
[10-Oct-2025 08:50:40 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 523
[10-Oct-2025 08:50:40 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 523
[10-Oct-2025 08:50:40 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 523
[10-Oct-2025 08:50:40 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 523
[10-Oct-2025 08:50:40 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 523
[10-Oct-2025 08:50:40 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 523
[10-Oct-2025 08:50:40 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 523
[10-Oct-2025 08:50:40 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 523
[10-Oct-2025 08:50:40 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 523
[10-Oct-2025 08:50:40 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 523
[10-Oct-2025 08:50:40 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 523
[10-Oct-2025 08:50:40 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 523
[10-Oct-2025 08:50:40 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 523
[10-Oct-2025 08:50:40 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 523
[10-Oct-2025 08:50:40 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 523
[10-Oct-2025 08:50:40 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 523
[10-Oct-2025 08:50:40 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 523
[10-Oct-2025 08:50:40 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 523
[10-Oct-2025 08:50:40 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 523
[10-Oct-2025 08:50:40 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 523
[10-Oct-2025 08:50:40 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 523
[10-Oct-2025 08:50:40 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 523
[10-Oct-2025 08:50:40 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 523
[10-Oct-2025 08:50:40 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 523
[10-Oct-2025 08:50:40 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 523
[10-Oct-2025 08:50:40 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 523
[10-Oct-2025 08:50:40 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 523
[10-Oct-2025 08:50:40 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 523
[10-Oct-2025 08:50:40 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 523
[10-Oct-2025 08:50:40 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 523
[10-Oct-2025 08:50:40 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 523
[10-Oct-2025 08:50:40 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 523
[10-Oct-2025 08:50:40 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 523
[10-Oct-2025 08:50:40 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 523
[10-Oct-2025 08:50:40 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 523
[10-Oct-2025 08:50:40 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 523
[10-Oct-2025 08:50:40 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 523
[10-Oct-2025 08:50:40 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 523
[10-Oct-2025 08:50:40 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 523
[10-Oct-2025 08:50:40 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 523
[10-Oct-2025 08:50:40 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 523
[10-Oct-2025 08:53:52 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[10-Oct-2025 08:53:52 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 08:53:52 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 08:53:52 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 08:53:52 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[10-Oct-2025 08:53:52 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 08:53:52 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 08:53:52 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 08:53:52 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[10-Oct-2025 08:53:52 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 08:53:52 UTC] getStablePrices found 0 results
[10-Oct-2025 08:53:52 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 530
[10-Oct-2025 08:53:52 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 530
[10-Oct-2025 08:53:52 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 530
[10-Oct-2025 08:53:52 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 530
[10-Oct-2025 08:53:52 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 530
[10-Oct-2025 08:53:52 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 530
[10-Oct-2025 08:53:52 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 530
[10-Oct-2025 08:53:52 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 530
[10-Oct-2025 08:53:52 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 530
[10-Oct-2025 08:53:52 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 530
[10-Oct-2025 08:53:52 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 530
[10-Oct-2025 08:53:52 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 530
[10-Oct-2025 08:53:52 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 530
[10-Oct-2025 08:53:52 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 530
[10-Oct-2025 08:53:52 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 530
[10-Oct-2025 08:53:52 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 530
[10-Oct-2025 08:53:52 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 530
[10-Oct-2025 08:53:52 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 530
[10-Oct-2025 08:53:52 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 530
[10-Oct-2025 08:53:52 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 530
[10-Oct-2025 08:53:52 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 530
[10-Oct-2025 08:53:52 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 530
[10-Oct-2025 08:53:52 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 530
[10-Oct-2025 08:53:52 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 530
[10-Oct-2025 08:53:52 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 530
[10-Oct-2025 08:53:52 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 530
[10-Oct-2025 08:53:52 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 530
[10-Oct-2025 08:53:52 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 530
[10-Oct-2025 08:53:52 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 530
[10-Oct-2025 08:53:52 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 530
[10-Oct-2025 08:53:52 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 530
[10-Oct-2025 08:53:52 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 530
[10-Oct-2025 08:53:52 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 530
[10-Oct-2025 08:53:52 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 530
[10-Oct-2025 08:53:52 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 530
[10-Oct-2025 08:53:52 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 530
[10-Oct-2025 08:53:52 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 530
[10-Oct-2025 08:53:52 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 530
[10-Oct-2025 08:53:52 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 530
[10-Oct-2025 08:53:52 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 530
[10-Oct-2025 08:53:52 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 530
[10-Oct-2025 08:53:52 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 530
[10-Oct-2025 08:53:52 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 530
[10-Oct-2025 08:53:52 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 530
[10-Oct-2025 08:53:52 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 530
[10-Oct-2025 08:53:52 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 530
[10-Oct-2025 08:53:52 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 530
[10-Oct-2025 08:53:52 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 530
[10-Oct-2025 08:53:52 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 530
[10-Oct-2025 08:53:52 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 530
[10-Oct-2025 08:53:52 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 530
[10-Oct-2025 08:53:52 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 530
[10-Oct-2025 08:53:52 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 530
[10-Oct-2025 08:53:52 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 530
[10-Oct-2025 08:53:52 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 530
[10-Oct-2025 08:53:52 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 530
[10-Oct-2025 08:53:52 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 530
[10-Oct-2025 08:53:52 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 530
[10-Oct-2025 08:53:52 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 530
[10-Oct-2025 08:53:52 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 530
[10-Oct-2025 08:53:52 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 530
[10-Oct-2025 08:53:52 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 530
[10-Oct-2025 08:53:52 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 530
[10-Oct-2025 08:53:52 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 530
[10-Oct-2025 08:53:52 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 530
[10-Oct-2025 08:53:52 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 530
[10-Oct-2025 08:53:52 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 530
[10-Oct-2025 08:53:52 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 530
[10-Oct-2025 08:53:52 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 530
[10-Oct-2025 08:53:52 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 530
[10-Oct-2025 08:53:52 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 530
[10-Oct-2025 08:53:52 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 530
[10-Oct-2025 08:53:52 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 530
[10-Oct-2025 08:53:52 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 530
[10-Oct-2025 08:53:52 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 530
[10-Oct-2025 08:53:52 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 530
[10-Oct-2025 08:53:52 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 530
[10-Oct-2025 08:53:52 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 530
[10-Oct-2025 08:53:52 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 530
[10-Oct-2025 08:53:52 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 530
[10-Oct-2025 08:53:52 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 530
[10-Oct-2025 08:53:52 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 530
[10-Oct-2025 08:53:52 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 530
[10-Oct-2025 08:53:52 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 530
[10-Oct-2025 08:53:52 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 530
[10-Oct-2025 08:53:52 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 530
[10-Oct-2025 08:53:52 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 530
[10-Oct-2025 08:53:52 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 530
[10-Oct-2025 08:54:02 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[10-Oct-2025 08:54:02 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 08:54:02 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 08:54:02 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 08:54:02 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[10-Oct-2025 08:54:02 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 08:54:02 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 08:54:02 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 08:54:02 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[10-Oct-2025 08:54:02 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 08:54:02 UTC] getStablePrices found 0 results
[10-Oct-2025 08:54:02 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 530
[10-Oct-2025 08:54:02 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 530
[10-Oct-2025 08:54:02 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 530
[10-Oct-2025 08:54:02 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 530
[10-Oct-2025 08:54:02 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 530
[10-Oct-2025 08:54:02 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 530
[10-Oct-2025 08:54:02 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 530
[10-Oct-2025 08:54:02 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 530
[10-Oct-2025 08:54:02 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 530
[10-Oct-2025 08:54:02 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 530
[10-Oct-2025 08:54:02 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 530
[10-Oct-2025 08:54:02 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 530
[10-Oct-2025 08:54:02 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 530
[10-Oct-2025 08:54:02 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 530
[10-Oct-2025 08:54:02 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 530
[10-Oct-2025 08:54:02 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 530
[10-Oct-2025 08:54:02 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 530
[10-Oct-2025 08:54:02 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 530
[10-Oct-2025 08:54:02 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 530
[10-Oct-2025 08:54:02 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 530
[10-Oct-2025 08:54:02 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 530
[10-Oct-2025 08:54:02 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 530
[10-Oct-2025 08:54:02 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 530
[10-Oct-2025 08:54:02 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 530
[10-Oct-2025 08:54:02 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 530
[10-Oct-2025 08:54:02 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 530
[10-Oct-2025 08:54:02 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 530
[10-Oct-2025 08:54:02 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 530
[10-Oct-2025 08:54:02 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 530
[10-Oct-2025 08:54:02 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 530
[10-Oct-2025 08:54:02 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 530
[10-Oct-2025 08:54:02 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 530
[10-Oct-2025 08:54:02 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 530
[10-Oct-2025 08:54:02 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 530
[10-Oct-2025 08:54:02 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 530
[10-Oct-2025 08:54:02 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 530
[10-Oct-2025 08:54:02 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 530
[10-Oct-2025 08:54:02 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 530
[10-Oct-2025 08:54:02 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 530
[10-Oct-2025 08:54:02 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 530
[10-Oct-2025 08:54:02 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 530
[10-Oct-2025 08:54:02 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 530
[10-Oct-2025 08:54:02 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 530
[10-Oct-2025 08:54:02 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 530
[10-Oct-2025 08:54:02 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 530
[10-Oct-2025 08:54:02 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 530
[10-Oct-2025 08:54:02 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 530
[10-Oct-2025 08:54:02 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 530
[10-Oct-2025 08:54:02 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 530
[10-Oct-2025 08:54:02 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 530
[10-Oct-2025 08:54:02 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 530
[10-Oct-2025 08:54:02 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 530
[10-Oct-2025 08:54:02 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 530
[10-Oct-2025 08:54:02 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 530
[10-Oct-2025 08:54:02 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 530
[10-Oct-2025 08:54:02 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 530
[10-Oct-2025 08:54:02 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 530
[10-Oct-2025 08:54:02 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 530
[10-Oct-2025 08:54:02 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 530
[10-Oct-2025 08:54:02 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 530
[10-Oct-2025 08:54:02 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 530
[10-Oct-2025 08:54:02 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 530
[10-Oct-2025 08:54:02 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 530
[10-Oct-2025 08:54:02 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 530
[10-Oct-2025 08:54:02 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 530
[10-Oct-2025 08:54:02 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 530
[10-Oct-2025 08:54:02 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 530
[10-Oct-2025 08:54:02 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 530
[10-Oct-2025 08:54:02 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 530
[10-Oct-2025 08:54:02 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 530
[10-Oct-2025 08:54:02 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 530
[10-Oct-2025 08:54:02 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 530
[10-Oct-2025 08:54:02 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 530
[10-Oct-2025 08:54:02 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 530
[10-Oct-2025 08:54:02 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 530
[10-Oct-2025 08:54:02 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 530
[10-Oct-2025 08:54:02 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 530
[10-Oct-2025 08:54:02 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 530
[10-Oct-2025 08:54:02 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 530
[10-Oct-2025 08:54:02 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 530
[10-Oct-2025 08:54:02 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 530
[10-Oct-2025 08:54:02 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 530
[10-Oct-2025 08:54:02 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 530
[10-Oct-2025 08:54:02 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 530
[10-Oct-2025 08:54:02 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 530
[10-Oct-2025 08:54:02 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 530
[10-Oct-2025 08:54:02 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 530
[10-Oct-2025 08:54:02 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 530
[10-Oct-2025 08:54:47 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[10-Oct-2025 08:54:47 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 08:54:47 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 08:54:47 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 08:54:47 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[10-Oct-2025 08:54:47 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 08:54:47 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 08:54:47 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 08:54:47 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[10-Oct-2025 08:54:47 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 08:54:47 UTC] getStablePrices found 0 results
[10-Oct-2025 08:54:47 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 530
[10-Oct-2025 08:54:47 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 530
[10-Oct-2025 08:54:47 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 530
[10-Oct-2025 08:54:47 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 530
[10-Oct-2025 08:54:47 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 530
[10-Oct-2025 08:54:47 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 530
[10-Oct-2025 08:54:47 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 530
[10-Oct-2025 08:54:47 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 530
[10-Oct-2025 08:54:47 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 530
[10-Oct-2025 08:54:47 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 530
[10-Oct-2025 08:54:47 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 530
[10-Oct-2025 08:54:47 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 530
[10-Oct-2025 08:54:47 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 530
[10-Oct-2025 08:54:47 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 530
[10-Oct-2025 08:54:47 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 530
[10-Oct-2025 08:54:47 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 530
[10-Oct-2025 08:54:47 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 530
[10-Oct-2025 08:54:47 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 530
[10-Oct-2025 08:54:47 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 530
[10-Oct-2025 08:54:47 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 530
[10-Oct-2025 08:54:47 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 530
[10-Oct-2025 08:54:47 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 530
[10-Oct-2025 08:54:47 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 530
[10-Oct-2025 08:54:47 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 530
[10-Oct-2025 08:54:47 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 530
[10-Oct-2025 08:54:47 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 530
[10-Oct-2025 08:54:47 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 530
[10-Oct-2025 08:54:47 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 530
[10-Oct-2025 08:54:47 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 530
[10-Oct-2025 08:54:47 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 530
[10-Oct-2025 08:54:47 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 530
[10-Oct-2025 08:54:47 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 530
[10-Oct-2025 08:54:47 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 530
[10-Oct-2025 08:54:47 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 530
[10-Oct-2025 08:54:47 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 530
[10-Oct-2025 08:54:47 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 530
[10-Oct-2025 08:54:47 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 530
[10-Oct-2025 08:54:47 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 530
[10-Oct-2025 08:54:47 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 530
[10-Oct-2025 08:54:47 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 530
[10-Oct-2025 08:54:47 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 530
[10-Oct-2025 08:54:47 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 530
[10-Oct-2025 08:54:47 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 530
[10-Oct-2025 08:54:47 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 530
[10-Oct-2025 08:54:47 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 530
[10-Oct-2025 08:54:47 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 530
[10-Oct-2025 08:54:47 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 530
[10-Oct-2025 08:54:47 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 530
[10-Oct-2025 08:54:47 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 530
[10-Oct-2025 08:54:47 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 530
[10-Oct-2025 08:54:47 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 530
[10-Oct-2025 08:54:47 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 530
[10-Oct-2025 08:54:47 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 530
[10-Oct-2025 08:54:47 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 530
[10-Oct-2025 08:54:47 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 530
[10-Oct-2025 08:54:47 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 530
[10-Oct-2025 08:54:47 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 530
[10-Oct-2025 08:54:47 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 530
[10-Oct-2025 08:54:47 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 530
[10-Oct-2025 08:54:47 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 530
[10-Oct-2025 08:54:47 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 530
[10-Oct-2025 08:54:47 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 530
[10-Oct-2025 08:54:47 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 530
[10-Oct-2025 08:54:47 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 530
[10-Oct-2025 08:54:47 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 530
[10-Oct-2025 08:54:47 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 530
[10-Oct-2025 08:54:47 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 530
[10-Oct-2025 08:54:47 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 530
[10-Oct-2025 08:54:47 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 530
[10-Oct-2025 08:54:47 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 530
[10-Oct-2025 08:54:47 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 530
[10-Oct-2025 08:54:47 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 530
[10-Oct-2025 08:54:47 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 530
[10-Oct-2025 08:54:47 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 530
[10-Oct-2025 08:54:47 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 530
[10-Oct-2025 08:54:47 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 530
[10-Oct-2025 08:54:47 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 530
[10-Oct-2025 08:54:47 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 530
[10-Oct-2025 08:54:47 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 530
[10-Oct-2025 08:54:47 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 530
[10-Oct-2025 08:54:47 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 530
[10-Oct-2025 08:54:47 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 530
[10-Oct-2025 08:54:47 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 530
[10-Oct-2025 08:54:47 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 530
[10-Oct-2025 08:54:47 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 530
[10-Oct-2025 08:54:47 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 530
[10-Oct-2025 08:54:47 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 530
[10-Oct-2025 08:54:47 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 530
[10-Oct-2025 09:01:25 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[10-Oct-2025 09:01:25 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 09:01:25 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 09:01:25 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 09:01:25 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[10-Oct-2025 09:01:25 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 09:01:25 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 09:01:25 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 09:01:25 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[10-Oct-2025 09:01:25 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 09:01:25 UTC] getStablePrices found 0 results
[10-Oct-2025 09:01:25 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 531
[10-Oct-2025 09:01:25 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 531
[10-Oct-2025 09:01:25 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 531
[10-Oct-2025 09:01:25 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 531
[10-Oct-2025 09:01:25 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 531
[10-Oct-2025 09:01:25 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 531
[10-Oct-2025 09:01:25 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 531
[10-Oct-2025 09:01:25 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 531
[10-Oct-2025 09:01:25 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 531
[10-Oct-2025 09:01:25 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 531
[10-Oct-2025 09:01:25 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 531
[10-Oct-2025 09:01:25 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 531
[10-Oct-2025 09:01:25 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 531
[10-Oct-2025 09:01:25 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 531
[10-Oct-2025 09:01:25 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 531
[10-Oct-2025 09:01:25 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 531
[10-Oct-2025 09:01:25 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 531
[10-Oct-2025 09:01:25 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 531
[10-Oct-2025 09:01:25 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 531
[10-Oct-2025 09:01:25 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 531
[10-Oct-2025 09:01:25 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 531
[10-Oct-2025 09:01:25 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 531
[10-Oct-2025 09:01:25 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 531
[10-Oct-2025 09:01:25 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 531
[10-Oct-2025 09:01:25 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 531
[10-Oct-2025 09:01:25 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 531
[10-Oct-2025 09:01:25 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 531
[10-Oct-2025 09:01:25 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 531
[10-Oct-2025 09:01:25 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 531
[10-Oct-2025 09:01:25 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 531
[10-Oct-2025 09:01:25 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 531
[10-Oct-2025 09:01:25 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 531
[10-Oct-2025 09:01:25 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 531
[10-Oct-2025 09:01:25 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 531
[10-Oct-2025 09:01:25 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 531
[10-Oct-2025 09:01:25 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 531
[10-Oct-2025 09:01:25 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 531
[10-Oct-2025 09:01:25 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 531
[10-Oct-2025 09:01:25 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 531
[10-Oct-2025 09:01:25 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 531
[10-Oct-2025 09:01:25 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 531
[10-Oct-2025 09:01:25 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 531
[10-Oct-2025 09:01:25 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 531
[10-Oct-2025 09:01:25 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 531
[10-Oct-2025 09:01:25 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 531
[10-Oct-2025 09:01:25 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 531
[10-Oct-2025 09:01:25 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 531
[10-Oct-2025 09:01:25 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 531
[10-Oct-2025 09:01:25 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 531
[10-Oct-2025 09:01:25 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 531
[10-Oct-2025 09:01:25 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 531
[10-Oct-2025 09:01:25 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 531
[10-Oct-2025 09:01:25 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 531
[10-Oct-2025 09:01:25 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 531
[10-Oct-2025 09:01:25 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 531
[10-Oct-2025 09:01:25 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 531
[10-Oct-2025 09:01:25 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 531
[10-Oct-2025 09:01:25 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 531
[10-Oct-2025 09:01:25 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 531
[10-Oct-2025 09:01:25 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 531
[10-Oct-2025 09:01:25 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 531
[10-Oct-2025 09:01:25 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 531
[10-Oct-2025 09:01:25 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 531
[10-Oct-2025 09:01:25 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 531
[10-Oct-2025 09:01:25 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 531
[10-Oct-2025 09:01:25 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 531
[10-Oct-2025 09:01:25 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 531
[10-Oct-2025 09:01:25 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 531
[10-Oct-2025 09:01:25 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 531
[10-Oct-2025 09:01:25 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 531
[10-Oct-2025 09:01:25 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 531
[10-Oct-2025 09:01:25 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 531
[10-Oct-2025 09:01:25 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 531
[10-Oct-2025 09:01:25 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 531
[10-Oct-2025 09:01:25 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 531
[10-Oct-2025 09:01:25 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 531
[10-Oct-2025 09:01:25 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 531
[10-Oct-2025 09:01:25 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 531
[10-Oct-2025 09:01:25 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 531
[10-Oct-2025 09:01:25 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 531
[10-Oct-2025 09:01:25 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 531
[10-Oct-2025 09:01:25 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 531
[10-Oct-2025 09:01:25 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 531
[10-Oct-2025 09:01:25 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 531
[10-Oct-2025 09:01:25 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 531
[10-Oct-2025 09:01:25 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 531
[10-Oct-2025 09:01:25 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 531
[10-Oct-2025 09:01:25 UTC] PHP Deprecated:  htmlspecialchars(): Passing null to parameter #1 ($string) of type string is deprecated in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 531
[10-Oct-2025 09:02:00 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[10-Oct-2025 09:02:00 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 09:02:00 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 09:02:00 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 09:02:00 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[10-Oct-2025 09:02:00 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 09:02:00 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 09:02:00 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 09:02:00 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[10-Oct-2025 09:02:00 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 09:02:00 UTC] getStablePrices found 0 results
[10-Oct-2025 09:02:40 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[10-Oct-2025 09:02:40 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 09:02:40 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 09:02:40 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 09:02:40 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[10-Oct-2025 09:02:40 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 09:02:40 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 09:02:40 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 09:02:40 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[10-Oct-2025 09:02:40 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 09:02:40 UTC] getStablePrices found 0 results
[10-Oct-2025 09:41:05 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[10-Oct-2025 09:41:05 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 09:41:05 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 09:41:05 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 09:41:05 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[10-Oct-2025 09:41:05 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 09:41:05 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 09:41:05 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 09:41:05 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[10-Oct-2025 09:41:05 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 09:41:05 UTC] getStablePrices found 0 results
[10-Oct-2025 09:42:30 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[10-Oct-2025 09:42:30 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 09:42:30 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 09:42:30 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 09:42:30 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[10-Oct-2025 09:42:30 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 09:42:30 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 09:42:30 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 09:42:30 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[10-Oct-2025 09:42:30 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 09:42:30 UTC] getStablePrices found 0 results
[10-Oct-2025 09:43:09 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[10-Oct-2025 09:43:09 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 09:43:09 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 09:43:09 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 09:43:09 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[10-Oct-2025 09:43:09 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 09:43:09 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 09:43:09 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 09:43:09 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[10-Oct-2025 09:43:09 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 09:43:09 UTC] getStablePrices found 0 results
[10-Oct-2025 09:49:27 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[10-Oct-2025 09:49:27 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 09:49:27 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 09:49:27 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 09:49:27 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[10-Oct-2025 09:49:27 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 09:49:27 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 09:49:27 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 09:49:27 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[10-Oct-2025 09:49:27 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 09:49:27 UTC] getStablePrices found 0 results
[10-Oct-2025 09:58:33 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[10-Oct-2025 09:58:33 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 09:58:33 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 09:58:33 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 09:58:33 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[10-Oct-2025 09:58:33 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 09:58:33 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 09:58:33 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 09:58:33 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[10-Oct-2025 09:58:33 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 09:58:33 UTC] getStablePrices found 0 results
[10-Oct-2025 09:58:37 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[10-Oct-2025 09:58:37 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 09:58:37 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 09:58:37 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 09:58:37 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[10-Oct-2025 09:58:37 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 09:58:37 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 09:58:37 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 09:58:37 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[10-Oct-2025 09:58:37 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 09:58:37 UTC] getStablePrices found 0 results
[10-Oct-2025 09:58:43 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[10-Oct-2025 09:58:43 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 09:58:43 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 09:58:43 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 09:58:43 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[10-Oct-2025 09:58:43 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 09:58:43 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 09:58:43 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 09:58:43 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[10-Oct-2025 09:58:43 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 09:58:43 UTC] getStablePrices found 0 results
[10-Oct-2025 10:01:15 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[10-Oct-2025 10:01:15 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:01:15 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:01:15 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:01:15 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[10-Oct-2025 10:01:15 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:01:15 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:01:15 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:01:15 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[10-Oct-2025 10:01:15 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:01:15 UTC] getStablePrices found 0 results
[10-Oct-2025 10:09:55 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[10-Oct-2025 10:09:55 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:09:55 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:09:55 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:09:55 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[10-Oct-2025 10:09:55 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:09:55 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:09:55 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:09:55 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[10-Oct-2025 10:09:55 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:09:55 UTC] getStablePrices found 0 results
[10-Oct-2025 10:10:00 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[10-Oct-2025 10:10:00 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:10:00 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:10:00 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:10:00 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[10-Oct-2025 10:10:00 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:10:00 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:10:00 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:10:00 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[10-Oct-2025 10:10:00 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:10:00 UTC] getStablePrices found 0 results
[10-Oct-2025 10:11:26 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[10-Oct-2025 10:11:26 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:11:26 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:11:26 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:11:26 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[10-Oct-2025 10:11:26 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:11:26 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:11:26 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:11:26 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[10-Oct-2025 10:11:26 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:11:26 UTC] getStablePrices found 0 results
[10-Oct-2025 10:11:26 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 547
[10-Oct-2025 10:11:26 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 547
[10-Oct-2025 10:11:26 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 547
[10-Oct-2025 10:11:26 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 547
[10-Oct-2025 10:11:26 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 547
[10-Oct-2025 10:11:26 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 547
[10-Oct-2025 10:11:26 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 547
[10-Oct-2025 10:11:26 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 547
[10-Oct-2025 10:11:26 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 547
[10-Oct-2025 10:11:26 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 547
[10-Oct-2025 10:11:26 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 547
[10-Oct-2025 10:11:26 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 547
[10-Oct-2025 10:11:26 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 547
[10-Oct-2025 10:11:26 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 547
[10-Oct-2025 10:11:26 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 547
[10-Oct-2025 10:11:26 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 547
[10-Oct-2025 10:11:26 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 547
[10-Oct-2025 10:11:26 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 547
[10-Oct-2025 10:11:26 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 547
[10-Oct-2025 10:11:26 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 547
[10-Oct-2025 10:11:26 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 547
[10-Oct-2025 10:11:26 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 547
[10-Oct-2025 10:11:26 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 547
[10-Oct-2025 10:11:26 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 547
[10-Oct-2025 10:11:26 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 547
[10-Oct-2025 10:11:27 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 547
[10-Oct-2025 10:11:27 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 547
[10-Oct-2025 10:11:27 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 547
[10-Oct-2025 10:11:27 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 547
[10-Oct-2025 10:11:27 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 547
[10-Oct-2025 10:11:27 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 547
[10-Oct-2025 10:11:27 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 547
[10-Oct-2025 10:11:27 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 547
[10-Oct-2025 10:11:27 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 547
[10-Oct-2025 10:11:27 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 547
[10-Oct-2025 10:11:27 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 547
[10-Oct-2025 10:11:27 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 547
[10-Oct-2025 10:11:27 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 547
[10-Oct-2025 10:11:27 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 547
[10-Oct-2025 10:11:27 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 547
[10-Oct-2025 10:11:27 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 547
[10-Oct-2025 10:11:27 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 547
[10-Oct-2025 10:11:27 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 547
[10-Oct-2025 10:11:27 UTC] PHP Warning:  Undefined array key "image_path" in C:\laragon\www\SIAGABAPOK\Siaga_bapok\public\index.php on line 547
[10-Oct-2025 10:17:15 UTC] Error in getCommodityPriceComparison: SQLSTATE[42000]: Syntax error or access violation: 1064 You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '// Add this line
                    (SELECT AVG(p.price)
                     F' at line 6
[10-Oct-2025 10:17:15 UTC] Error in getCommodityPriceComparison: SQLSTATE[42000]: Syntax error or access violation: 1064 You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '// Add this line
                    (SELECT AVG(p.price)
                     F' at line 6
[10-Oct-2025 10:17:15 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[10-Oct-2025 10:17:15 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:17:15 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:17:15 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:17:15 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[10-Oct-2025 10:17:15 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:17:15 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:17:15 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:17:15 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[10-Oct-2025 10:17:15 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:17:15 UTC] getStablePrices found 0 results
[10-Oct-2025 10:17:16 UTC] Error in getCommodityPriceComparison: SQLSTATE[42000]: Syntax error or access violation: 1064 You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '// Add this line
                    (SELECT AVG(p.price)
                     F' at line 6
[10-Oct-2025 10:17:37 UTC] Error in getCommodityPriceComparison: SQLSTATE[42000]: Syntax error or access violation: 1064 You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '// Add this line
                    (SELECT AVG(p.price)
                     F' at line 6
[10-Oct-2025 10:17:37 UTC] Error in getCommodityPriceComparison: SQLSTATE[42000]: Syntax error or access violation: 1064 You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '// Add this line
                    (SELECT AVG(p.price)
                     F' at line 6
[10-Oct-2025 10:17:37 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[10-Oct-2025 10:17:37 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:17:37 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:17:37 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:17:37 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[10-Oct-2025 10:17:37 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:17:37 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:17:37 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:17:37 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[10-Oct-2025 10:17:37 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:17:37 UTC] getStablePrices found 0 results
[10-Oct-2025 10:17:37 UTC] Error in getCommodityPriceComparison: SQLSTATE[42000]: Syntax error or access violation: 1064 You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '// Add this line
                    (SELECT AVG(p.price)
                     F' at line 6
[10-Oct-2025 10:18:25 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[10-Oct-2025 10:18:25 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:18:25 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:18:25 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:18:25 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[10-Oct-2025 10:18:25 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:18:25 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:18:25 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:18:25 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[10-Oct-2025 10:18:25 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:18:25 UTC] getStablePrices found 0 results
[10-Oct-2025 10:19:12 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[10-Oct-2025 10:19:12 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:19:12 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:19:12 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:19:12 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[10-Oct-2025 10:19:12 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:19:12 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:19:12 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:19:12 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[10-Oct-2025 10:19:12 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:19:12 UTC] getStablePrices found 0 results
[10-Oct-2025 10:20:07 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[10-Oct-2025 10:20:07 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:20:07 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:20:07 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:20:07 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[10-Oct-2025 10:20:07 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:20:07 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:20:07 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:20:07 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[10-Oct-2025 10:20:07 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:20:07 UTC] getStablePrices found 0 results
[10-Oct-2025 10:20:07 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[10-Oct-2025 10:20:07 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:20:07 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:20:07 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:20:07 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[10-Oct-2025 10:20:07 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:20:07 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:20:07 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:20:07 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[10-Oct-2025 10:20:07 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:20:07 UTC] getStablePrices found 0 results
[10-Oct-2025 10:20:07 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[10-Oct-2025 10:20:07 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:20:08 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:20:08 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:20:08 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[10-Oct-2025 10:20:08 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:20:08 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:20:08 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:20:08 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[10-Oct-2025 10:20:08 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:20:08 UTC] getStablePrices found 0 results
[10-Oct-2025 10:20:08 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[10-Oct-2025 10:20:08 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:20:08 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:20:08 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:20:08 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[10-Oct-2025 10:20:08 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:20:08 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:20:08 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:20:08 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[10-Oct-2025 10:20:08 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:20:08 UTC] getStablePrices found 0 results
[10-Oct-2025 10:20:08 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[10-Oct-2025 10:20:08 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:20:08 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:20:08 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:20:08 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[10-Oct-2025 10:20:08 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:20:08 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:20:08 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:20:08 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[10-Oct-2025 10:20:08 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:20:08 UTC] getStablePrices found 0 results
[10-Oct-2025 10:20:08 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[10-Oct-2025 10:20:08 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:20:08 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:20:08 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:20:08 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[10-Oct-2025 10:20:08 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:20:08 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:20:08 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:20:08 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[10-Oct-2025 10:20:08 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:20:08 UTC] getStablePrices found 0 results
[10-Oct-2025 10:20:08 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[10-Oct-2025 10:20:08 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:20:08 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:20:08 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:20:08 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[10-Oct-2025 10:20:08 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:20:08 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:20:08 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:20:08 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[10-Oct-2025 10:20:08 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:20:08 UTC] getStablePrices found 0 results
[10-Oct-2025 10:20:08 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[10-Oct-2025 10:20:08 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:20:08 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:20:08 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:20:08 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[10-Oct-2025 10:20:08 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:20:08 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:20:08 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:20:08 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[10-Oct-2025 10:20:08 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:20:08 UTC] getStablePrices found 0 results
[10-Oct-2025 10:20:08 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[10-Oct-2025 10:20:08 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:20:08 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:20:08 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:20:08 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[10-Oct-2025 10:20:08 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:20:08 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:20:08 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:20:08 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[10-Oct-2025 10:20:08 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:20:08 UTC] getStablePrices found 0 results
[10-Oct-2025 10:20:08 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[10-Oct-2025 10:20:08 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:20:08 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:20:08 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:20:08 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[10-Oct-2025 10:20:08 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:20:08 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:20:08 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:20:08 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[10-Oct-2025 10:20:08 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:20:08 UTC] getStablePrices found 0 results
[10-Oct-2025 10:20:08 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[10-Oct-2025 10:20:08 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:20:08 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:20:08 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:20:08 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[10-Oct-2025 10:20:08 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:20:08 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:20:08 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:20:08 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[10-Oct-2025 10:20:08 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:20:08 UTC] getStablePrices found 0 results
[10-Oct-2025 10:20:09 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[10-Oct-2025 10:20:09 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:20:09 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:20:09 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:20:09 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[10-Oct-2025 10:20:09 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:20:09 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:20:09 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:20:09 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[10-Oct-2025 10:20:09 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:20:09 UTC] getStablePrices found 0 results
[10-Oct-2025 10:20:09 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[10-Oct-2025 10:20:09 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:20:09 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:20:09 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:20:09 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[10-Oct-2025 10:20:09 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:20:09 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:20:09 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:20:09 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[10-Oct-2025 10:20:09 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:20:09 UTC] getStablePrices found 0 results
[10-Oct-2025 10:20:09 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[10-Oct-2025 10:20:09 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:20:09 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:20:09 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:20:09 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[10-Oct-2025 10:20:09 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:20:09 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:20:09 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:20:09 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[10-Oct-2025 10:20:09 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:20:09 UTC] getStablePrices found 0 results
[10-Oct-2025 10:20:09 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[10-Oct-2025 10:20:09 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:20:09 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:20:09 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:20:09 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[10-Oct-2025 10:20:09 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:20:09 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:20:09 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:20:09 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[10-Oct-2025 10:20:09 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:20:09 UTC] getStablePrices found 0 results
[10-Oct-2025 10:20:09 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[10-Oct-2025 10:20:09 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:20:09 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:20:09 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:20:09 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[10-Oct-2025 10:20:09 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:20:09 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:20:09 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:20:09 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[10-Oct-2025 10:20:09 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:20:09 UTC] getStablePrices found 0 results
[10-Oct-2025 10:20:09 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[10-Oct-2025 10:20:09 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:20:09 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:20:09 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:20:09 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[10-Oct-2025 10:20:09 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:20:09 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:20:09 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:20:09 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[10-Oct-2025 10:20:09 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:20:09 UTC] getStablePrices found 0 results
[10-Oct-2025 10:20:09 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[10-Oct-2025 10:20:09 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:20:09 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:20:09 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:20:09 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[10-Oct-2025 10:20:09 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:20:09 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:20:09 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:20:09 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[10-Oct-2025 10:20:09 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:20:09 UTC] getStablePrices found 0 results
[10-Oct-2025 10:20:09 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[10-Oct-2025 10:20:09 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:20:09 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:20:09 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:20:09 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[10-Oct-2025 10:20:09 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:20:09 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:20:09 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:20:09 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[10-Oct-2025 10:20:09 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:20:09 UTC] getStablePrices found 0 results
[10-Oct-2025 10:20:09 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[10-Oct-2025 10:20:09 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:20:09 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:20:09 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:20:09 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[10-Oct-2025 10:20:09 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:20:09 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:20:09 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:20:09 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[10-Oct-2025 10:20:09 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:20:09 UTC] getStablePrices found 0 results
[10-Oct-2025 10:20:09 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[10-Oct-2025 10:20:09 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:20:09 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:20:09 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:20:09 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[10-Oct-2025 10:20:09 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:20:09 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:20:09 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:20:09 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[10-Oct-2025 10:20:09 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:20:09 UTC] getStablePrices found 0 results
[10-Oct-2025 10:20:09 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[10-Oct-2025 10:20:09 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:20:09 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:20:09 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:20:09 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[10-Oct-2025 10:20:09 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:20:09 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:20:09 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:20:09 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[10-Oct-2025 10:20:09 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:20:09 UTC] getStablePrices found 0 results
[10-Oct-2025 10:20:10 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[10-Oct-2025 10:20:10 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:20:10 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:20:10 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:20:10 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[10-Oct-2025 10:20:10 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:20:10 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:20:10 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:20:10 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[10-Oct-2025 10:20:10 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:20:10 UTC] getStablePrices found 0 results
[10-Oct-2025 10:20:10 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[10-Oct-2025 10:20:10 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:20:10 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:20:10 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:20:10 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[10-Oct-2025 10:20:10 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:20:10 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:20:10 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:20:10 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[10-Oct-2025 10:20:10 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:20:10 UTC] getStablePrices found 0 results
[10-Oct-2025 10:20:10 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[10-Oct-2025 10:20:10 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:20:10 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:20:10 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:20:10 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[10-Oct-2025 10:20:10 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:20:10 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:20:10 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:20:10 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[10-Oct-2025 10:20:10 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:20:10 UTC] getStablePrices found 0 results
[10-Oct-2025 10:20:10 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[10-Oct-2025 10:20:10 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:20:10 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:20:10 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:20:10 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[10-Oct-2025 10:20:10 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:20:10 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:20:10 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:20:10 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[10-Oct-2025 10:20:10 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:20:10 UTC] getStablePrices found 0 results
[10-Oct-2025 10:20:10 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[10-Oct-2025 10:20:10 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:20:10 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:20:10 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:20:10 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[10-Oct-2025 10:20:10 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:20:10 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:20:10 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:20:10 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[10-Oct-2025 10:20:10 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:20:10 UTC] getStablePrices found 0 results
[10-Oct-2025 10:20:10 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[10-Oct-2025 10:20:10 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:20:10 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:20:10 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:20:10 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[10-Oct-2025 10:20:10 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:20:10 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:20:10 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:20:10 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[10-Oct-2025 10:20:10 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:20:10 UTC] getStablePrices found 0 results
[10-Oct-2025 10:20:10 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[10-Oct-2025 10:20:10 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:20:10 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:20:10 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:20:10 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[10-Oct-2025 10:20:10 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:20:10 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:20:10 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:20:10 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[10-Oct-2025 10:20:10 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:20:10 UTC] getStablePrices found 0 results
[10-Oct-2025 10:20:10 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[10-Oct-2025 10:20:10 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:20:10 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:20:10 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:20:10 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[10-Oct-2025 10:20:10 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:20:10 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:20:10 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:20:10 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[10-Oct-2025 10:20:10 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:20:10 UTC] getStablePrices found 0 results
[10-Oct-2025 10:20:10 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[10-Oct-2025 10:20:10 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:20:10 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:20:10 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:20:10 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[10-Oct-2025 10:20:10 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:20:10 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:20:10 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:20:10 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[10-Oct-2025 10:20:10 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:20:10 UTC] getStablePrices found 0 results
[10-Oct-2025 10:20:10 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[10-Oct-2025 10:20:10 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:20:10 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:20:10 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:20:10 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[10-Oct-2025 10:20:10 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:20:10 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:20:10 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:20:10 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[10-Oct-2025 10:20:10 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:20:10 UTC] getStablePrices found 0 results
[10-Oct-2025 10:20:10 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[10-Oct-2025 10:20:10 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:20:10 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:20:10 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:20:10 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[10-Oct-2025 10:20:10 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:20:10 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:20:10 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:20:10 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[10-Oct-2025 10:20:10 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:20:10 UTC] getStablePrices found 0 results
[10-Oct-2025 10:20:10 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[10-Oct-2025 10:20:10 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:20:10 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:20:10 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:20:10 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[10-Oct-2025 10:20:10 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:20:10 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:20:10 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:20:10 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[10-Oct-2025 10:20:10 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:20:10 UTC] getStablePrices found 0 results
[10-Oct-2025 10:20:10 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[10-Oct-2025 10:20:10 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:20:10 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:20:10 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:20:10 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[10-Oct-2025 10:20:10 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:20:10 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:20:10 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:20:10 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[10-Oct-2025 10:20:10 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:20:10 UTC] getStablePrices found 0 results
[10-Oct-2025 10:20:10 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[10-Oct-2025 10:20:10 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:20:10 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:20:10 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:20:10 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[10-Oct-2025 10:20:10 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:20:10 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:20:10 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:20:10 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[10-Oct-2025 10:20:10 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:20:10 UTC] getStablePrices found 0 results
[10-Oct-2025 10:20:10 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[10-Oct-2025 10:20:10 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:20:10 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:20:10 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:20:10 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[10-Oct-2025 10:20:10 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:20:10 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:20:10 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:20:10 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[10-Oct-2025 10:20:10 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:20:10 UTC] getStablePrices found 0 results
[10-Oct-2025 10:20:10 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[10-Oct-2025 10:20:10 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:20:10 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:20:10 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:20:10 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[10-Oct-2025 10:20:10 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:20:10 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:20:10 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:20:10 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[10-Oct-2025 10:20:10 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:20:10 UTC] getStablePrices found 0 results
[10-Oct-2025 10:20:10 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[10-Oct-2025 10:20:10 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:20:10 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:20:10 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:20:10 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[10-Oct-2025 10:20:10 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:20:10 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:20:10 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:20:10 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[10-Oct-2025 10:20:10 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:20:10 UTC] getStablePrices found 0 results
[10-Oct-2025 10:20:10 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[10-Oct-2025 10:20:10 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:20:10 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:20:10 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:20:10 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[10-Oct-2025 10:20:10 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:20:10 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:20:10 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:20:10 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[10-Oct-2025 10:20:10 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:20:10 UTC] getStablePrices found 0 results
[10-Oct-2025 10:20:11 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[10-Oct-2025 10:20:11 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:20:11 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:20:11 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:20:11 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[10-Oct-2025 10:20:11 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:20:11 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:20:11 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:20:11 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[10-Oct-2025 10:20:11 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:20:11 UTC] getStablePrices found 0 results
[10-Oct-2025 10:20:11 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[10-Oct-2025 10:20:11 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:20:11 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:20:11 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:20:11 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[10-Oct-2025 10:20:11 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:20:11 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:20:11 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:20:11 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[10-Oct-2025 10:20:11 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:20:11 UTC] getStablePrices found 0 results
[10-Oct-2025 10:20:11 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[10-Oct-2025 10:20:11 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:20:11 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:20:11 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:20:11 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[10-Oct-2025 10:20:11 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:20:11 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:20:11 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:20:11 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[10-Oct-2025 10:20:11 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:20:11 UTC] getStablePrices found 0 results
[10-Oct-2025 10:20:11 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[10-Oct-2025 10:20:11 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:20:11 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:20:11 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:20:11 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[10-Oct-2025 10:20:11 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:20:11 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:20:11 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:20:11 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[10-Oct-2025 10:20:11 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:20:11 UTC] getStablePrices found 0 results
[10-Oct-2025 10:20:11 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[10-Oct-2025 10:20:11 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:20:11 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:20:11 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:20:11 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[10-Oct-2025 10:20:11 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:20:11 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:20:11 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:20:11 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[10-Oct-2025 10:20:11 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:20:11 UTC] getStablePrices found 0 results
[10-Oct-2025 10:20:38 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[10-Oct-2025 10:20:38 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:20:38 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:20:38 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:20:38 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[10-Oct-2025 10:20:38 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:20:38 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:20:38 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:20:38 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[10-Oct-2025 10:20:38 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:20:38 UTC] getStablePrices found 0 results
[10-Oct-2025 10:20:44 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[10-Oct-2025 10:20:44 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:20:44 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:20:44 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:20:44 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[10-Oct-2025 10:20:44 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:20:44 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:20:44 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:20:44 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[10-Oct-2025 10:20:44 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:20:44 UTC] getStablePrices found 0 results
[10-Oct-2025 10:20:44 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[10-Oct-2025 10:20:44 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:20:44 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:20:44 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:20:44 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[10-Oct-2025 10:20:44 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:20:44 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:20:44 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:20:44 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[10-Oct-2025 10:20:44 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:20:44 UTC] getStablePrices found 0 results
[10-Oct-2025 10:20:44 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[10-Oct-2025 10:20:44 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:20:44 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:20:44 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:20:44 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[10-Oct-2025 10:20:44 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:20:44 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:20:44 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:20:44 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[10-Oct-2025 10:20:44 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:20:44 UTC] getStablePrices found 0 results
[10-Oct-2025 10:20:44 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[10-Oct-2025 10:20:44 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:20:44 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:20:44 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:20:44 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[10-Oct-2025 10:20:44 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:20:44 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:20:44 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:20:44 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[10-Oct-2025 10:20:44 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:20:44 UTC] getStablePrices found 0 results
[10-Oct-2025 10:20:44 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[10-Oct-2025 10:20:44 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:20:44 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:20:44 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:20:44 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[10-Oct-2025 10:20:44 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:20:44 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:20:44 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:20:44 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[10-Oct-2025 10:20:44 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:20:44 UTC] getStablePrices found 0 results
[10-Oct-2025 10:20:44 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[10-Oct-2025 10:20:44 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:20:44 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:20:44 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:20:44 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[10-Oct-2025 10:20:44 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:20:44 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:20:44 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:20:44 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[10-Oct-2025 10:20:44 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:20:44 UTC] getStablePrices found 0 results
[10-Oct-2025 10:20:44 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[10-Oct-2025 10:20:44 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:20:44 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:20:44 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:20:44 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[10-Oct-2025 10:20:44 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:20:44 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:20:44 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:20:44 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[10-Oct-2025 10:20:44 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:20:44 UTC] getStablePrices found 0 results
[10-Oct-2025 10:20:44 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[10-Oct-2025 10:20:44 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:20:44 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:20:44 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:20:44 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[10-Oct-2025 10:20:44 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:20:44 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:20:44 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:20:44 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[10-Oct-2025 10:20:44 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:20:44 UTC] getStablePrices found 0 results
[10-Oct-2025 10:20:44 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[10-Oct-2025 10:20:44 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:20:44 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:20:44 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:20:44 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[10-Oct-2025 10:20:44 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:20:44 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:20:44 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:20:44 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[10-Oct-2025 10:20:44 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:20:44 UTC] getStablePrices found 0 results
[10-Oct-2025 10:20:44 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[10-Oct-2025 10:20:44 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:20:44 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:20:44 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:20:44 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[10-Oct-2025 10:20:44 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:20:44 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:20:44 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:20:44 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[10-Oct-2025 10:20:44 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:20:44 UTC] getStablePrices found 0 results
[10-Oct-2025 10:20:44 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[10-Oct-2025 10:20:44 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:20:44 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:20:44 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:20:44 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[10-Oct-2025 10:20:44 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:20:44 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:20:44 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:20:44 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[10-Oct-2025 10:20:44 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:20:44 UTC] getStablePrices found 0 results
[10-Oct-2025 10:20:44 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[10-Oct-2025 10:20:44 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:20:44 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:20:44 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:20:44 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[10-Oct-2025 10:20:44 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:20:44 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:20:44 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:20:45 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[10-Oct-2025 10:20:45 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:20:45 UTC] getStablePrices found 0 results
[10-Oct-2025 10:20:45 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[10-Oct-2025 10:20:45 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:20:45 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:20:45 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:20:45 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[10-Oct-2025 10:20:45 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:20:45 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:20:45 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:20:45 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[10-Oct-2025 10:20:45 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:20:45 UTC] getStablePrices found 0 results
[10-Oct-2025 10:20:45 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[10-Oct-2025 10:20:45 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:20:45 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:20:45 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:20:45 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[10-Oct-2025 10:20:45 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:20:45 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:20:45 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:20:45 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[10-Oct-2025 10:20:45 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:20:45 UTC] getStablePrices found 0 results
[10-Oct-2025 10:20:45 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[10-Oct-2025 10:20:45 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:20:45 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:20:45 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:20:45 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[10-Oct-2025 10:20:45 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:20:45 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:20:45 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:20:45 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[10-Oct-2025 10:20:45 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:20:45 UTC] getStablePrices found 0 results
[10-Oct-2025 10:20:45 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[10-Oct-2025 10:20:45 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:20:45 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:20:45 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:20:45 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[10-Oct-2025 10:20:45 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:20:45 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:20:45 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:20:45 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[10-Oct-2025 10:20:45 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:20:45 UTC] getStablePrices found 0 results
[10-Oct-2025 10:20:45 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[10-Oct-2025 10:20:45 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:20:45 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:20:45 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:20:45 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[10-Oct-2025 10:20:45 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:20:45 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:20:45 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:20:45 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[10-Oct-2025 10:20:45 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:20:45 UTC] getStablePrices found 0 results
[10-Oct-2025 10:20:45 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[10-Oct-2025 10:20:45 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:20:45 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:20:45 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:20:45 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[10-Oct-2025 10:20:45 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:20:45 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:20:45 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:20:45 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[10-Oct-2025 10:20:45 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:20:45 UTC] getStablePrices found 0 results
[10-Oct-2025 10:20:45 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[10-Oct-2025 10:20:45 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:20:45 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:20:45 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:20:45 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[10-Oct-2025 10:20:45 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:20:45 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:20:45 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:20:45 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[10-Oct-2025 10:20:45 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:20:45 UTC] getStablePrices found 0 results
[10-Oct-2025 10:20:45 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[10-Oct-2025 10:20:45 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:20:45 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:20:45 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:20:45 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[10-Oct-2025 10:20:45 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:20:45 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:20:45 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:20:45 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[10-Oct-2025 10:20:45 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:20:45 UTC] getStablePrices found 0 results
[10-Oct-2025 10:20:45 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[10-Oct-2025 10:20:45 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:20:45 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:20:45 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:20:45 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[10-Oct-2025 10:20:45 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:20:45 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:20:45 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:20:45 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[10-Oct-2025 10:20:45 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:20:45 UTC] getStablePrices found 0 results
[10-Oct-2025 10:20:45 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[10-Oct-2025 10:20:45 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:20:45 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:20:45 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:20:45 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[10-Oct-2025 10:20:45 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:20:45 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:20:45 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:20:45 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[10-Oct-2025 10:20:45 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:20:45 UTC] getStablePrices found 0 results
[10-Oct-2025 10:20:45 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[10-Oct-2025 10:20:45 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:20:45 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:20:45 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:20:45 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[10-Oct-2025 10:20:45 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:20:45 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:20:45 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:20:45 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[10-Oct-2025 10:20:45 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:20:45 UTC] getStablePrices found 0 results
[10-Oct-2025 10:20:45 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[10-Oct-2025 10:20:45 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:20:45 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:20:45 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:20:45 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[10-Oct-2025 10:20:45 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:20:45 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:20:45 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:20:45 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[10-Oct-2025 10:20:45 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:20:45 UTC] getStablePrices found 0 results
[10-Oct-2025 10:20:45 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[10-Oct-2025 10:20:45 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:20:45 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:20:45 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:20:45 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[10-Oct-2025 10:20:45 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:20:45 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:20:45 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:20:45 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[10-Oct-2025 10:20:45 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:20:45 UTC] getStablePrices found 0 results
[10-Oct-2025 10:20:45 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[10-Oct-2025 10:20:45 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:20:45 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:20:45 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:20:45 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[10-Oct-2025 10:20:45 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:20:45 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:20:45 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:20:45 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[10-Oct-2025 10:20:45 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:20:45 UTC] getStablePrices found 0 results
[10-Oct-2025 10:20:45 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[10-Oct-2025 10:20:45 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:20:45 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:20:45 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:20:45 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[10-Oct-2025 10:20:45 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:20:45 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:20:45 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:20:45 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[10-Oct-2025 10:20:45 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:20:45 UTC] getStablePrices found 0 results
[10-Oct-2025 10:20:45 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[10-Oct-2025 10:20:45 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:20:45 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:20:45 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:20:45 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[10-Oct-2025 10:20:45 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:20:45 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:20:45 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:20:45 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[10-Oct-2025 10:20:45 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:20:45 UTC] getStablePrices found 0 results
[10-Oct-2025 10:20:46 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[10-Oct-2025 10:20:46 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:20:46 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:20:46 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:20:46 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[10-Oct-2025 10:20:46 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:20:46 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:20:46 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:20:46 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[10-Oct-2025 10:20:46 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:20:46 UTC] getStablePrices found 0 results
[10-Oct-2025 10:20:46 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[10-Oct-2025 10:20:46 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:20:46 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:20:46 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:20:46 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[10-Oct-2025 10:20:46 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:20:46 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:20:46 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:20:46 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[10-Oct-2025 10:20:46 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:20:46 UTC] getStablePrices found 0 results
[10-Oct-2025 10:20:46 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[10-Oct-2025 10:20:46 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:20:46 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:20:46 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:20:46 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[10-Oct-2025 10:20:46 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:20:46 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:20:46 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:20:46 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[10-Oct-2025 10:20:46 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:20:46 UTC] getStablePrices found 0 results
[10-Oct-2025 10:20:46 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[10-Oct-2025 10:20:46 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:20:46 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:20:46 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:20:46 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[10-Oct-2025 10:20:46 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:20:46 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:20:46 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:20:46 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[10-Oct-2025 10:20:46 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:20:46 UTC] getStablePrices found 0 results
[10-Oct-2025 10:20:46 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[10-Oct-2025 10:20:46 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:20:46 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:20:46 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:20:46 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[10-Oct-2025 10:20:46 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:20:46 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:20:46 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:20:46 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[10-Oct-2025 10:20:46 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:20:46 UTC] getStablePrices found 0 results
[10-Oct-2025 10:20:46 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[10-Oct-2025 10:20:46 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:20:46 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:20:46 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:20:46 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[10-Oct-2025 10:20:46 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:20:46 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:20:46 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:20:46 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[10-Oct-2025 10:20:46 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:20:46 UTC] getStablePrices found 0 results
[10-Oct-2025 10:20:46 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[10-Oct-2025 10:20:46 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:20:46 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:20:46 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:20:46 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[10-Oct-2025 10:20:46 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:20:46 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:20:46 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:20:46 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[10-Oct-2025 10:20:46 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:20:46 UTC] getStablePrices found 0 results
[10-Oct-2025 10:20:46 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[10-Oct-2025 10:20:46 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:20:46 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:20:46 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:20:46 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[10-Oct-2025 10:20:46 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:20:46 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:20:46 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:20:46 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[10-Oct-2025 10:20:46 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:20:46 UTC] getStablePrices found 0 results
[10-Oct-2025 10:20:46 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[10-Oct-2025 10:20:46 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:20:46 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:20:46 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:20:46 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[10-Oct-2025 10:20:46 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:20:46 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:20:46 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:20:46 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[10-Oct-2025 10:20:46 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:20:46 UTC] getStablePrices found 0 results
[10-Oct-2025 10:20:46 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[10-Oct-2025 10:20:46 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:20:46 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:20:46 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:20:46 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[10-Oct-2025 10:20:46 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:20:46 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:20:46 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:20:46 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[10-Oct-2025 10:20:46 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:20:46 UTC] getStablePrices found 0 results
[10-Oct-2025 10:20:46 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[10-Oct-2025 10:20:46 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:20:46 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:20:46 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:20:46 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[10-Oct-2025 10:20:46 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:20:46 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:20:46 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:20:46 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[10-Oct-2025 10:20:46 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:20:46 UTC] getStablePrices found 0 results
[10-Oct-2025 10:20:46 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[10-Oct-2025 10:20:46 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:20:46 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:20:46 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:20:46 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[10-Oct-2025 10:20:46 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:20:46 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:20:46 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:20:46 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[10-Oct-2025 10:20:46 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:20:46 UTC] getStablePrices found 0 results
[10-Oct-2025 10:20:46 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[10-Oct-2025 10:20:46 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:20:46 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:20:46 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:20:46 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[10-Oct-2025 10:20:46 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:20:46 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:20:46 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:20:46 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[10-Oct-2025 10:20:46 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:20:46 UTC] getStablePrices found 0 results
[10-Oct-2025 10:20:46 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[10-Oct-2025 10:20:46 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:20:46 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:20:46 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:20:46 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[10-Oct-2025 10:20:46 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:20:46 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:20:46 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:20:46 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[10-Oct-2025 10:20:46 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:20:46 UTC] getStablePrices found 0 results
[10-Oct-2025 10:20:46 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[10-Oct-2025 10:20:46 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:20:46 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:20:46 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:20:46 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[10-Oct-2025 10:20:46 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:20:46 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:20:46 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:20:46 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[10-Oct-2025 10:20:46 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:20:46 UTC] getStablePrices found 0 results
[10-Oct-2025 10:20:46 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[10-Oct-2025 10:20:46 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:20:46 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:20:46 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:20:46 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[10-Oct-2025 10:20:46 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:20:46 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:20:46 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:20:46 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[10-Oct-2025 10:20:46 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:20:46 UTC] getStablePrices found 0 results
[10-Oct-2025 10:20:47 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[10-Oct-2025 10:20:47 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:20:47 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:20:47 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:20:47 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[10-Oct-2025 10:20:47 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:20:47 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:20:47 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:20:47 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[10-Oct-2025 10:20:47 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:20:47 UTC] getStablePrices found 0 results
[10-Oct-2025 10:21:05 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[10-Oct-2025 10:21:05 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:21:05 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:21:05 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:21:05 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[10-Oct-2025 10:21:05 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:21:05 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:21:05 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:21:05 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[10-Oct-2025 10:21:05 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:21:05 UTC] getStablePrices found 0 results
[10-Oct-2025 10:21:55 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[10-Oct-2025 10:21:55 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:21:55 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:21:55 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:21:55 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[10-Oct-2025 10:21:55 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:21:55 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:21:55 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:21:55 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[10-Oct-2025 10:21:55 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:21:55 UTC] getStablePrices found 0 results
[10-Oct-2025 10:21:55 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[10-Oct-2025 10:21:55 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:21:55 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:21:55 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:21:55 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[10-Oct-2025 10:21:55 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:21:55 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:21:55 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:21:55 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[10-Oct-2025 10:21:55 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:21:55 UTC] getStablePrices found 0 results
[10-Oct-2025 10:21:55 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[10-Oct-2025 10:21:55 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:21:55 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:21:55 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:21:55 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[10-Oct-2025 10:21:55 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:21:55 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:21:55 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:21:55 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[10-Oct-2025 10:21:55 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:21:55 UTC] getStablePrices found 0 results
[10-Oct-2025 10:21:55 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[10-Oct-2025 10:21:55 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:21:55 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:21:55 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:21:55 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[10-Oct-2025 10:21:55 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:21:55 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:21:55 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:21:55 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[10-Oct-2025 10:21:55 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:21:55 UTC] getStablePrices found 0 results
[10-Oct-2025 10:21:55 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[10-Oct-2025 10:21:55 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:21:55 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:21:55 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:21:55 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[10-Oct-2025 10:21:55 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:21:55 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:21:55 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:21:55 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[10-Oct-2025 10:21:55 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:21:55 UTC] getStablePrices found 0 results
[10-Oct-2025 10:21:55 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[10-Oct-2025 10:21:55 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:21:55 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:21:55 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:21:55 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[10-Oct-2025 10:21:55 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:21:55 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:21:55 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:21:55 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[10-Oct-2025 10:21:55 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:21:55 UTC] getStablePrices found 0 results
[10-Oct-2025 10:21:56 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[10-Oct-2025 10:21:56 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:21:56 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:21:56 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:21:56 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[10-Oct-2025 10:21:56 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:21:56 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:21:56 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:21:56 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[10-Oct-2025 10:21:56 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:21:56 UTC] getStablePrices found 0 results
[10-Oct-2025 10:21:56 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[10-Oct-2025 10:21:56 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:21:56 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:21:56 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:21:56 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[10-Oct-2025 10:21:56 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:21:56 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:21:56 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:21:56 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[10-Oct-2025 10:21:56 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:21:56 UTC] getStablePrices found 0 results
[10-Oct-2025 10:21:56 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[10-Oct-2025 10:21:56 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:21:56 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:21:56 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:21:56 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[10-Oct-2025 10:21:56 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:21:56 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:21:56 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:21:56 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[10-Oct-2025 10:21:56 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:21:56 UTC] getStablePrices found 0 results
[10-Oct-2025 10:21:56 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[10-Oct-2025 10:21:56 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:21:56 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:21:56 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:21:56 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[10-Oct-2025 10:21:56 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:21:56 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:21:56 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:21:56 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[10-Oct-2025 10:21:56 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:21:56 UTC] getStablePrices found 0 results
[10-Oct-2025 10:21:56 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[10-Oct-2025 10:21:56 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:21:56 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:21:56 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:21:56 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[10-Oct-2025 10:21:56 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:21:56 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:21:56 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:21:56 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[10-Oct-2025 10:21:56 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:21:56 UTC] getStablePrices found 0 results
[10-Oct-2025 10:21:56 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[10-Oct-2025 10:21:56 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:21:56 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:21:56 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:21:56 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[10-Oct-2025 10:21:56 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:21:56 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:21:56 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:21:56 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[10-Oct-2025 10:21:56 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:21:56 UTC] getStablePrices found 0 results
[10-Oct-2025 10:21:56 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[10-Oct-2025 10:21:56 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:21:56 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:21:56 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:21:56 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[10-Oct-2025 10:21:56 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:21:56 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:21:56 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:21:56 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[10-Oct-2025 10:21:56 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:21:56 UTC] getStablePrices found 0 results
[10-Oct-2025 10:21:56 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[10-Oct-2025 10:21:56 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:21:56 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:21:56 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:21:56 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[10-Oct-2025 10:21:56 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:21:56 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:21:56 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:21:56 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[10-Oct-2025 10:21:56 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:21:56 UTC] getStablePrices found 0 results
[10-Oct-2025 10:21:56 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[10-Oct-2025 10:21:56 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:21:56 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:21:56 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:21:56 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[10-Oct-2025 10:21:56 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:21:56 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:21:56 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:21:56 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[10-Oct-2025 10:21:56 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:21:56 UTC] getStablePrices found 0 results
[10-Oct-2025 10:21:56 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[10-Oct-2025 10:21:56 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:21:56 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:21:56 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:21:56 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[10-Oct-2025 10:21:56 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:21:56 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:21:56 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:21:56 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[10-Oct-2025 10:21:56 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:21:56 UTC] getStablePrices found 0 results
[10-Oct-2025 10:21:56 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[10-Oct-2025 10:21:56 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:21:56 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:21:56 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:21:56 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[10-Oct-2025 10:21:56 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:21:56 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:21:56 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:21:56 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[10-Oct-2025 10:21:56 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:21:56 UTC] getStablePrices found 0 results
[10-Oct-2025 10:21:56 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[10-Oct-2025 10:21:56 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:21:56 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:21:56 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:21:56 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[10-Oct-2025 10:21:56 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:21:56 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:21:56 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:21:56 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[10-Oct-2025 10:21:56 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:21:56 UTC] getStablePrices found 0 results
[10-Oct-2025 10:21:56 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[10-Oct-2025 10:21:56 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:21:56 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:21:56 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:21:56 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[10-Oct-2025 10:21:56 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:21:56 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:21:56 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:21:56 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[10-Oct-2025 10:21:56 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:21:56 UTC] getStablePrices found 0 results
[10-Oct-2025 10:21:56 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[10-Oct-2025 10:21:56 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:21:56 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:21:56 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:21:56 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[10-Oct-2025 10:21:56 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:21:56 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:21:56 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:21:56 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[10-Oct-2025 10:21:56 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:21:56 UTC] getStablePrices found 0 results
[10-Oct-2025 10:21:56 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[10-Oct-2025 10:21:56 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:21:56 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:21:56 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:21:56 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[10-Oct-2025 10:21:56 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:21:56 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:21:56 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:21:56 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[10-Oct-2025 10:21:56 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:21:56 UTC] getStablePrices found 0 results
[10-Oct-2025 10:21:56 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[10-Oct-2025 10:21:56 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:21:56 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:21:56 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:21:56 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[10-Oct-2025 10:21:56 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:21:56 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:21:56 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:21:56 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[10-Oct-2025 10:21:56 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:21:56 UTC] getStablePrices found 0 results
[10-Oct-2025 10:21:56 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[10-Oct-2025 10:21:56 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:21:56 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:21:56 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:21:56 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[10-Oct-2025 10:21:56 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:21:56 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:21:56 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:21:56 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[10-Oct-2025 10:21:56 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:21:56 UTC] getStablePrices found 0 results
[10-Oct-2025 10:21:56 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[10-Oct-2025 10:21:56 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:21:56 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:21:56 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:21:56 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[10-Oct-2025 10:21:56 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:21:56 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:21:56 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:21:56 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[10-Oct-2025 10:21:56 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:21:57 UTC] getStablePrices found 0 results
[10-Oct-2025 10:21:57 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[10-Oct-2025 10:21:57 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:21:57 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:21:57 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:21:57 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[10-Oct-2025 10:21:57 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:21:57 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:21:57 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:21:57 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[10-Oct-2025 10:21:57 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:21:57 UTC] getStablePrices found 0 results
[10-Oct-2025 10:21:57 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[10-Oct-2025 10:21:57 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:21:57 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:21:57 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:21:57 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[10-Oct-2025 10:21:57 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:21:57 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:21:57 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:21:57 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[10-Oct-2025 10:21:57 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:21:57 UTC] getStablePrices found 0 results
[10-Oct-2025 10:21:57 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[10-Oct-2025 10:21:57 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:21:57 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:21:57 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:21:57 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[10-Oct-2025 10:21:57 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:21:57 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:21:57 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:21:57 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[10-Oct-2025 10:21:57 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:21:57 UTC] getStablePrices found 0 results
[10-Oct-2025 10:21:57 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[10-Oct-2025 10:21:57 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:21:57 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:21:57 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:21:57 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[10-Oct-2025 10:21:57 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:21:57 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:21:57 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:21:57 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[10-Oct-2025 10:21:57 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:21:57 UTC] getStablePrices found 0 results
[10-Oct-2025 10:21:57 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[10-Oct-2025 10:21:57 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:21:57 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:21:57 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:21:57 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[10-Oct-2025 10:21:57 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:21:57 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:21:57 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:21:57 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[10-Oct-2025 10:21:57 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:21:57 UTC] getStablePrices found 0 results
[10-Oct-2025 10:21:57 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[10-Oct-2025 10:21:57 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:21:57 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:21:57 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:21:57 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[10-Oct-2025 10:21:57 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:21:57 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:21:57 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:21:57 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[10-Oct-2025 10:21:57 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:21:57 UTC] getStablePrices found 0 results
[10-Oct-2025 10:21:57 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[10-Oct-2025 10:21:57 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:21:57 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:21:57 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:21:57 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[10-Oct-2025 10:21:57 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:21:57 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:21:57 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:21:57 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[10-Oct-2025 10:21:57 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:21:57 UTC] getStablePrices found 0 results
[10-Oct-2025 10:21:57 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[10-Oct-2025 10:21:57 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:21:57 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:21:57 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:21:57 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[10-Oct-2025 10:21:57 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:21:57 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:21:57 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:21:57 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[10-Oct-2025 10:21:57 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:21:57 UTC] getStablePrices found 0 results
[10-Oct-2025 10:21:57 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[10-Oct-2025 10:21:57 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:21:57 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:21:57 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:21:57 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[10-Oct-2025 10:21:57 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:21:57 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:21:57 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:21:57 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[10-Oct-2025 10:21:57 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:21:57 UTC] getStablePrices found 0 results
[10-Oct-2025 10:21:57 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[10-Oct-2025 10:21:57 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:21:57 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:21:57 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:21:57 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[10-Oct-2025 10:21:57 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:21:57 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:21:57 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:21:57 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[10-Oct-2025 10:21:57 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:21:57 UTC] getStablePrices found 0 results
[10-Oct-2025 10:21:57 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[10-Oct-2025 10:21:57 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:21:57 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:21:57 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:21:57 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[10-Oct-2025 10:21:57 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:21:57 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:21:57 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:21:57 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[10-Oct-2025 10:21:57 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:21:57 UTC] getStablePrices found 0 results
[10-Oct-2025 10:21:57 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[10-Oct-2025 10:21:57 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:21:57 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:21:57 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:21:57 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[10-Oct-2025 10:21:57 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:21:57 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:21:57 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:21:57 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[10-Oct-2025 10:21:57 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:21:57 UTC] getStablePrices found 0 results
[10-Oct-2025 10:21:57 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[10-Oct-2025 10:21:57 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:21:57 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:21:57 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:21:57 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[10-Oct-2025 10:21:57 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:21:57 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:21:57 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:21:57 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[10-Oct-2025 10:21:57 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:21:57 UTC] getStablePrices found 0 results
[10-Oct-2025 10:21:57 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[10-Oct-2025 10:21:57 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:21:57 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:21:57 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:21:57 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[10-Oct-2025 10:21:57 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:21:57 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:21:57 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:21:57 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[10-Oct-2025 10:21:57 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:21:57 UTC] getStablePrices found 0 results
[10-Oct-2025 10:21:57 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[10-Oct-2025 10:21:57 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:21:57 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:21:57 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:21:57 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[10-Oct-2025 10:21:57 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:21:57 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:21:57 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:21:57 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[10-Oct-2025 10:21:57 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:21:57 UTC] getStablePrices found 0 results
[10-Oct-2025 10:21:58 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[10-Oct-2025 10:21:58 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:21:58 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:21:58 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:21:58 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[10-Oct-2025 10:21:58 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:21:58 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:21:58 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:21:58 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[10-Oct-2025 10:21:58 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:21:58 UTC] getStablePrices found 0 results
[10-Oct-2025 10:21:58 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[10-Oct-2025 10:21:58 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:21:58 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:21:58 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:21:58 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[10-Oct-2025 10:21:58 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:21:58 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:21:58 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:21:58 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[10-Oct-2025 10:21:58 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:21:58 UTC] getStablePrices found 0 results
[10-Oct-2025 10:21:58 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[10-Oct-2025 10:21:58 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:21:58 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:21:58 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:21:58 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[10-Oct-2025 10:21:58 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:21:58 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:21:58 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:21:58 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[10-Oct-2025 10:21:58 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:21:58 UTC] getStablePrices found 0 results
[10-Oct-2025 10:21:58 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[10-Oct-2025 10:21:58 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:21:58 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:21:58 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:21:58 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[10-Oct-2025 10:21:58 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:21:58 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:21:58 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:21:58 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[10-Oct-2025 10:21:58 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:21:58 UTC] getStablePrices found 0 results
[10-Oct-2025 10:21:58 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[10-Oct-2025 10:21:58 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:21:58 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:21:58 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:21:58 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[10-Oct-2025 10:21:58 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:21:58 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:21:58 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:21:58 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[10-Oct-2025 10:21:58 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:21:58 UTC] getStablePrices found 0 results
[10-Oct-2025 10:21:58 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[10-Oct-2025 10:21:58 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:21:58 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:21:58 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:21:58 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[10-Oct-2025 10:21:58 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:21:58 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:21:58 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:21:58 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[10-Oct-2025 10:21:58 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:21:58 UTC] getStablePrices found 0 results
[10-Oct-2025 10:22:00 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[10-Oct-2025 10:22:00 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:22:00 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:22:00 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:22:00 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[10-Oct-2025 10:22:00 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:22:00 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:22:00 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:22:00 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[10-Oct-2025 10:22:00 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:22:00 UTC] getStablePrices found 0 results
[10-Oct-2025 10:25:16 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[10-Oct-2025 10:25:16 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:25:16 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:25:16 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:25:16 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[10-Oct-2025 10:25:16 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:25:16 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:25:16 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:25:16 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[10-Oct-2025 10:25:16 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:25:16 UTC] getStablePrices found 0 results
[10-Oct-2025 10:25:45 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[10-Oct-2025 10:25:45 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:25:45 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:25:45 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:25:45 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[10-Oct-2025 10:25:45 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:25:45 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:25:45 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:25:45 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[10-Oct-2025 10:25:45 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:25:45 UTC] getStablePrices found 0 results
[10-Oct-2025 10:27:32 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[10-Oct-2025 10:27:32 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:27:32 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:27:32 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:27:32 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[10-Oct-2025 10:27:32 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:27:32 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:27:32 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:27:32 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[10-Oct-2025 10:27:32 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:27:32 UTC] getStablePrices found 0 results
[10-Oct-2025 10:29:15 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[10-Oct-2025 10:29:15 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:29:15 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:29:15 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:29:15 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[10-Oct-2025 10:29:15 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:29:15 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:29:15 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:29:15 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[10-Oct-2025 10:29:15 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:29:15 UTC] getStablePrices found 0 results
[10-Oct-2025 10:35:36 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[10-Oct-2025 10:35:36 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:35:36 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:35:36 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:35:36 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[10-Oct-2025 10:35:36 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:35:36 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:35:36 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:35:36 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[10-Oct-2025 10:35:36 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:35:36 UTC] getStablePrices found 0 results
[10-Oct-2025 10:43:14 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[10-Oct-2025 10:43:14 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:43:14 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:43:14 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:43:14 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[10-Oct-2025 10:43:14 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:43:14 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:43:14 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:43:14 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[10-Oct-2025 10:43:14 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:43:14 UTC] getStablePrices found 0 results
[10-Oct-2025 10:43:30 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[10-Oct-2025 10:43:30 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:43:30 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:43:30 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:43:30 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[10-Oct-2025 10:43:30 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:43:30 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:43:30 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:43:30 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[10-Oct-2025 10:43:30 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:43:30 UTC] getStablePrices found 0 results
[10-Oct-2025 10:43:58 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[10-Oct-2025 10:43:58 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:43:58 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:43:58 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:43:58 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[10-Oct-2025 10:43:58 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:43:58 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:43:58 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:43:58 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[10-Oct-2025 10:43:58 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:43:58 UTC] getStablePrices found 0 results
[10-Oct-2025 10:45:29 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[10-Oct-2025 10:45:29 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:45:29 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:45:29 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:45:29 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[10-Oct-2025 10:45:29 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:45:29 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:45:29 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:45:29 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[10-Oct-2025 10:45:29 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:45:29 UTC] getStablePrices found 0 results
[10-Oct-2025 10:45:51 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[10-Oct-2025 10:45:51 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:45:51 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:45:51 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:45:51 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[10-Oct-2025 10:45:51 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:45:51 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:45:51 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:45:51 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[10-Oct-2025 10:45:51 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:45:51 UTC] getStablePrices found 0 results
[10-Oct-2025 10:46:50 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[10-Oct-2025 10:46:50 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:46:50 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:46:50 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:46:50 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[10-Oct-2025 10:46:50 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:46:50 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:46:50 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:46:50 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[10-Oct-2025 10:46:50 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:46:50 UTC] getStablePrices found 0 results
[10-Oct-2025 10:48:19 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[10-Oct-2025 10:48:19 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:48:19 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:48:19 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 10:48:19 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[10-Oct-2025 10:48:19 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:48:19 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:48:19 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 10:48:19 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[10-Oct-2025 10:48:19 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 10:48:19 UTC] getStablePrices found 0 results
[10-Oct-2025 16:39:53 UTC] getTopIncreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg > 0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg DESC
                    LIMIT :limit
[10-Oct-2025 16:39:53 UTC] getTopIncreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 16:39:53 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 16:39:53 UTC] Error getting top increasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'field list'
[10-Oct-2025 16:39:53 UTC] getTopDecreasingPrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit, c.image
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND (current_avg - previous_avg) / previous_avg < -0.01
                    ORDER BY (current_avg - previous_avg) / previous_avg ASC
                    LIMIT :limit
[10-Oct-2025 16:39:53 UTC] getTopDecreasingPrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 16:39:53 UTC] Database error in Price::query: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 16:39:53 UTC] Error getting top decreasing prices: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'c.image' in 'group statement'
[10-Oct-2025 16:39:53 UTC] getStablePrices SQL: SELECT 
                        c.id, c.name AS commodity_name, c.unit, c.image_path as image,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :current_days DAY) THEN p.price END) as current_avg,
                        AVG(CASE WHEN p.created_at >= DATE_SUB(NOW(), INTERVAL :prev_end_day DAY) 
                                AND p.created_at < DATE_SUB(NOW(), INTERVAL :prev_start_day DAY) THEN p.price END) as previous_avg,
                        COUNT(*) as data_count
                    FROM prices p
                    JOIN commodities c ON p.commodity_id = c.id
                    WHERE p.status = 'approved' 
                    AND p.created_at >= DATE_SUB(NOW(), INTERVAL :total_days DAY)
                    GROUP BY c.id, c.name, c.unit
                    HAVING current_avg IS NOT NULL 
                    AND previous_avg IS NOT NULL
                    AND previous_avg > 0
                    AND ABS((current_avg - previous_avg) / previous_avg) <= 0.01
                    ORDER BY ABS((current_avg - previous_avg) / previous_avg) ASC
                    LIMIT :limit
[10-Oct-2025 16:39:53 UTC] getStablePrices Params: Array
(
    [:current_days] => 7
    [:prev_start_day] => 7
    [:prev_end_day] => 14
    [:total_days] => 14
    [:limit] => 5
)

[10-Oct-2025 16:39:53 UTC] getStablePrices found 0 results
